export class ProductLuca {
    constructor() {
        this.images = [];
        this.variants = [];
    }
    setImg(img) {
        this.mainImage = img;
    }
    setVariant(variant) {
        this.variants.push(variant);
    }
    /**
     * Aggiunge una variante di un prodotto
     * @param variant la variante da aggiungere
     * @param quantity la quantita da aggiungere
     * Se la variante esiste già, ne incrementa la quantita, altrimenti aggiunge una nuova variante
     */
    addVariant(variant, quantity) {
        console.log("adding this quantity: " + quantity);
        if (this.containsVariant(variant)) {
            let index = this.variants.findIndex(p => p.getId() == variant.getId());
            console.log("items available in the inventory =  " + this.variants[index].getInventory());
            console.log("adding this quantity: " + (this.variants[index].getSelected() + quantity));
            this.variants[index].addSelected(quantity);
            console.log("ok");
            return;
        }
        else {
            variant.setSelected(quantity);
            this.variants.push(variant);
        }
    }
    addVariantNoQuantity(variant) {
        this.variants.push(variant);
    }
    removeVariant(variant) {
        let index = this.variants.findIndex(product => product.getId() == variant.getId());
        this.variants.splice(index, 1);
    }
    getVariant(variant) {
        let index = this.variants.findIndex(product => product.getId() == variant.getId());
        return this.variants[index];
    }
    getVariantBySize(size) {
        let index = this.variants.findIndex(product => product.getSize() === size);
        return this.variants[index];
    }
    getVariants() {
        return this.variants;
    }
    getId() {
        return this.id;
    }
    getName() {
        return this.name;
    }
    getJson() {
        return JSON.stringify(this);
    }
    getPricec() {
        return this.price;
    }
    setId(id) {
        this.id = id;
    }
    setDiscount(discount) {
        this.discount = discount;
    }
    setPrice(price) {
        this.price = price;
    }
    setTheMainImage(mainImage) {
        this.mainImage = mainImage;
    }
    getMainImage() {
        return this.mainImage;
    }
    addImage(image) {
        this.images.push(image);
    }
    setName(name) {
        this.name = name;
    }
    /**
     * metodo che controlla la presenza o meno di una variante
     * @param productVariant variante da controllare
     * @returns restituisce true se la variant è gia presente nel prodotto, false altrimenti
     */
    containsVariant(productVariant) {
        let contains = false;
        //  console.log("product = " + this.getJson());
        this.variants.forEach(element => {
            if (element.getId().match(productVariant.getId()) != null) {
                contains = true;
                return;
            }
        });
        return contains;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvZHVjdEx1Y2EuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL3VzZXJzL3NyYy9saWIvbW9kZWxzL1Byb2R1Y3RMdWNhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxXQUFXO0lBY3BCO1FBR0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFFdkIsQ0FBQztJQUdNLE1BQU0sQ0FBQyxHQUFRO1FBQ2xCLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO0lBQ3pCLENBQUM7SUFHTSxVQUFVLENBQUMsT0FBdUI7UUFDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUNEOzs7OztPQUtHO0lBR0ksVUFBVSxDQUFDLE9BQXVCLEVBQUUsUUFBZ0I7UUFDdkQsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsR0FBRyxRQUFRLENBQUMsQ0FBQztRQUVqRCxJQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLEVBQUM7WUFDL0IsSUFBSSxLQUFLLEdBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDeEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQ0FBc0MsR0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7WUFDNUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUN4RixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBRSxRQUFRLENBQUMsQ0FBQztZQUM1QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLE9BQU87U0FDUjthQUFJO1lBQ0wsT0FBTyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM5QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUMzQjtJQUNMLENBQUM7SUFHTSxvQkFBb0IsQ0FBQyxPQUF1QjtRQUUvQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0sYUFBYSxDQUFDLE9BQXVCO1FBQzFDLElBQUksS0FBSyxHQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0sVUFBVSxDQUFDLE9BQXVCO1FBQ3JDLElBQUksS0FBSyxHQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ3BGLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBS00sZ0JBQWdCLENBQUMsSUFBUTtRQUM1QixJQUFJLEtBQUssR0FBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQztRQUM1RSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVNLFdBQVc7UUFDZCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUVNLEtBQUs7UUFDUixPQUFPLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVNLE9BQU87UUFDVixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVNLE9BQU87UUFDVixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVNLFNBQVM7UUFDWixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUdNLEtBQUssQ0FBQyxFQUFTO1FBQ2xCLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFDTSxXQUFXLENBQUMsUUFBZTtRQUM5QixJQUFJLENBQUMsUUFBUSxHQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBQ00sUUFBUSxDQUFDLEtBQVk7UUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBQyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUNNLGVBQWUsQ0FBQyxTQUFnQjtRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBQ00sWUFBWTtRQUNmLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBQ00sUUFBUSxDQUFDLEtBQVk7UUFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUNNLE9BQU8sQ0FBQyxJQUFXO1FBQ3RCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksZUFBZSxDQUFDLGNBQThCO1FBQ2pELElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN2QiwrQ0FBK0M7UUFDN0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDNUIsSUFBRyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRTtnQkFDdEQsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDaEIsT0FBTzthQUNWO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLFFBQVEsQ0FBQztJQUNwQixDQUFDO0NBS0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9kdWN0VmFyaWFudCB9IGZyb20gXCIuL3Byb2R1Y3RWYXJpYW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvZHVjdEx1Y2F7XHJcblxyXG5cclxuICAgIHByaXZhdGUgbmFtZTpzdHJpbmc7XHJcbiAgICAvKippZCBkZWwgcHJvZG90dG8gKi9cclxuICAgIHByaXZhdGUgaWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgZGlzY291bnQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcHJpY2U6IG51bWJlcjtcclxuICAgIHB1YmxpYyBtYWluSW1hZ2UgOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGltYWdlcyA6IHN0cmluZ1tdO1xyXG4gICAgcHVibGljIHZhcmlhbnRzIDogUHJvZHVjdFZhcmlhbnRbXTtcclxuXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcblxyXG4gICAgIFxyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0gW107XHJcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xyXG5cclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyBzZXRJbWcoaW1nOiBhbnkpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5tYWluSW1hZ2UgPSBpbWc7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzZXRWYXJpYW50KHZhcmlhbnQ6IFByb2R1Y3RWYXJpYW50KTp2b2lke1xyXG4gICAgICAgIHRoaXMudmFyaWFudHMucHVzaCh2YXJpYW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWdnaXVuZ2UgdW5hIHZhcmlhbnRlIGRpIHVuIHByb2RvdHRvXHJcbiAgICAgKiBAcGFyYW0gdmFyaWFudCBsYSB2YXJpYW50ZSBkYSBhZ2dpdW5nZXJlXHJcbiAgICAgKiBAcGFyYW0gcXVhbnRpdHkgbGEgcXVhbnRpdGEgZGEgYWdnaXVuZ2VyZVxyXG4gICAgICogU2UgbGEgdmFyaWFudGUgZXNpc3RlIGdpw6AsIG5lIGluY3JlbWVudGEgbGEgcXVhbnRpdGEsIGFsdHJpbWVudGkgYWdnaXVuZ2UgdW5hIG51b3ZhIHZhcmlhbnRlXHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgcHVibGljIGFkZFZhcmlhbnQodmFyaWFudDogUHJvZHVjdFZhcmlhbnQsIHF1YW50aXR5OiBudW1iZXIpIDp2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFkZGluZyB0aGlzIHF1YW50aXR5OiBcIiArIHF1YW50aXR5KTtcclxuICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuY29udGFpbnNWYXJpYW50KHZhcmlhbnQpKXtcclxuICAgICAgICAgIGxldCBpbmRleCA9ICB0aGlzLnZhcmlhbnRzLmZpbmRJbmRleChwID0+IHAuZ2V0SWQoKSA9PSB2YXJpYW50LmdldElkKCkpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJpdGVtcyBhdmFpbGFibGUgaW4gdGhlIGludmVudG9yeSA9ICBcIiArICAgdGhpcy52YXJpYW50c1tpbmRleF0uZ2V0SW52ZW50b3J5KCkpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJhZGRpbmcgdGhpcyBxdWFudGl0eTogXCIgKyAodGhpcy52YXJpYW50c1tpbmRleF0uZ2V0U2VsZWN0ZWQoKSArIHF1YW50aXR5KSk7XHJcbiAgICAgICAgICB0aGlzLnZhcmlhbnRzW2luZGV4XS5hZGRTZWxlY3RlZCggcXVhbnRpdHkpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJva1wiKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICB2YXJpYW50LnNldFNlbGVjdGVkKHF1YW50aXR5KTtcclxuICAgICAgICB0aGlzLnZhcmlhbnRzLnB1c2godmFyaWFudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYWRkVmFyaWFudE5vUXVhbnRpdHkodmFyaWFudDogUHJvZHVjdFZhcmlhbnQpIDp2b2lkIHtcclxuICAgICBcclxuICAgICAgICB0aGlzLnZhcmlhbnRzLnB1c2godmFyaWFudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVZhcmlhbnQodmFyaWFudDogUHJvZHVjdFZhcmlhbnQpIDp2b2lkIHtcclxuICAgICAgbGV0IGluZGV4ID0gIHRoaXMudmFyaWFudHMuZmluZEluZGV4KHByb2R1Y3QgPT4gcHJvZHVjdC5nZXRJZCgpID09IHZhcmlhbnQuZ2V0SWQoKSk7XHJcbiAgICAgIHRoaXMudmFyaWFudHMuc3BsaWNlKGluZGV4LDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWYXJpYW50KHZhcmlhbnQ6IFByb2R1Y3RWYXJpYW50KSA6UHJvZHVjdFZhcmlhbnQge1xyXG4gICAgICAgIGxldCBpbmRleCA9ICB0aGlzLnZhcmlhbnRzLmZpbmRJbmRleChwcm9kdWN0ID0+IHByb2R1Y3QuZ2V0SWQoKSA9PSB2YXJpYW50LmdldElkKCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnRzW2luZGV4XTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0VmFyaWFudEJ5U2l6ZShzaXplOmFueSkgOlByb2R1Y3RWYXJpYW50IHtcclxuICAgICAgICBsZXQgaW5kZXggPSAgdGhpcy52YXJpYW50cy5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0LmdldFNpemUoKSA9PT0gc2l6ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudHNbaW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWYXJpYW50cygpIDpQcm9kdWN0VmFyaWFudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SWQoKSA6U3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TmFtZSgpIDpzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEpzb24oKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQcmljZWMoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpY2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzZXRJZChpZDpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXREaXNjb3VudChkaXNjb3VudDpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuZGlzY291bnQ9ZGlzY291bnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0UHJpY2UocHJpY2U6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnByaWNlPXByaWNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldFRoZU1haW5JbWFnZShtYWluSW1hZ2U6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLm1haW5JbWFnZSA9IG1haW5JbWFnZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRNYWluSW1hZ2UoKTpzdHJpbmd7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbkltYWdlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGFkZEltYWdlKGltYWdlOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5pbWFnZXMucHVzaChpbWFnZSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0TmFtZShuYW1lOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1ldG9kbyBjaGUgY29udHJvbGxhIGxhIHByZXNlbnphIG8gbWVubyBkaSB1bmEgdmFyaWFudGVcclxuICAgICAqIEBwYXJhbSBwcm9kdWN0VmFyaWFudCB2YXJpYW50ZSBkYSBjb250cm9sbGFyZVxyXG4gICAgICogQHJldHVybnMgcmVzdGl0dWlzY2UgdHJ1ZSBzZSBsYSB2YXJpYW50IMOoIGdpYSBwcmVzZW50ZSBuZWwgcHJvZG90dG8sIGZhbHNlIGFsdHJpbWVudGlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnRhaW5zVmFyaWFudChwcm9kdWN0VmFyaWFudDogUHJvZHVjdFZhcmlhbnQpOiBib29sZWFue1xyXG4gICAgICAgIGxldCBjb250YWlucyA9IGZhbHNlO1xyXG4gICAgICAvLyAgY29uc29sZS5sb2coXCJwcm9kdWN0ID0gXCIgKyB0aGlzLmdldEpzb24oKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBpZihlbGVtZW50LmdldElkKCkubWF0Y2gocHJvZHVjdFZhcmlhbnQuZ2V0SWQoKSkgIT0gbnVsbCApe1xyXG4gICAgICAgICAgICAgICAgY29udGFpbnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0pO1xyXG4gXHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zO1xyXG4gICAgfVxyXG4gXHJcblxyXG4gXHJcblxyXG59Il19