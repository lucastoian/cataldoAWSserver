import { Component, Input, ViewChild } from '@angular/core';
import { ActivatedRoute } from '@angular/router';
import { Paginator } from 'primeng/paginator';
import { Product123 } from '../../models/product123';
import { ProductsService } from '../../services/products.service';
import { BrandsService } from '../../services/brands.services';
import { Title, Meta } from "@angular/platform-browser";
import { MessageService } from 'primeng/api';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "../../services/products.service";
import * as i3 from "primeng/api";
import * as i4 from "@angular/platform-browser";
import * as i5 from "../../services/brands.services";
import * as i6 from "@angular/common";
import * as i7 from "@angular/forms";
import * as i8 from "primeng/messages";
import * as i9 from "primeng/multiselect";
import * as i10 from "primeng/paginator";
import * as i11 from "../../components/product-item/product-item.component";
const _c0 = ["paginator"];
function ProductsBrandsComponent_div_35_div_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 25);
    i0.ɵɵelement(1, "eshop-frontend-product-item", 26);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const product_r3 = ctx.$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("product", product_r3);
} }
function ProductsBrandsComponent_div_35_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 23);
    i0.ɵɵtemplate(1, ProductsBrandsComponent_div_35_div_1_Template, 2, 1, "div", 24);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngForOf", ctx_r0.productOnThisPage);
} }
function ProductsBrandsComponent_p_messages_36_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "img", 29);
    i0.ɵɵelementStart(1, "div", 30)(2, "p");
    i0.ɵɵtext(3, "Nessun risultato trovato.");
    i0.ɵɵelementEnd();
    i0.ɵɵelementStart(4, "p");
    i0.ɵɵtext(5, "Prova a modificare i filtri di ricerca");
    i0.ɵɵelementEnd()();
} }
function ProductsBrandsComponent_p_messages_36_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "p-messages", 27);
    i0.ɵɵtemplate(1, ProductsBrandsComponent_p_messages_36_ng_template_1_Template, 6, 0, "ng-template", 28);
    i0.ɵɵelementEnd();
} }
const _c1 = function () { return { "width": "100%" }; };
const _c2 = function () { return { "width": "400px" }; };
export class ProductsBrandsComponent {
    constructor(route, productsService, messageService, meta, titleService, brandService) {
        this.route = route;
        this.productsService = productsService;
        this.messageService = messageService;
        this.meta = meta;
        this.titleService = titleService;
        this.brandService = brandService;
        this.isChecked = false;
        this.binaryProp = true;
        this.products = [];
        this.productOnThisPage = [];
        this.wProds = [];
        this.filteredProducts = [];
        this.filtered = [];
        this.categories = [];
        this.currentBrand = { name: "luca", code: "ok" };
        this.first = 0;
        this.sex = "";
        this.brandMap = new Map();
        this.brandMap.set("6213c7889309de960180da4a", "Blauer");
        this.brandMap.set("6213c89e9309de960180da4d", "Old River");
        this.brandMap.set("62167bd1cba8a1e0d9c1af88", "Colmar");
        this.brandMap.set("62189efe1d62386cc22525b6", "EA7");
        this.brandMap.set("62189f1e1d62386cc22525b9", "Fred Perry");
        this.brandMap.set("62189f371d62386cc22525bc", "Kway");
        this.brandMap.set("62189f481d62386cc22525bf", "Lacoste");
        this.brandMap.set("62189f7d1d62386cc22525c2", "Murphy&nye");
        this.brandMap.set("62189f981d62386cc22525c5", "Peninsula");
        this.brandMap.set("62189fad1d62386cc22525c8", "Saucony");
        this.brandMap.set("62189fbb1d62386cc22525cb", "Sundek");
        this.brandMap.set("632e05f3b8c567de5ea83669", "Barbour");
        this.brandMap.set("636b57e2506ba65e593baa81", "Ciesse");
        this.brandMap.set("636b57f3506ba65e593baa84", "Husky");
        this.brandMap.set("husky fall", "636b57f3506ba65e593baa84");
        this.brandMap.set("636b5806506ba65e593baa87", "Canadiens");
        this.sesso = [{ name: 'Uomo', code: 'M' }, { name: 'Donna', code: 'F' }];
        this.categoria = [{ name: 'Camicie', code: 'camicie' }, { name: 'Cappotti', code: 'cappotti' }, { name: 'Polo', code: 'polo' }, { name: 'Giacche', code: 'giacche' }, { name: 'Pantaloni', code: 'pantaloni' }, { name: 'Felpe', code: 'felpe' }, { name: 'Maglioni', code: 'maglioni' }, { name: 'Gilet', code: 'gilet' }, { name: 'Sneakers', code: 'sneakers' }, { name: 'T-shirt', code: 't-shirt' }, { name: 'Giubbotti', code: 'giubbotti' }, { name: 'Cinture', code: 'cinture' }, { name: 'Scarpe', code: 'scarpe' }, { name: 'Jeans', code: 'jeans' },];
        this.brand = [{ name: 'Blauer', code: 'blauer' }, { name: 'Old River', code: 'old river' }, { name: 'Colmar', code: 'colmar' }, { name: 'EA7', code: 'ea7' }, { name: 'Kway', code: 'kway' }, { name: 'Lacoste', code: 'lacoste' }, { name: 'Barbour', code: 'barbour' }, { name: 'Ciesse', code: 'ciesse' }, { name: 'Husky', code: 'husky' }, { name: 'Canadiens', code: 'canadiens' }, { name: 'Saucony', code: 'saucony' }];
        this.taglia = [{ name: '37', code: '37' }, { name: '38', code: '38' }, { name: '39', code: '39' }, { name: '40', code: '40' }, { name: '41', code: '41' }, { name: '42', code: '42' }, { name: '43', code: '43' }, { name: '44', code: '44' }, { name: '45', code: '45' }, { name: '46', code: '46' }, { name: 'XXS', code: 'xxs' }, { name: 'XS', code: 'xs' }, { name: 'S', code: 's' }, { name: 'M', code: 'm' }, { name: 'L', code: 'l' }, { name: 'XL', code: 'xl' }, { name: 'XXL', code: 'xxl' }, { name: 'XXXL', code: 'xxxl' }];
        this.selectedSex = [];
        this.selectedBrand = [];
        this.url = this.route.url;
        this._urlSegment = this.url.value[0].path;
        console.log("url segment = " + this._urlSegment);
        this._retrieveId();
        this._getProdByBrand();
        this.currentBrand = { name: "luca", code: "ciao" };
        this.currentBrand.name = this.brandMap.get(this.currentId);
        this.titleService.setTitle(this.currentBrand.name + " collezione 2022/23 | disponibile su Cataldostore");
        this.meta.updateTag({ name: 'description', content: 'Spedizione e reso gratuiti | Scopri tutta la collezione ' + this.currentBrand.name + ' | Cataldostore prezzi scontati' });
        this.meta.updateTag({ property: 'og:title', content: this.currentBrand.name + " collezione 2022/23 | disponibile su Cataldostore" });
        this.meta.updateTag({ property: 'og:description', content: 'Spedizione e reso gratuiti | Scopri tutta la collezione ' + this.currentBrand.name + ' | Cataldostore prezzi scontati' });
        this.meta.updateTag({ property: 'og:image', content: 'https://www.cataldostore.it/svg.logo.a7f21585852635d7.svg' });
        this.meta.updateTag({ property: 'og:site', content: "https://www.cataldostore.it" });
        this.meta.updateTag({ property: 'og:type', content: "Cataldostore:" + this.currentBrand.name });
        this.meta.updateTag({ property: 'og:url', content: "/products/brand/" + this.currentId });
        this.meta.updateTag({ property: 'og:site_name', content: "Cataldostore Shop" });
        let nmm = this.currentBrand.name;
        let cdd = "";
        this.brand.forEach(function (element) {
            if (element.name == nmm) {
                cdd = element.code;
            }
        });
        this.currentBrand.code = cdd;
        // this._getCategories();
        this.fromCarousel = false;
        let storedSex = localStorage.getItem("categoria");
        if (storedSex == "uomo")
            this.selectedSex.push({ name: 'Uomo', code: 'M' });
        if (storedSex == "donna")
            this.selectedSex.push({ name: 'Donna', code: 'F' });
        this.selectedBrand.push({ name: this.currentBrand.name, code: this.currentBrand.code });
    }
    ngOnInit() {
    }
    getKeyByValue(obj, value) {
        let data = Object.keys(obj).find(key => obj[key] === value);
        return data;
    }
    changePage(event) {
        console.log(" change page cerco tra questo indice : " + ((event.page * 10)) + " e questo " + ((event.page + 1) * 10) + " current page = " + this.currentPage);
        this.productOnThisPage = this.filtered.slice((event.page * 8), ((event.page + 1) * 8));
    }
    search(event) {
        this.products = [];
        this.filtered = [];
        let sesso23;
        sesso23 = [];
        if (this.selectedSex) {
            for (let i = 0; i < this.selectedSex.length; i++) {
                sesso23.push(this.selectedSex[i].code);
            }
        }
        console.log(sesso23);
        let categorie;
        categorie = [];
        if (this.selectedCategoria) {
            for (let i = 0; i < this.selectedCategoria.length; i++) {
                categorie.push(this.selectedCategoria[i].code);
            }
        }
        let brand;
        brand = [];
        if (this.selectedBrand) {
            for (let i = 0; i < this.selectedBrand.length; i++) {
                brand.push(this.selectedBrand[i].code);
            }
        }
        let taglie;
        taglie = [];
        if (this.selectedTaglia) {
            for (let i = 0; i < this.selectedTaglia.length; i++) {
                taglie.push(this.selectedTaglia[i].code);
            }
        }
        console.log("Sesso = " + sesso23 + " categorie = " + categorie);
        if (sesso23[0] == "M") {
            localStorage.setItem("categoria", "uomo");
        }
        else {
            localStorage.setItem("categoria", "donna");
        }
        this.productsService.getFilteredProducts(brand, categorie, sesso23, taglie).subscribe((products) => {
            this.products = products;
            console.log("PRODOTTI = " + this.products);
            for (let i = 0; i < this.products.length; i++) {
                //console.log(this.products[i].productId)
                console.log("FIND:  #################ÀÀ " + this.findSameProducts(this.products, this.products[i]) + "    " + this.findSameProducts(this.products, this.products[i]) == null);
                if (this.findSameProducts(this.filtered, this.products[i]) == undefined) {
                    console.log("THIS ONE dosn't ALREADY EXIST: " + JSON.stringify(this.findSameProducts(this.products, this.products[i])));
                    this.filtered.push(this.products[i]);
                    console.log("added to filtered : " + this.filtered.length);
                    //   console.log("a questo indice " + i + " ce ne sono 2 uguali")
                    //     this.products =this.products.splice(i,1)
                }
            }
            //  this.shuffleArray(this.products);
            console.log(this.filtered);
            this.productOnThisPage = this.filtered.slice(0, 8);
            if (this.filtered.length == 0) {
                this.messageService.add({ severity: 'error', summary: 'Nessun prodotto trovato', detail: 'Modifica i filtri' });
            }
            this.filteredProducts = this.filtered;
            //  setTimeout(() => this.paginator.changePage(1));
            this.first = 0;
        });
    }
    _retrieveId() {
        this.route.params.subscribe((params) => {
            this.currentId = params.brandId;
            this.brandService.getBrand(this.currentId).subscribe((data) => {
                this.brandDescription = data.descrizione;
                this.brandImg = data.immagineProdList;
            });
            console.log("brand id = " + this.currentId);
            console.log("brand name = " + this.brandName);
        });
    }
    findSameProducts(productsArray, productItem) {
        return productsArray.find((prodotto, index) => {
            // console.log("Visited index ", index, " with v alue ", prodotto.productId + " confrontato con ", productItem.productId + "   " + (prodotto.productId === productItem.productId) + " indice visitato ha questo id: " + prodotto.id + " quello confrontato ha questo id : "  + productItem.id);
            return (prodotto.productId === productItem.productId) && (prodotto.id != productItem.id);
        });
    }
    _getProdByBrand(categoriesFilter) {
        this.products = [];
        this.filtered = [];
        switch (localStorage.getItem("categoria")) {
            case "uomo":
                this.sex = "M";
                break;
            case "donna":
                this.sex = "F";
                break;
            default:
            // code block
        }
        this.productsService.getFilteredProducts([this.currentId], null, [this.sex], null).subscribe((products) => {
            this.products = products;
            this.filtered = [];
            console.log("PRODOTTI = " + this.products);
            for (let i = 0; i < this.products.length; i++) {
                //console.log(this.products[i].productId)
                console.log("FIND:  #################ÀÀ " + this.findSameProducts(this.products, this.products[i]) + "    " + this.findSameProducts(this.products, this.products[i]) == null);
                if (this.findSameProducts(this.filtered, this.products[i]) == undefined) {
                    console.log("THIS ONE dosn't ALREADY EXIST: " + JSON.stringify(this.findSameProducts(this.products, this.products[i])));
                    this.filtered.push(this.products[i]);
                    console.log("added to filtered : " + this.filtered.length);
                    //   console.log("a questo indice " + i + " ce ne sono 2 uguali")
                    //     this.products =this.products.splice(i,1)
                }
            }
            this.productOnThisPage = this.filtered.slice(0, 8);
            this.filteredProducts = this.filtered;
            if (this.filtered.length == 0) {
                this.messageService.add({ severity: 'error', summary: 'Nessun prodotto trovato', detail: 'Modifica i filtri' });
            }
            console.log("ho trovato questi prodotti per questa categoria : " + this.products);
        });
    }
    categoryFilter() {
        this.products = [];
        this.filtered = [];
        const selectedCategories = this.categories.filter((category) => category.checked).map((category) => category.id);
        console.log("categorie = " + selectedCategories);
        this.productsService.getFilteredProducts([this.currentId], selectedCategories, [this.sex]).subscribe((products) => {
            this.products = products;
            console.log("PRODOTTI = " + this.products);
            for (let i = 0; i < this.products.length; i++) {
                //console.log(this.products[i].productId)
                console.log("FIND:  #################ÀÀ " + this.findSameProducts(this.products, this.products[i]) + "    " + this.findSameProducts(this.products, this.products[i]) == null);
                if (this.findSameProducts(this.filtered, this.products[i]) == undefined) {
                    console.log("THIS ONE dosn't ALREADY EXIST: " + JSON.stringify(this.findSameProducts(this.products, this.products[i])));
                    this.filtered.push(this.products[i]);
                    console.log("added to filtered : " + this.filtered.length);
                    //   console.log("a questo indice " + i + " ce ne sono 2 uguali")
                    //     this.products =this.products.splice(i,1)
                }
            }
            //  this.shuffleArray(this.products);
            console.log(this.filtered);
            this.productOnThisPage = this.filtered.slice(0, 8);
            this.filteredProducts = this.filtered;
        });
    }
}
ProductsBrandsComponent.ɵfac = function ProductsBrandsComponent_Factory(t) { return new (t || ProductsBrandsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductsService), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i4.Meta), i0.ɵɵdirectiveInject(i4.Title), i0.ɵɵdirectiveInject(i5.BrandsService)); };
ProductsBrandsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ProductsBrandsComponent, selectors: [["eshop-frontend-products-brands"]], viewQuery: function ProductsBrandsComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(_c0, 7);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);
    } }, inputs: { product: "product" }, decls: 37, vars: 37, consts: [[1, "grid", 2, "justify-content", "center"], [1, "row", "filters"], [1, "col-12", "d-flex", 2, "justify-content", "center"], [1, "grid", "w-100"], [1, "row", "w-100"], [1, "col-12", 2, "height", "240px"], [2, "width", "100%", "height", "100%", "object-fit", "cover", 3, "src", "alt"], [1, "col-12", 2, "font-size", "29px", "letter-spacing", "2px", "font-weight", "900"], [1, "col-12", 2, "max-height", "180px", "overflow-y", "auto"], ["id", "filtri", 1, "row", "w-100"], [1, "col-md-4", "col-6"], [1, "m-0", 2, "color", "rgb(52, 52, 52)", "letter-spacing", "2px", "font-weight", "700"], ["defaultLabel", "Genere", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], ["defaultLabel", "Categoria", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], ["defaultLabel", "Brand", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], [1, "col-md-3", "col-6", 2, "display", "none"], ["defaultLabel", "Taglia", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], [1, "row", 2, "justify-content", "center"], [1, "col-12"], [3, "rows", "totalRecords", "first", "onPageChange"], [1, "col-12", 2, "max-width", "1330px"], ["class", "grid  mobileProdListGrid", "style", "justify-content: center;", 4, "ngIf"], ["severity", "error", 4, "ngIf"], [1, "grid", "mobileProdListGrid", 2, "justify-content", "center"], ["class", "col-auto mobileProdList", 4, "ngFor", "ngForOf"], [1, "col-auto", "mobileProdList"], [3, "product"], ["severity", "error"], ["pTemplate", "", "style", "justify-content: center;"], ["src", "assets/danger.svg", "width", "86"], [1, "ml-2", 2, "font-weight", "500", "font-size", "large"]], template: function ProductsBrandsComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4)(5, "div", 5);
        i0.ɵɵelement(6, "img", 6);
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(7, "div", 4)(8, "div", 7)(9, "h1");
        i0.ɵɵtext(10);
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(11, "div", 8)(12, "p");
        i0.ɵɵtext(13);
        i0.ɵɵelementEnd()()();
        i0.ɵɵelementStart(14, "div", 9)(15, "div", 10)(16, "p", 11);
        i0.ɵɵtext(17, "Genere");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(18, "p-multiSelect", 12);
        i0.ɵɵlistener("onChange", function ProductsBrandsComponent_Template_p_multiSelect_onChange_18_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsBrandsComponent_Template_p_multiSelect_ngModelChange_18_listener($event) { return ctx.selectedSex = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(19, "div", 10)(20, "p", 11);
        i0.ɵɵtext(21, "Categorie");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(22, "p-multiSelect", 13);
        i0.ɵɵlistener("onChange", function ProductsBrandsComponent_Template_p_multiSelect_onChange_22_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsBrandsComponent_Template_p_multiSelect_ngModelChange_22_listener($event) { return ctx.selectedCategoria = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(23, "div", 10)(24, "p", 11);
        i0.ɵɵtext(25, "Brand");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(26, "p-multiSelect", 14);
        i0.ɵɵlistener("onChange", function ProductsBrandsComponent_Template_p_multiSelect_onChange_26_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsBrandsComponent_Template_p_multiSelect_ngModelChange_26_listener($event) { return ctx.selectedBrand = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(27, "div", 15)(28, "p", 11);
        i0.ɵɵtext(29, "Taglie");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(30, "p-multiSelect", 16);
        i0.ɵɵlistener("onChange", function ProductsBrandsComponent_Template_p_multiSelect_onChange_30_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsBrandsComponent_Template_p_multiSelect_ngModelChange_30_listener($event) { return ctx.selectedTaglia = $event; });
        i0.ɵɵelementEnd()()()()()();
        i0.ɵɵelementStart(31, "div", 17)(32, "div", 18)(33, "p-paginator", 19);
        i0.ɵɵlistener("onPageChange", function ProductsBrandsComponent_Template_p_paginator_onPageChange_33_listener($event) { return ctx.changePage($event); });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(34, "div", 20);
        i0.ɵɵtemplate(35, ProductsBrandsComponent_div_35_Template, 2, 1, "div", 21);
        i0.ɵɵtemplate(36, ProductsBrandsComponent_p_messages_36_Template, 2, 0, "p-messages", 22);
        i0.ɵɵelementEnd()()();
    } if (rf & 2) {
        i0.ɵɵadvance(6);
        i0.ɵɵpropertyInterpolate("src", ctx.brandImg, i0.ɵɵsanitizeUrl);
        i0.ɵɵpropertyInterpolate("alt", ctx.currentBrand.name);
        i0.ɵɵadvance(4);
        i0.ɵɵtextInterpolate1("Abbigliamento ", ctx.currentBrand.name, " collezione 2022/2023");
        i0.ɵɵadvance(3);
        i0.ɵɵtextInterpolate(ctx.brandDescription);
        i0.ɵɵadvance(5);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(29, _c1));
        i0.ɵɵproperty("options", ctx.sesso)("ngModel", ctx.selectedSex)("panelStyle", i0.ɵɵpureFunction0(30, _c2));
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(31, _c1));
        i0.ɵɵproperty("options", ctx.categoria)("ngModel", ctx.selectedCategoria)("panelStyle", i0.ɵɵpureFunction0(32, _c2));
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(33, _c1));
        i0.ɵɵproperty("options", ctx.brand)("ngModel", ctx.selectedBrand)("panelStyle", i0.ɵɵpureFunction0(34, _c2));
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(35, _c1));
        i0.ɵɵproperty("options", ctx.taglia)("ngModel", ctx.selectedTaglia)("panelStyle", i0.ɵɵpureFunction0(36, _c2));
        i0.ɵɵadvance(3);
        i0.ɵɵproperty("rows", 1)("totalRecords", ctx.filtered.length / 8)("first", ctx.first);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.productOnThisPage);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.productOnThisPage.length == 0);
    } }, dependencies: [i6.NgForOf, i6.NgIf, i7.NgControlStatus, i7.NgModel, i3.PrimeTemplate, i8.Messages, i9.MultiSelect, i10.Paginator, i11.ProductItemComponent], styles: [".filters[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 516px){.mobileProdList[_ngcontent-%COMP%]{padding:3px}}@media screen and (min-width: 516px){.filters[_ngcontent-%COMP%]{width:95%}}@media screen and (min-width: 1500px){.filters[_ngcontent-%COMP%]{width:92%}}@media screen and (min-width: 1850px){.filters[_ngcontent-%COMP%]{width:89%}}@media screen and (min-width: 1950px){.filters[_ngcontent-%COMP%]{width:80%}}"] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(ProductsBrandsComponent, [{
        type: Component,
        args: [{ selector: 'eshop-frontend-products-brands', template: "<script src=\"//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js\"></script>\n\n\n  <div class=\"grid\" style=\"justify-content: center;\">\n    \n    <div class=\"row filters\">\n      <div class=\"col-12 d-flex\" style=\"justify-content: center;\">\n        \n          <div class=\"grid w-100\">\n            <div class=\"row w-100\">\n              <div class=\"col-12\" style=\"height: 240px;\">\n               <img src=\"{{this.brandImg}}\" alt=\"{{this.currentBrand.name}}\" style=\"width: 100%;height: 100%;object-fit: cover;\">\n              </div>\n            </div>\n            <div class=\"row w-100\">\n              <div class=\"col-12\" style=\"font-size: 29px; letter-spacing:2px; font-weight: 900;\">\n               <h1>Abbigliamento {{this.currentBrand.name}} collezione 2022/2023</h1>\n              </div>\n              <div class=\"col-12\" style=\"max-height: 180px; overflow-y:auto\">\n                 <p>{{this.brandDescription}}</p> \n               </div>\n            </div>\n\n            <div class=\"row w-100\" id=\"filtri\">\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Genere</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Genere\" [options]=\"sesso\" [(ngModel)]=\"selectedSex\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n              [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Categorie</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Categoria\" [options]=\"categoria\" [(ngModel)]=\"selectedCategoria\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Brand</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Brand\" [options]=\"brand\" [(ngModel)]=\"selectedBrand\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n              <div class=\"col-md-3 col-6\" style=\"display:none\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Taglie</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Taglia\" [options]=\"taglia\" [(ngModel)]=\"selectedTaglia\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n            </div>\n          </div>\n\n      </div>\n    </div>\n    \n\n    <div class=\"row\" style=\"justify-content: center;\">\n      <div class=\"col-12\">    <p-paginator [rows]=\"1\" (onPageChange)=\"changePage($event)\"[totalRecords]=\"filtered.length/8\" [first] = 'first'></p-paginator></div>\n    <div class=\"col-12\"  style=\"max-width: 1330px;\">\n      <div class=\"grid  mobileProdListGrid\" style=\"justify-content: center;\"  *ngIf=\"productOnThisPage\" >\n        <div class=\"col-auto mobileProdList\" *ngFor=\"let product of productOnThisPage\">\n\n          <eshop-frontend-product-item [product]=\"product\" ></eshop-frontend-product-item>\n        </div>\n\n      </div>\n      <p-messages severity=\"error\"  *ngIf=\"productOnThisPage.length==0\">\n        <ng-template pTemplate style=\"justify-content: center;\">\n            <img src=\"assets/danger.svg\" width=\"86\" />\n            <div class=\"ml-2\" style=\"font-weight: 500; font-size: large;\"><p>Nessun risultato trovato.</p><p>Prova a modificare i filtri di ricerca</p></div>\n        </ng-template>\n    </p-messages>\n    </div>\n  </div>\n  </div>\n\n", styles: [".filters{width:100%}@media screen and (max-width: 516px){.mobileProdList{padding:3px}}@media screen and (min-width: 516px){.filters{width:95%}}@media screen and (min-width: 1500px){.filters{width:92%}}@media screen and (min-width: 1850px){.filters{width:89%}}@media screen and (min-width: 1950px){.filters{width:80%}}\n"] }]
    }], function () { return [{ type: i1.ActivatedRoute }, { type: i2.ProductsService }, { type: i3.MessageService }, { type: i4.Meta }, { type: i4.Title }, { type: i5.BrandsService }]; }, { product: [{
            type: Input
        }], paginator: [{
            type: ViewChild,
            args: ['paginator', { static: true }]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdHMtYnJhbmRzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvcHJvZHVjdHMvc3JjL2xpYi9wYWdlcy9wcm9kdWN0cy1icmFuZHMvcHJvZHVjdHMtYnJhbmRzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvcHJvZHVjdHMvc3JjL2xpYi9wYWdlcy9wcm9kdWN0cy1icmFuZHMvcHJvZHVjdHMtYnJhbmRzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFVLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNwRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDakQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRTlDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUdyRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFFbEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQy9ELE9BQU8sRUFBQyxLQUFLLEVBQUUsSUFBSSxFQUFDLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0lDOENyQywrQkFBK0U7SUFFN0Usa0RBQWdGO0lBQ2xGLGlCQUFNOzs7SUFEeUIsZUFBbUI7SUFBbkIsb0NBQW1COzs7SUFIcEQsK0JBQW1HO0lBQ2pHLGdGQUdNO0lBRVIsaUJBQU07OztJQUxxRCxlQUFvQjtJQUFwQixrREFBb0I7OztJQVF6RSwwQkFBMEM7SUFDMUMsK0JBQThELFFBQUE7SUFBRyx5Q0FBeUI7SUFBQSxpQkFBSTtJQUFBLHlCQUFHO0lBQUEsc0RBQXNDO0lBQUEsaUJBQUksRUFBQTs7O0lBSGpKLHNDQUFrRTtJQUNoRSx1R0FHYztJQUNsQixpQkFBYTs7OztBRHRCakIsTUFBTSxPQUFPLHVCQUF1QjtJQXdDbEMsWUFBb0IsS0FBcUIsRUFDckIsZUFBZ0MsRUFDaEMsY0FBOEIsRUFDOUIsSUFBVSxFQUNWLFlBQWtCLEVBQ2xCLFlBQTJCO1FBTDNCLFVBQUssR0FBTCxLQUFLLENBQWdCO1FBQ3JCLG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtRQUNoQyxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFDOUIsU0FBSSxHQUFKLElBQUksQ0FBTTtRQUNWLGlCQUFZLEdBQVosWUFBWSxDQUFNO1FBQ2xCLGlCQUFZLEdBQVosWUFBWSxDQUFlO1FBNUMvQyxjQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ2xCLGVBQVUsR0FBRyxJQUFJLENBQUM7UUFLbEIsYUFBUSxHQUFpQixFQUFFLENBQUM7UUFDNUIsc0JBQWlCLEdBQWlCLEVBQUUsQ0FBQztRQUNyQyxXQUFNLEdBQWdCLEVBQUUsQ0FBQztRQUN6QixxQkFBZ0IsR0FBaUIsRUFBRSxDQUFDO1FBQ3BDLGFBQVEsR0FBaUIsRUFBRSxDQUFDO1FBQzVCLGVBQVUsR0FBZSxFQUFFLENBQUM7UUFFNUIsaUJBQVksR0FBVyxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFDLElBQUksRUFBQyxDQUFDO1FBS2hELFVBQUssR0FBRyxDQUFDLENBQUM7UUFDVixRQUFHLEdBQUcsRUFBRSxDQUFDO1FBaUJSLGFBQVEsR0FBRyxJQUFJLEdBQUcsRUFBaUIsQ0FBQztRQWVuQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxRQUFRLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxRQUFRLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxLQUFLLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxZQUFZLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxNQUFNLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxTQUFTLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxZQUFZLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxXQUFXLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxTQUFTLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxRQUFRLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxTQUFTLENBQUMsQ0FBQztRQUN6RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxRQUFRLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxPQUFPLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxXQUFXLENBQUMsQ0FBQztRQUcvQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUUsRUFBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBQyxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUMsU0FBUyxFQUFDLEVBQUMsRUFBQyxJQUFJLEVBQUMsVUFBVSxFQUFFLElBQUksRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsV0FBVyxFQUFFLElBQUksRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsV0FBVyxFQUFFLElBQUksRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxTQUFTLEVBQUUsSUFBSSxFQUFDLFNBQVMsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBQyxPQUFPLEVBQUMsRUFBRSxDQUFDO1FBQ3hlLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBRSxFQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLENBQUMsQ0FBQztRQUNyWixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUUsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUks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LEVBQUEsRUFBQSxFQUFBLEVBQUE7UUFTN0QsZ0NBQWtELGVBQUEsdUJBQUE7UUFDQSw4SEFBZ0Isc0JBQWtCLElBQUM7UUFBcUQsaUJBQWMsRUFBQTtRQUN4SixnQ0FBZ0Q7UUFDOUMsMkVBTU07UUFDTix5RkFLVztRQUNiLGlCQUFNLEVBQUEsRUFBQTs7UUExRFUsZUFBdUI7UUFBdkIsK0RBQXVCO1FBQUMsc0RBQWdDO1FBS3pELGVBQTZEO1FBQTdELHVGQUE2RDtRQUc1RCxlQUF5QjtRQUF6QiwwQ0FBeUI7UUFPb0gsZUFBMEI7UUFBMUIsMENBQTBCO1FBQXpHLG1DQUFpQiw0QkFBQSwyQ0FBQTtRQU0yRSxlQUEwQjtRQUExQiwwQ0FBMEI7UUFBbkgsdUNBQXFCLGtDQUFBLDJDQUFBO1FBTXdELGVBQTBCO1FBQTFCLDBDQUEwQjtRQUEzRyxtQ0FBaUIsOEJBQUEsMkNBQUE7UUFLbUUsZUFBMEI7UUFBMUIsMENBQTBCO1FBQTdHLG9DQUFrQiwrQkFBQSwyQ0FBQTtRQVd6RCxlQUFVO1FBQVYsd0JBQVUseUNBQUEsb0JBQUE7UUFFMEIsZUFBdUI7UUFBdkIsNENBQXVCO1FBT2pFLGVBQWlDO1FBQWpDLHdEQUFpQzs7dUZEakJ6RCx1QkFBdUI7Y0FYbkMsU0FBUzsyQkFDRSxnQ0FBZ0M7K0xBZWpDLE9BQU87a0JBQWYsS0FBSztZQUNvQyxTQUFTO2tCQUFsRCxTQUFTO21CQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgUGFnaW5hdG9yIH0gZnJvbSAncHJpbWVuZy9wYWdpbmF0b3InO1xuaW1wb3J0IHsgQ2F0ZWdvcnkgfSBmcm9tICcuLi8uLi9tb2RlbHMvY2F0ZWdvcnknO1xuaW1wb3J0IHsgUHJvZHVjdDEyMyB9IGZyb20gJy4uLy4uL21vZGVscy9wcm9kdWN0MTIzJztcbmltcG9ydCB7IFdfUHJvZHVjdCB9IGZyb20gJy4uLy4uL21vZGVscy93LXByb2R1Y3QnO1xuaW1wb3J0IHsgQ2F0ZWdvcmllc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jYXRlZ29yaWVzLnNlcnZpY2UnO1xuaW1wb3J0IHsgUHJvZHVjdHNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcHJvZHVjdHMuc2VydmljZSc7XG5pbXBvcnQgeyBXX1Byb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3ctcHJvZHVjdHMuc2VydmljZSc7XG5pbXBvcnQgeyBCcmFuZHNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYnJhbmRzLnNlcnZpY2VzJztcbmltcG9ydCB7VGl0bGUsIE1ldGF9IGZyb20gXCJAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyXCI7XG5pbXBvcnQgeyBNZXNzYWdlU2VydmljZSB9IGZyb20gJ3ByaW1lbmcvYXBpJztcblxuXG5pbnRlcmZhY2UgU2Vzc28ge1xuICBuYW1lOiBzdHJpbmcsXG4gIGNvZGU6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgQ2F0ZWdvcmlhIHtcbiAgbmFtZTogc3RyaW5nLFxuICBjb2RlOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIEJyYW5ke1xuICBuYW1lOiBzdHJpbmcsXG4gIGNvZGU6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgVGFnbGlhe1xuICBuYW1lOiBzdHJpbmcsXG4gIGNvZGU6IHN0cmluZ1xufVxuXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2VzaG9wLWZyb250ZW5kLXByb2R1Y3RzLWJyYW5kcycsXG4gIHRlbXBsYXRlVXJsOiAnLi9wcm9kdWN0cy1icmFuZHMuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9wcm9kdWN0LWxpc3Quc2NzcyddXG59KVxuXG5cblxuXG5cblxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzQnJhbmRzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgaXNDaGVja2VkID0gZmFsc2U7XG4gIGJpbmFyeVByb3AgPSB0cnVlO1xuICBjdXJyZW50SWQ6IHN0cmluZztcbiAgYnJhbmROYW1lOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHByb2R1Y3Q6IFByb2R1Y3QxMjM7XG4gIEBWaWV3Q2hpbGQoJ3BhZ2luYXRvcicsIHsgc3RhdGljOiB0cnVlIH0pIHBhZ2luYXRvcjogUGFnaW5hdG9yXG4gIHByb2R1Y3RzOiBQcm9kdWN0MTIzW10gPSBbXTtcbiAgcHJvZHVjdE9uVGhpc1BhZ2U6IFByb2R1Y3QxMjNbXSA9IFtdO1xuICB3UHJvZHM6IFdfUHJvZHVjdFtdID0gW107XG4gIGZpbHRlcmVkUHJvZHVjdHM6IFByb2R1Y3QxMjNbXSA9IFtdO1xuICBmaWx0ZXJlZDogUHJvZHVjdDEyM1tdID0gW107XG4gIGNhdGVnb3JpZXM6IENhdGVnb3J5W10gPSBbXTtcblxuICBjdXJyZW50QnJhbmQgOiBCcmFuZCA9IHtuYW1lOlwibHVjYVwiLCBjb2RlOlwib2tcIn07XG4gIHVybDtcbiAgY3VycmVudFBhZ2U7XG4gIF91cmxTZWdtZW50O1xuICBmcm9tQ2Fyb3VzZWw6IGJvb2xlYW47XG4gIGZpcnN0ID0gMDtcbiAgc2V4ID0gXCJcIjtcblxuICBzZXNzbyA6IFNlc3NvW107XG4gIHNlbGVjdGVkU2V4IDogU2Vzc29bXTtcblxuICBjYXRlZ29yaWEgOiBDYXRlZ29yaWFbXTtcbiAgc2VsZWN0ZWRDYXRlZ29yaWEgOiBDYXRlZ29yaWFbXTtcblxuICBicmFuZDogQnJhbmRbXTtcbiAgc2VsZWN0ZWRCcmFuZCA6IEJyYW5kW107XG5cbiAgdGFnbGlhOiBUYWdsaWFbXTtcbiAgc2VsZWN0ZWRUYWdsaWEgOiBUYWdsaWFbXTtcblxuICBicmFuZEltZyA6IFN0cmluZztcbiAgYnJhbmREZXNjcmlwdGlvbiA6IFN0cmluZztcblxuICAgYnJhbmRNYXAgPSBuZXcgTWFwPHN0cmluZyxzdHJpbmc+KCk7IFxuICBcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSBwcm9kdWN0c1NlcnZpY2U6IFByb2R1Y3RzU2VydmljZSwgIFxuICAgICAgICAgICAgICBwcml2YXRlIG1lc3NhZ2VTZXJ2aWNlOiBNZXNzYWdlU2VydmljZSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSBtZXRhOiBNZXRhLFxuICAgICAgICAgICAgICBwcml2YXRlIHRpdGxlU2VydmljZTpUaXRsZSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSBicmFuZFNlcnZpY2U6IEJyYW5kc1NlcnZpY2VcbiAgICAgICAgICAgICAgKSB7IFxuXG5cblxuXG5cbiAgICB0aGlzLmJyYW5kTWFwLnNldChcIjYyMTNjNzg4OTMwOWRlOTYwMTgwZGE0YVwiLFwiQmxhdWVyXCIpO1xuICAgIHRoaXMuYnJhbmRNYXAuc2V0KFwiNjIxM2M4OWU5MzA5ZGU5NjAxODBkYTRkXCIsIFwiT2xkIFJpdmVyXCIpO1xuICAgIHRoaXMuYnJhbmRNYXAuc2V0KCBcIjYyMTY3YmQxY2JhOGExZTBkOWMxYWY4OFwiLFwiQ29sbWFyXCIpO1xuICAgIHRoaXMuYnJhbmRNYXAuc2V0KCBcIjYyMTg5ZWZlMWQ2MjM4NmNjMjI1MjViNlwiLFwiRUE3XCIpO1xuICAgIHRoaXMuYnJhbmRNYXAuc2V0KFwiNjIxODlmMWUxZDYyMzg2Y2MyMjUyNWI5XCIsXCJGcmVkIFBlcnJ5XCIpO1xuICAgIHRoaXMuYnJhbmRNYXAuc2V0KCBcIjYyMTg5ZjM3MWQ2MjM4NmNjMjI1MjViY1wiLFwiS3dheVwiKTtcbiAgICB0aGlzLmJyYW5kTWFwLnNldChcIjYyMTg5ZjQ4MWQ2MjM4NmNjMjI1MjViZlwiLFwiTGFjb3N0ZVwiKTtcbiAgICB0aGlzLmJyYW5kTWFwLnNldChcIjYyMTg5ZjdkMWQ2MjM4NmNjMjI1MjVjMlwiLFwiTXVycGh5Jm55ZVwiKTtcbiAgICB0aGlzLmJyYW5kTWFwLnNldCggXCI2MjE4OWY5ODFkNjIzODZjYzIyNTI1YzVcIixcIlBlbmluc3VsYVwiKTtcbiAgICB0aGlzLmJyYW5kTWFwLnNldChcIjYyMTg5ZmFkMWQ2MjM4NmNjMjI1MjVjOFwiLFwiU2F1Y29ueVwiKTtcbiAgICB0aGlzLmJyYW5kTWFwLnNldCggXCI2MjE4OWZiYjFkNjIzODZjYzIyNTI1Y2JcIixcIlN1bmRla1wiKTtcbiAgICB0aGlzLmJyYW5kTWFwLnNldCggXCI2MzJlMDVmM2I4YzU2N2RlNWVhODM2NjlcIixcIkJhcmJvdXJcIik7XG4gICAgdGhpcy5icmFuZE1hcC5zZXQoIFwiNjM2YjU3ZTI1MDZiYTY1ZTU5M2JhYTgxXCIsXCJDaWVzc2VcIik7XG4gICAgdGhpcy5icmFuZE1hcC5zZXQoXCI2MzZiNTdmMzUwNmJhNjVlNTkzYmFhODRcIixcIkh1c2t5XCIpO1xuICAgIHRoaXMuYnJhbmRNYXAuc2V0KFwiaHVza3kgZmFsbFwiLCBcIjYzNmI1N2YzNTA2YmE2NWU1OTNiYWE4NFwiKTtcbiAgICB0aGlzLmJyYW5kTWFwLnNldCggXCI2MzZiNTgwNjUwNmJhNjVlNTkzYmFhODdcIixcIkNhbmFkaWVuc1wiKTtcblxuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzbyA9IFsge25hbWU6ICdVb21vJywgY29kZTogJ00nfSwgIHtuYW1lOiAnRG9ubmEnLCBjb2RlOiAnRid9XTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3JpYSA9IFt7bmFtZTonQ2FtaWNpZScsIGNvZGU6J2NhbWljaWUnfSx7bmFtZTonQ2FwcG90dGknLCBjb2RlOidjYXBwb3R0aSd9LCB7bmFtZTonUG9sbycsIGNvZGU6J3BvbG8nfSwge25hbWU6J0dpYWNjaGUnLCBjb2RlOidnaWFjY2hlJ30sIHtuYW1lOidQYW50YWxvbmknLCBjb2RlOidwYW50YWxvbmknfSwge25hbWU6J0ZlbHBlJywgY29kZTonZmVscGUnfSwge25hbWU6J01hZ2xpb25pJywgY29kZTonbWFnbGlvbmknfSwge25hbWU6J0dpbGV0JywgY29kZTonZ2lsZXQnfSwge25hbWU6J1NuZWFrZXJzJywgY29kZTonc25lYWtlcnMnfSwge25hbWU6J1Qtc2hpcnQnLCBjb2RlOid0LXNoaXJ0J30sIHtuYW1lOidHaXViYm90dGknLCBjb2RlOidnaXViYm90dGknfSwge25hbWU6J0NpbnR1cmUnLCBjb2RlOidjaW50dXJlJ30sIHtuYW1lOidTY2FycGUnLCBjb2RlOidzY2FycGUnfSwge25hbWU6J0plYW5zJywgY29kZTonamVhbnMnfSxdO1xuICAgICAgICAgICAgICAgIHRoaXMuYnJhbmQgPSBbIHtuYW1lOiAnQmxhdWVyJywgY29kZTogJ2JsYXVlcid9LCAge25hbWU6ICdPbGQgUml2ZXInLCBjb2RlOiAnb2xkIHJpdmVyJ30sICB7bmFtZTogJ0NvbG1hcicsIGNvZGU6ICdjb2xtYXInfSwgIHtuYW1lOiAnRUE3JywgY29kZTogJ2VhNyd9LCAge25hbWU6ICdLd2F5JywgY29kZTogJ2t3YXknfSwgIHtuYW1lOiAnTGFjb3N0ZScsIGNvZGU6ICdsYWNvc3RlJ30sICB7bmFtZTogJ0JhcmJvdXInLCBjb2RlOiAnYmFyYm91cid9LCAge25hbWU6ICdDaWVzc2UnLCBjb2RlOiAnY2llc3NlJ30sICB7bmFtZTogJ0h1c2t5JywgY29kZTogJ2h1c2t5J30sICB7bmFtZTogJ0NhbmFkaWVucycsIGNvZGU6ICdjYW5hZGllbnMnfSwgIHtuYW1lOiAnU2F1Y29ueScsIGNvZGU6ICdzYXVjb255J31dO1xuICAgICAgICAgICAgICAgIHRoaXMudGFnbGlhID0gWyB7bmFtZTogJzM3JywgY29kZTogJzM3J30sICB7bmFtZTogJzM4JywgY29kZTogJzM4J30sICB7bmFtZTogJzM5JywgY29kZTogJzM5J30sICB7bmFtZTogJzQwJywgY29kZTogJzQwJ30sICB7bmFtZTogJzQxJywgY29kZTogJzQxJ30sICB7bmFtZTogJzQyJywgY29kZTogJzQyJ30sICB7bmFtZTogJzQzJywgY29kZTogJzQzJ30sICB7bmFtZTogJzQ0JywgY29kZTogJzQ0J30sICB7bmFtZTogJzQ1JywgY29kZTogJzQ1J30sICB7bmFtZTogJzQ2JywgY29kZTogJzQ2J30sICB7bmFtZTogJ1hYUycsIGNvZGU6ICd4eHMnfSwgIHtuYW1lOiAnWFMnLCBjb2RlOiAneHMnfSwgIHtuYW1lOiAnUycsIGNvZGU6ICdzJ30sICB7bmFtZTogJ00nLCBjb2RlOiAnbSd9LCAge25hbWU6ICdMJywgY29kZTogJ2wnfSwgIHtuYW1lOiAnWEwnLCBjb2RlOiAneGwnfSwgIHtuYW1lOiAnWFhMJywgY29kZTogJ3h4bCd9LCAge25hbWU6ICdYWFhMJywgY29kZTogJ3h4eGwnfV07XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNleD0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEJyYW5kPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnVybCA9IHRoaXMucm91dGUudXJsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VybFNlZ21lbnQgPSB0aGlzLnVybC52YWx1ZVswXS5wYXRoXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1cmwgc2VnbWVudCA9IFwiICsgdGhpcy5fdXJsU2VnbWVudCk7XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmV0cmlldmVJZCgpO1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFByb2RCeUJyYW5kKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRCcmFuZCA9IHtuYW1lOiBcImx1Y2FcIiwgY29kZTpcImNpYW9cIn07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRCcmFuZC5uYW1lID0gdGhpcy5icmFuZE1hcC5nZXQodGhpcy5jdXJyZW50SWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZVNlcnZpY2Uuc2V0VGl0bGUodGhpcy5jdXJyZW50QnJhbmQubmFtZSArIFwiIGNvbGxlemlvbmUgMjAyMi8yMyB8IGRpc3BvbmliaWxlIHN1IENhdGFsZG9zdG9yZVwiKTtcbiAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgbmFtZTogJ2Rlc2NyaXB0aW9uJywgY29udGVudDogJ1NwZWRpemlvbmUgZSByZXNvIGdyYXR1aXRpIHwgU2NvcHJpIHR1dHRhIGxhIGNvbGxlemlvbmUgJyArIHRoaXMuY3VycmVudEJyYW5kLm5hbWUgKycgfCBDYXRhbGRvc3RvcmUgcHJlenppIHNjb250YXRpJyB9KVxuXG4gICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgIHsgcHJvcGVydHk6ICdvZzp0aXRsZScsIGNvbnRlbnQ6IHRoaXMuY3VycmVudEJyYW5kLm5hbWUgKyBcIiBjb2xsZXppb25lIDIwMjIvMjMgfCBkaXNwb25pYmlsZSBzdSBDYXRhbGRvc3RvcmVcIn0sXG4gICAgKTtcbiAgICB0aGlzLm1ldGEudXBkYXRlVGFnKFxuICAgICAgeyBwcm9wZXJ0eTogJ29nOmRlc2NyaXB0aW9uJywgY29udGVudDogICdTcGVkaXppb25lIGUgcmVzbyBncmF0dWl0aSB8IFNjb3ByaSB0dXR0YSBsYSBjb2xsZXppb25lICcgKyB0aGlzLmN1cnJlbnRCcmFuZC5uYW1lICsnIHwgQ2F0YWxkb3N0b3JlIHByZXp6aSBzY29udGF0aScgIH0sXG4gICAgKTtcbiAgICB0aGlzLm1ldGEudXBkYXRlVGFnKFxuICAgICAgeyBwcm9wZXJ0eTogJ29nOmltYWdlJywgY29udGVudDogJ2h0dHBzOi8vd3d3LmNhdGFsZG9zdG9yZS5pdC9zdmcubG9nby5hN2YyMTU4NTg1MjYzNWQ3LnN2Zyd9LFxuICAgICk7XG4gICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgIHsgcHJvcGVydHk6ICdvZzpzaXRlJywgY29udGVudDogXCJodHRwczovL3d3dy5jYXRhbGRvc3RvcmUuaXRcIn0sXG4gICAgKTtcbiAgICB0aGlzLm1ldGEudXBkYXRlVGFnKFxuICAgICAgeyBwcm9wZXJ0eTogJ29nOnR5cGUnLCBjb250ZW50OiBcIkNhdGFsZG9zdG9yZTpcIiArIHRoaXMuY3VycmVudEJyYW5kLm5hbWV9LFxuICAgICk7XG4gICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgIHsgcHJvcGVydHk6ICdvZzp1cmwnLCBjb250ZW50OiBcIi9wcm9kdWN0cy9icmFuZC9cIiArIHRoaXMuY3VycmVudElkfSxcbiAgICApO1xuICAgIHRoaXMubWV0YS51cGRhdGVUYWcoXG4gICAgICB7IHByb3BlcnR5OiAnb2c6c2l0ZV9uYW1lJywgY29udGVudDogXCJDYXRhbGRvc3RvcmUgU2hvcFwifSxcbiAgICApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICBsZXQgbm1tID0gdGhpcy5jdXJyZW50QnJhbmQubmFtZVxuICAgICAgICAgICAgICAgICAgICAgIGxldCBjZGQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJhbmQuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQubmFtZSA9PSBubW0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjZGQgPSBlbGVtZW50LmNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QnJhbmQuY29kZSA9IGNkZDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2dldENhdGVnb3JpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb21DYXJvdXNlbCA9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdG9yZWRTZXggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhdGVnb3JpYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoc3RvcmVkU2V4ID09IFwidW9tb1wiKSB0aGlzLnNlbGVjdGVkU2V4LnB1c2goe25hbWU6ICdVb21vJywgY29kZTogJ00nfSlcbiAgICAgICAgICAgICAgICAgICAgaWYoc3RvcmVkU2V4ID09IFwiZG9ubmFcIikgdGhpcy5zZWxlY3RlZFNleC5wdXNoKHtuYW1lOiAnRG9ubmEnLCBjb2RlOiAnRid9KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQnJhbmQucHVzaCh7bmFtZSA6IHRoaXMuY3VycmVudEJyYW5kLm5hbWUsIGNvZGU6IHRoaXMuY3VycmVudEJyYW5kLmNvZGV9KVxuICAgICAgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuXG4gICBcblxuICAgIFxuXG5cbiAgfVxuXG4gIGdldEtleUJ5VmFsdWUob2JqLCB2YWx1ZSl7XG4gICAgbGV0IGRhdGEgPSBPYmplY3Qua2V5cyhvYmopLmZpbmQoa2V5ID0+IG9ialtrZXldID09PSB2YWx1ZSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuXG5cblxuICBjaGFuZ2VQYWdlKGV2ZW50OmFueSk6dm9pZHtcbiAgICBjb25zb2xlLmxvZyhcIiBjaGFuZ2UgcGFnZSBjZXJjbyB0cmEgcXVlc3RvIGluZGljZSA6IFwiICsgKChldmVudC5wYWdlICogMTApKSsgXCIgZSBxdWVzdG8gXCIgKyAoKGV2ZW50LnBhZ2UgKzEpICogMTApICsgXCIgY3VycmVudCBwYWdlID0gXCIgKyB0aGlzLmN1cnJlbnRQYWdlKTtcblxuICAgIHRoaXMucHJvZHVjdE9uVGhpc1BhZ2UgPSB0aGlzLmZpbHRlcmVkLnNsaWNlKChldmVudC5wYWdlICogOCksICgoZXZlbnQucGFnZSArIDEpICogOCkgKTtcbiAgfVxuXG5cbiAgc2VhcmNoKGV2ZW50OmFueSk6dm9pZHtcblxuICAgIHRoaXMucHJvZHVjdHMgPSBbXVxuICAgIHRoaXMuZmlsdGVyZWQgPSBbXVxuXG4gICAgbGV0IHNlc3NvMjM6IHN0cmluZ1tdO1xuICAgIHNlc3NvMjMgPSBbXTtcblxuICAgIGlmKHRoaXMuc2VsZWN0ZWRTZXgpe1xuICAgICAgZm9yKGxldCBpID0gMDsgaTwgdGhpcy5zZWxlY3RlZFNleC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHNlc3NvMjMucHVzaCh0aGlzLnNlbGVjdGVkU2V4W2ldLmNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coc2Vzc28yMyk7XG5cblxuXG4gICAgbGV0IGNhdGVnb3JpZTogc3RyaW5nW107XG4gICAgY2F0ZWdvcmllID0gW107XG5cbiAgICBpZih0aGlzLnNlbGVjdGVkQ2F0ZWdvcmlhKXtcbiAgICAgIGZvcihsZXQgaSA9IDA7IGk8IHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWEubGVuZ3RoOyBpKyspe1xuICAgICAgICBjYXRlZ29yaWUucHVzaCh0aGlzLnNlbGVjdGVkQ2F0ZWdvcmlhW2ldLmNvZGUpXG4gICAgICB9XG4gICAgfVxuICAgXG5cblxuICAgIGxldCBicmFuZDogc3RyaW5nW107XG4gICAgYnJhbmQgPSBbXTtcblxuICAgIGlmKHRoaXMuc2VsZWN0ZWRCcmFuZCl7XG4gICAgICBmb3IobGV0IGkgPSAwOyBpPCB0aGlzLnNlbGVjdGVkQnJhbmQubGVuZ3RoOyBpKyspe1xuICAgICAgICBicmFuZC5wdXNoKHRoaXMuc2VsZWN0ZWRCcmFuZFtpXS5jb2RlKVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgbGV0IHRhZ2xpZTogc3RyaW5nW107XG4gICAgdGFnbGllID0gW107XG5cblxuXG4gICAgaWYodGhpcy5zZWxlY3RlZFRhZ2xpYSl7XG4gICAgICBmb3IobGV0IGkgPSAwOyBpPCB0aGlzLnNlbGVjdGVkVGFnbGlhLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdGFnbGllLnB1c2godGhpcy5zZWxlY3RlZFRhZ2xpYVtpXS5jb2RlKVxuICAgICAgfVxuICAgIH1cbiBcblxuICAgIGNvbnNvbGUubG9nKFwiU2Vzc28gPSBcIiArIHNlc3NvMjMgKyBcIiBjYXRlZ29yaWUgPSBcIiArIGNhdGVnb3JpZSk7XG4gICAgaWYoc2Vzc28yM1swXSA9PSBcIk1cIil7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhdGVnb3JpYVwiLCBcInVvbW9cIik7XG4gICAgfWVsc2V7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhdGVnb3JpYVwiLCBcImRvbm5hXCIpO1xuICAgIH1cbiAgICB0aGlzLnByb2R1Y3RzU2VydmljZS5nZXRGaWx0ZXJlZFByb2R1Y3RzKGJyYW5kLCBjYXRlZ29yaWUsIHNlc3NvMjMsIHRhZ2xpZSkuc3Vic2NyaWJlKChwcm9kdWN0cyk9PntcbiAgICAgIHRoaXMucHJvZHVjdHMgPSBwcm9kdWN0c1xuXG5cbiAgICAgIGNvbnNvbGUubG9nKFwiUFJPRE9UVEkgPSBcIiArIHRoaXMucHJvZHVjdHMpXG5cbiAgICAgIGZvcihsZXQgaSA9IDA7IGk8dGhpcy5wcm9kdWN0cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9kdWN0c1tpXS5wcm9kdWN0SWQpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRklORDogICMjIyMjIyMjIyMjIyMjIyMjw4DDgCBcIiArIHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLnByb2R1Y3RzLCB0aGlzLnByb2R1Y3RzW2ldKSArIFwiICAgIFwiICsgdGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMucHJvZHVjdHMsIHRoaXMucHJvZHVjdHNbaV0pID09IG51bGwpXG5cbiAgICAgICAgICBpZih0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5maWx0ZXJlZCwgdGhpcy5wcm9kdWN0c1tpXSkgPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVEhJUyBPTkUgZG9zbid0IEFMUkVBRFkgRVhJU1Q6IFwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMucHJvZHVjdHMsIHRoaXMucHJvZHVjdHNbaV0pKSlcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWQucHVzaCh0aGlzLnByb2R1Y3RzW2ldKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZGRlZCB0byBmaWx0ZXJlZCA6IFwiICsgdGhpcy5maWx0ZXJlZC5sZW5ndGgpXG4gICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiYSBxdWVzdG8gaW5kaWNlIFwiICsgaSArIFwiIGNlIG5lIHNvbm8gMiB1Z3VhbGlcIilcbiAgICAgICAvLyAgICAgdGhpcy5wcm9kdWN0cyA9dGhpcy5wcm9kdWN0cy5zcGxpY2UoaSwxKVxuICAgICAgICAgIH1cbiAgICAgICAgXG5cblxuICAgICAgfVxuXG4gICAgLy8gIHRoaXMuc2h1ZmZsZUFycmF5KHRoaXMucHJvZHVjdHMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsdGVyZWQpXG5cbiAgICAgIHRoaXMucHJvZHVjdE9uVGhpc1BhZ2UgPSB0aGlzLmZpbHRlcmVkLnNsaWNlKDAsICA4KTtcbiAgXG4gICAgICBpZih0aGlzLmZpbHRlcmVkLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgdGhpcy5tZXNzYWdlU2VydmljZS5hZGQoICB7c2V2ZXJpdHk6J2Vycm9yJywgc3VtbWFyeTonTmVzc3VuIHByb2RvdHRvIHRyb3ZhdG8nLCBkZXRhaWw6J01vZGlmaWNhIGkgZmlsdHJpJ30pO1xuICAgICAgfVxuXG5cblxuICAgICAgXG4gICAgICB0aGlzLmZpbHRlcmVkUHJvZHVjdHMgPSB0aGlzLmZpbHRlcmVkO1xuXG4gICAgLy8gIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5wYWdpbmF0b3IuY2hhbmdlUGFnZSgxKSk7XG4gICAgICB0aGlzLmZpcnN0ID0gMDtcbiAgICB9KTsgIFxuICB9XG5cbiAgcHJpdmF0ZSBfcmV0cmlldmVJZCgpe1xuICAgIHRoaXMucm91dGUucGFyYW1zLnN1YnNjcmliZSgocGFyYW1zKT0+e1xuICAgICAgIHRoaXMuY3VycmVudElkID0gcGFyYW1zLmJyYW5kSWQ7XG5cbiAgICAgICB0aGlzLmJyYW5kU2VydmljZS5nZXRCcmFuZCh0aGlzLmN1cnJlbnRJZCkuc3Vic2NyaWJlKChkYXRhKT0+e1xuICAgICAgICB0aGlzLmJyYW5kRGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXppb25lXG4gICAgICAgIHRoaXMuYnJhbmRJbWcgPSBkYXRhLmltbWFnaW5lUHJvZExpc3RcbiAgICAgICB9KVxuICAgICAgIGNvbnNvbGUubG9nKFwiYnJhbmQgaWQgPSBcIiArIHRoaXMuY3VycmVudElkKTsgICAgXG4gICAgICAgY29uc29sZS5sb2coXCJicmFuZCBuYW1lID0gXCIgKyB0aGlzLmJyYW5kTmFtZSk7ICAgXG4gICAgICAgfSlcbiAgfVxuXG4gIGZpbmRTYW1lUHJvZHVjdHMocHJvZHVjdHNBcnJheSwgcHJvZHVjdEl0ZW0pIDogbnVtYmVye1xuICAgIHJldHVybiBwcm9kdWN0c0FycmF5LmZpbmQoKHByb2RvdHRvLCBpbmRleCkgPT4ge1xuICAgICAvLyBjb25zb2xlLmxvZyhcIlZpc2l0ZWQgaW5kZXggXCIsIGluZGV4LCBcIiB3aXRoIHYgYWx1ZSBcIiwgcHJvZG90dG8ucHJvZHVjdElkICsgXCIgY29uZnJvbnRhdG8gY29uIFwiLCBwcm9kdWN0SXRlbS5wcm9kdWN0SWQgKyBcIiAgIFwiICsgKHByb2RvdHRvLnByb2R1Y3RJZCA9PT0gcHJvZHVjdEl0ZW0ucHJvZHVjdElkKSArIFwiIGluZGljZSB2aXNpdGF0byBoYSBxdWVzdG8gaWQ6IFwiICsgcHJvZG90dG8uaWQgKyBcIiBxdWVsbG8gY29uZnJvbnRhdG8gaGEgcXVlc3RvIGlkIDogXCIgICsgcHJvZHVjdEl0ZW0uaWQpO1xuICAgICAgcmV0dXJuIChwcm9kb3R0by5wcm9kdWN0SWQgPT09IHByb2R1Y3RJdGVtLnByb2R1Y3RJZCkgJiYgKHByb2RvdHRvLmlkICE9IHByb2R1Y3RJdGVtLmlkKVxuXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRQcm9kQnlCcmFuZChjYXRlZ29yaWVzRmlsdGVyPzogc3RyaW5nW10pe1xuXG4gICAgdGhpcy5wcm9kdWN0cyA9IFtdO1xuICAgIHRoaXMuZmlsdGVyZWQgPSBbXTtcblxuICAgIHN3aXRjaChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhdGVnb3JpYVwiKSkge1xuICAgICAgY2FzZSBcInVvbW9cIjpcbiAgICAgICAgdGhpcy5zZXggPSBcIk1cIlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb25uYVwiOlxuICAgICAgICB0aGlzLnNleCA9IFwiRlwiXG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gY29kZSBibG9ja1xuICAgIH1cbiAgICB0aGlzLnByb2R1Y3RzU2VydmljZS5nZXRGaWx0ZXJlZFByb2R1Y3RzKFt0aGlzLmN1cnJlbnRJZF0sIG51bGwsIFt0aGlzLnNleF0sIG51bGwpLnN1YnNjcmliZSgocHJvZHVjdHMpPT57XG4gICAgICB0aGlzLnByb2R1Y3RzID0gcHJvZHVjdHNcbiAgICAgICAgdGhpcy5maWx0ZXJlZCA9IFtdXG5cbiAgICAgIGNvbnNvbGUubG9nKFwiUFJPRE9UVEkgPSBcIiArIHRoaXMucHJvZHVjdHMpXG5cbiAgICAgIGZvcihsZXQgaSA9IDA7IGk8dGhpcy5wcm9kdWN0cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9kdWN0c1tpXS5wcm9kdWN0SWQpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRklORDogICMjIyMjIyMjIyMjIyMjIyMjw4DDgCBcIiArIHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLnByb2R1Y3RzLCB0aGlzLnByb2R1Y3RzW2ldKSArIFwiICAgIFwiICsgdGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMucHJvZHVjdHMsIHRoaXMucHJvZHVjdHNbaV0pID09IG51bGwpXG5cbiAgICAgICAgICBpZih0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5maWx0ZXJlZCwgdGhpcy5wcm9kdWN0c1tpXSkgPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVEhJUyBPTkUgZG9zbid0IEFMUkVBRFkgRVhJU1Q6IFwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMucHJvZHVjdHMsIHRoaXMucHJvZHVjdHNbaV0pKSlcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWQucHVzaCh0aGlzLnByb2R1Y3RzW2ldKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZGRlZCB0byBmaWx0ZXJlZCA6IFwiICsgdGhpcy5maWx0ZXJlZC5sZW5ndGgpXG4gICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiYSBxdWVzdG8gaW5kaWNlIFwiICsgaSArIFwiIGNlIG5lIHNvbm8gMiB1Z3VhbGlcIilcbiAgICAgICAvLyAgICAgdGhpcy5wcm9kdWN0cyA9dGhpcy5wcm9kdWN0cy5zcGxpY2UoaSwxKVxuICAgICAgICAgIH1cbiAgICAgICAgXG5cblxuICAgICAgfVxuXG5cbiAgICAgIHRoaXMucHJvZHVjdE9uVGhpc1BhZ2UgPSB0aGlzLmZpbHRlcmVkLnNsaWNlKDAsICA4KTtcbiAgXG5cbiAgICAgIHRoaXMuZmlsdGVyZWRQcm9kdWN0cyA9IHRoaXMuZmlsdGVyZWQ7XG5cbiAgICAgIGlmKHRoaXMuZmlsdGVyZWQubGVuZ3RoID09IDApe1xuICAgICAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLmFkZCggIHtzZXZlcml0eTonZXJyb3InLCBzdW1tYXJ5OidOZXNzdW4gcHJvZG90dG8gdHJvdmF0bycsIGRldGFpbDonTW9kaWZpY2EgaSBmaWx0cmknfSk7XG4gICAgICB9XG5cblxuICAgICAgICBjb25zb2xlLmxvZyhcImhvIHRyb3ZhdG8gcXVlc3RpIHByb2RvdHRpIHBlciBxdWVzdGEgY2F0ZWdvcmlhIDogXCIgKyB0aGlzLnByb2R1Y3RzKVxuICAgIH0pOyAgICAgXG4gIH1cblxuXG5cbiAgY2F0ZWdvcnlGaWx0ZXIoKXtcbiAgICB0aGlzLnByb2R1Y3RzID0gW107XG4gICAgdGhpcy5maWx0ZXJlZCA9IFtdO1xuICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcmllcyA9IHRoaXMuY2F0ZWdvcmllcy5maWx0ZXIoKGNhdGVnb3J5KT0+IGNhdGVnb3J5LmNoZWNrZWQpLm1hcCgoY2F0ZWdvcnkpPT4gY2F0ZWdvcnkuaWQpXG4gICAgY29uc29sZS5sb2coXCJjYXRlZ29yaWUgPSBcIiArIHNlbGVjdGVkQ2F0ZWdvcmllcyk7XG4gICAgXG5cblxuICAgIHRoaXMucHJvZHVjdHNTZXJ2aWNlLmdldEZpbHRlcmVkUHJvZHVjdHMoW3RoaXMuY3VycmVudElkXSwgc2VsZWN0ZWRDYXRlZ29yaWVzLCBbdGhpcy5zZXhdKS5zdWJzY3JpYmUoKHByb2R1Y3RzKT0+e1xuICAgICAgdGhpcy5wcm9kdWN0cyA9IHByb2R1Y3RzXG5cblxuICAgICAgY29uc29sZS5sb2coXCJQUk9ET1RUSSA9IFwiICsgdGhpcy5wcm9kdWN0cylcblxuICAgICAgZm9yKGxldCBpID0gMDsgaTx0aGlzLnByb2R1Y3RzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb2R1Y3RzW2ldLnByb2R1Y3RJZClcbiAgICAgICAgY29uc29sZS5sb2coXCJGSU5EOiAgIyMjIyMjIyMjIyMjIyMjIyPDgMOAIFwiICsgdGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMucHJvZHVjdHMsIHRoaXMucHJvZHVjdHNbaV0pICsgXCIgICAgXCIgKyB0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5wcm9kdWN0cywgdGhpcy5wcm9kdWN0c1tpXSkgPT0gbnVsbClcblxuICAgICAgICAgIGlmKHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLmZpbHRlcmVkLCB0aGlzLnByb2R1Y3RzW2ldKSA9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUSElTIE9ORSBkb3NuJ3QgQUxSRUFEWSBFWElTVDogXCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5wcm9kdWN0cywgdGhpcy5wcm9kdWN0c1tpXSkpKVxuICAgICAgICAgICAgdGhpcy5maWx0ZXJlZC5wdXNoKHRoaXMucHJvZHVjdHNbaV0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImFkZGVkIHRvIGZpbHRlcmVkIDogXCIgKyB0aGlzLmZpbHRlcmVkLmxlbmd0aClcbiAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJhIHF1ZXN0byBpbmRpY2UgXCIgKyBpICsgXCIgY2UgbmUgc29ubyAyIHVndWFsaVwiKVxuICAgICAgIC8vICAgICB0aGlzLnByb2R1Y3RzID10aGlzLnByb2R1Y3RzLnNwbGljZShpLDEpXG4gICAgICAgICAgfVxuICAgICAgICBcblxuXG4gICAgICB9XG5cbiAgICAvLyAgdGhpcy5zaHVmZmxlQXJyYXkodGhpcy5wcm9kdWN0cyk7XG4gICAgY29uc29sZS5sb2codGhpcy5maWx0ZXJlZClcblxuICAgICAgdGhpcy5wcm9kdWN0T25UaGlzUGFnZSA9IHRoaXMuZmlsdGVyZWQuc2xpY2UoMCwgIDgpO1xuICBcblxuXG4gICAgICBcbiAgICAgIHRoaXMuZmlsdGVyZWRQcm9kdWN0cyA9IHRoaXMuZmlsdGVyZWQ7XG4gICAgfSk7ICBcbiAgICBcbiAgfVxuXG5cblxufVxuIiwiPHNjcmlwdCBzcmM9XCIvL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8yLjAuMy9qcXVlcnkubWluLmpzXCI+PC9zY3JpcHQ+XG5cblxuICA8ZGl2IGNsYXNzPVwiZ3JpZFwiIHN0eWxlPVwianVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cInJvdyBmaWx0ZXJzXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGQtZmxleFwiIHN0eWxlPVwianVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIHctMTAwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHctMTAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIiBzdHlsZT1cImhlaWdodDogMjQwcHg7XCI+XG4gICAgICAgICAgICAgICA8aW1nIHNyYz1cInt7dGhpcy5icmFuZEltZ319XCIgYWx0PVwie3t0aGlzLmN1cnJlbnRCcmFuZC5uYW1lfX1cIiBzdHlsZT1cIndpZHRoOiAxMDAlO2hlaWdodDogMTAwJTtvYmplY3QtZml0OiBjb3ZlcjtcIj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgdy0xMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiIHN0eWxlPVwiZm9udC1zaXplOiAyOXB4OyBsZXR0ZXItc3BhY2luZzoycHg7IGZvbnQtd2VpZ2h0OiA5MDA7XCI+XG4gICAgICAgICAgICAgICA8aDE+QWJiaWdsaWFtZW50byB7e3RoaXMuY3VycmVudEJyYW5kLm5hbWV9fSBjb2xsZXppb25lIDIwMjIvMjAyMzwvaDE+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAxODBweDsgb3ZlcmZsb3cteTphdXRvXCI+XG4gICAgICAgICAgICAgICAgIDxwPnt7dGhpcy5icmFuZERlc2NyaXB0aW9ufX08L3A+IFxuICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyB3LTEwMFwiIGlkPVwiZmlsdHJpXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNCBjb2wtNlwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibS0wXCIgc3R5bGU9XCJjb2xvcjogcmdiKDUyLCA1MiwgNTIpOyBsZXR0ZXItc3BhY2luZzogMnB4OyBmb250LXdlaWdodDogNzAwO1wiPkdlbmVyZTwvcD5cbiAgICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCAob25DaGFuZ2UpPVwic2VhcmNoKCRldmVudClcIiAgZGVmYXVsdExhYmVsPVwiR2VuZXJlXCIgW29wdGlvbnNdPVwic2Vzc29cIiBbKG5nTW9kZWwpXT1cInNlbGVjdGVkU2V4XCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgZGlzcGxheT1cImNoaXBcIiAgW3N0eWxlXT1cInsnd2lkdGgnOicxMDAlJ31cIlxuICAgICAgICAgICAgICBbcGFuZWxTdHlsZV09XCJ7J3dpZHRoJzonNDAwcHgnfVwiPjwvcC1tdWx0aVNlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC00IGNvbC02XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtLTBcIiBzdHlsZT1cImNvbG9yOiByZ2IoNTIsIDUyLCA1Mik7IGxldHRlci1zcGFjaW5nOiAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7XCI+Q2F0ZWdvcmllPC9wPlxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IChvbkNoYW5nZSk9XCJzZWFyY2goJGV2ZW50KVwiICBkZWZhdWx0TGFiZWw9XCJDYXRlZ29yaWFcIiBbb3B0aW9uc109XCJjYXRlZ29yaWFcIiBbKG5nTW9kZWwpXT1cInNlbGVjdGVkQ2F0ZWdvcmlhXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgZGlzcGxheT1cImNoaXBcIiAgW3N0eWxlXT1cInsnd2lkdGgnOicxMDAlJ31cIlxuICAgICAgICAgICAgICAgIFtwYW5lbFN0eWxlXT1cInsnd2lkdGgnOic0MDBweCd9XCI+PC9wLW11bHRpU2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTQgY29sLTZcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm0tMFwiIHN0eWxlPVwiY29sb3I6IHJnYig1MiwgNTIsIDUyKTsgbGV0dGVyLXNwYWNpbmc6IDJweDsgZm9udC13ZWlnaHQ6IDcwMDtcIj5CcmFuZDwvcD5cbiAgICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCAob25DaGFuZ2UpPVwic2VhcmNoKCRldmVudClcIiAgZGVmYXVsdExhYmVsPVwiQnJhbmRcIiBbb3B0aW9uc109XCJicmFuZFwiIFsobmdNb2RlbCldPVwic2VsZWN0ZWRCcmFuZFwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIGRpc3BsYXk9XCJjaGlwXCIgIFtzdHlsZV09XCJ7J3dpZHRoJzonMTAwJSd9XCJcbiAgICAgICAgICAgICAgICBbcGFuZWxTdHlsZV09XCJ7J3dpZHRoJzonNDAwcHgnfVwiPjwvcC1tdWx0aVNlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMyBjb2wtNlwiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtLTBcIiBzdHlsZT1cImNvbG9yOiByZ2IoNTIsIDUyLCA1Mik7IGxldHRlci1zcGFjaW5nOiAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7XCI+VGFnbGllPC9wPlxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IChvbkNoYW5nZSk9XCJzZWFyY2goJGV2ZW50KVwiICBkZWZhdWx0TGFiZWw9XCJUYWdsaWFcIiBbb3B0aW9uc109XCJ0YWdsaWFcIiBbKG5nTW9kZWwpXT1cInNlbGVjdGVkVGFnbGlhXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgZGlzcGxheT1cImNoaXBcIiAgW3N0eWxlXT1cInsnd2lkdGgnOicxMDAlJ31cIlxuICAgICAgICAgICAgICAgIFtwYW5lbFN0eWxlXT1cInsnd2lkdGgnOic0MDBweCd9XCI+PC9wLW11bHRpU2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBcblxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIiBzdHlsZT1cImp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPiAgICA8cC1wYWdpbmF0b3IgW3Jvd3NdPVwiMVwiIChvblBhZ2VDaGFuZ2UpPVwiY2hhbmdlUGFnZSgkZXZlbnQpXCJbdG90YWxSZWNvcmRzXT1cImZpbHRlcmVkLmxlbmd0aC84XCIgW2ZpcnN0XSA9ICdmaXJzdCc+PC9wLXBhZ2luYXRvcj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCIgIHN0eWxlPVwibWF4LXdpZHRoOiAxMzMwcHg7XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCAgbW9iaWxlUHJvZExpc3RHcmlkXCIgc3R5bGU9XCJqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIiAgKm5nSWY9XCJwcm9kdWN0T25UaGlzUGFnZVwiID5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1hdXRvIG1vYmlsZVByb2RMaXN0XCIgKm5nRm9yPVwibGV0IHByb2R1Y3Qgb2YgcHJvZHVjdE9uVGhpc1BhZ2VcIj5cblxuICAgICAgICAgIDxlc2hvcC1mcm9udGVuZC1wcm9kdWN0LWl0ZW0gW3Byb2R1Y3RdPVwicHJvZHVjdFwiID48L2VzaG9wLWZyb250ZW5kLXByb2R1Y3QtaXRlbT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPHAtbWVzc2FnZXMgc2V2ZXJpdHk9XCJlcnJvclwiICAqbmdJZj1cInByb2R1Y3RPblRoaXNQYWdlLmxlbmd0aD09MFwiPlxuICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlIHN0eWxlPVwianVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9kYW5nZXIuc3ZnXCIgd2lkdGg9XCI4NlwiIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWwtMlwiIHN0eWxlPVwiZm9udC13ZWlnaHQ6IDUwMDsgZm9udC1zaXplOiBsYXJnZTtcIj48cD5OZXNzdW4gcmlzdWx0YXRvIHRyb3ZhdG8uPC9wPjxwPlByb3ZhIGEgbW9kaWZpY2FyZSBpIGZpbHRyaSBkaSByaWNlcmNhPC9wPjwvZGl2PlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgIDwvcC1tZXNzYWdlcz5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDwvZGl2PlxuXG4iXX0=