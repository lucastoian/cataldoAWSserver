import { Component, Input, ViewChild } from '@angular/core';
import { ActivatedRoute } from '@angular/router';
import { Paginator } from 'primeng/paginator';
import { Product123 } from '../../models/product123';
import { ProductsService } from '../../services/products.service';
import { Title, Meta } from "@angular/platform-browser";
import * as i0 from "@angular/core";
import * as i1 from "../../services/products.service";
import * as i2 from "@angular/platform-browser";
import * as i3 from "@angular/router";
import * as i4 from "primeng/multiselect";
import * as i5 from "@angular/forms";
import * as i6 from "primeng/paginator";
import * as i7 from "@angular/common";
import * as i8 from "../../components/product-item/product-item.component";
const _c0 = ["paginator"];
function ProductsListComponent_div_32_div_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 23);
    i0.ɵɵelement(1, "eshop-frontend-product-item", 24);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const product_r2 = ctx.$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("product", product_r2);
} }
function ProductsListComponent_div_32_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 21);
    i0.ɵɵtemplate(1, ProductsListComponent_div_32_div_1_Template, 2, 1, "div", 22);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngForOf", ctx_r0.productOnThisPage);
} }
const _c1 = function () { return { "width": "100%" }; };
const _c2 = function () { return { "width": "400px" }; };
export class ProductsListComponent {
    constructor(productsService, titleService, metaService, route) {
        this.productsService = productsService;
        this.titleService = titleService;
        this.metaService = metaService;
        this.route = route;
        this.isChecked = false;
        this.products = [];
        this.categories = [];
        this.binaryProp = true;
        this.selectedCategories = [];
        this.sex = "";
        this.productOnThisPage = [];
        this.wProds = [];
        this.filteredProducts = [];
        this.first = 0;
        this.filtered = [];
        this.categoryMap = new Map();
        this.currentCategory = { name: "luca", code: "ok" };
        this.titleService.setTitle("Abbigliamento | Novità su Cataldo Store");
        this.metaService.updateTag({ name: 'description', content: 'Spedizione veloce | abbigliamento online Cataldostore | Scopri tutta la collezione a portata di click!' });
        this.categoryMap.set("61ab7dbaf6364e38a5b6297b", "Camicie");
        this.categoryMap.set("camice", "61ab7dbaf6364e38a5b6297b");
        this.categoryMap.set("61abf4a257450fc2517488f0", "Polo");
        this.categoryMap.set("61b631af0d7e33d82b524c10", "Pantaloni");
        this.categoryMap.set("61bdddff2ddc4a8c13df4a17", "Giacche");
        this.categoryMap.set("61bdf809872350f840c8979d", "Felpe");
        this.categoryMap.set("61e1a62d81572bb64bd8d73b", "Maglioni");
        this.categoryMap.set("61e7cdc42eedad9135296d50", "Gilet");
        this.categoryMap.set("624ac34e9a3fb4d0bf04edd2", "Sneakers");
        this.categoryMap.set("624ac784503abba399845265", "T-shirt");
        this.categoryMap.set("63b67f2e8d14123abed8abde", "Cappotti");
        this.categoryMap.set("t-shirt ml", "624ac784503abba399845265");
        this.categoryMap.set("624ac7f7503abba39984526d", "Giubbotti");
        this.categoryMap.set("giubbotto", "624ac7f7503abba39984526d");
        this.categoryMap.set("632eb741544addd6ea6c2bdd", "Cinture");
        this.categoryMap.set("632eb754544addd6ea6c2be0", "Scarpe");
        this.categoryMap.set("bermuda", "");
        this.categoryMap.set("632eb762544addd6ea6c2be3", "Jeans");
        this.sesso = [{ name: 'Uomo', code: 'M' }, { name: 'Donna', code: 'F' }];
        this.categoria = [{ name: 'Camicie', code: 'camicie' }, { name: 'Cappotti', code: 'cappotti' }, { name: 'Polo', code: 'polo' }, { name: 'Giacche', code: 'giacche' }, { name: 'Pantaloni', code: 'pantaloni' }, { name: 'Felpe', code: 'felpe' }, { name: 'Maglioni', code: 'maglioni' }, { name: 'Gilet', code: 'gilet' }, { name: 'Sneakers', code: 'sneakers' }, { name: 'T-shirt', code: 't-shirt' }, { name: 'Giubbotti', code: 'giubbotti' }, { name: 'Cinture', code: 'cinture' }, { name: 'Scarpe', code: 'scarpe' }, { name: 'Jeans', code: 'jeans' },];
        this.brand = [{ name: 'Blauer', code: 'blauer' }, { name: 'Old River', code: 'old river' }, { name: 'Colmar', code: 'colmar' }, { name: 'EA7', code: 'ea7' }, { name: 'Kway', code: 'kway' }, { name: 'Lacoste', code: 'lacoste' }, { name: 'Barbour', code: 'barbour' }, { name: 'Ciesse', code: 'ciesse' }, { name: 'Husky', code: 'husky' }, { name: 'Canadiens', code: 'canadiens' }];
        this.taglia = [{ name: '37', code: '37' }, { name: '38', code: '38' }, { name: '39', code: '39' }, { name: '40', code: '40' }, { name: '41', code: '41' }, { name: '42', code: '42' }, { name: '43', code: '43' }, { name: '44', code: '44' }, { name: '45', code: '45' }, { name: '46', code: '46' }, { name: 'XXS', code: 'xxs' }, { name: 'XS', code: 'xs' }, { name: 'S', code: 's' }, { name: 'M', code: 'm' }, { name: 'L', code: 'l' }, { name: 'XL', code: 'xl' }, { name: 'XXL', code: 'xxl' }, { name: 'XXXL', code: 'xxxl' }];
    }
    ngOnInit() {
        this.selectedSex = [];
        this.selectedCategoria = [];
        this.url = this.route.url;
        this._urlSegment = this.url.value[0].path;
        console.log(this._urlSegment);
        this.route.params.subscribe((params) => {
            this.categoryId = params.categoryid;
            console.log("category id = " + this.categoryId);
            this._getProducts();
            this.currentCategory.name = this.categoryMap.get(this.categoryId);
            let nmm = this.currentCategory.name;
            let cdd = "";
            this.categoria.forEach(function (element) {
                if (element.name == nmm) {
                    cdd = element.code;
                }
            });
            if (nmm != null) {
                this.selectedCategoria.push({ name: nmm, code: cdd });
            }
            else {
                this.currentCategory.name = "Ricerca Personalizzata";
            }
            console.log(JSON.stringify(this.selectedCategories));
            this.currentCategory.code = cdd;
            console.log("nome della categoria = " + this.currentCategory.name);
            console.log("code della categoria = " + this.currentCategory.code);
        });
        let storedSex = localStorage.getItem("categoria");
        if (storedSex == "uomo")
            this.selectedSex.push({ name: 'Uomo', code: 'M' });
        if (storedSex == "donna")
            this.selectedSex.push({ name: 'Donna', code: 'F' });
    }
    changePage(event) {
        console.log(" change page cerco tra questo indice : " + ((event.page * 8)) + " e questo " + ((event.page + 1) * 8) + " current page = " + this.currentPage);
        this.productOnThisPage = this.filtered.slice((event.page * 8), ((event.page + 1) * 8));
    }
    search(event) {
        this.products = [];
        this.filtered = [];
        let sesso23;
        sesso23 = [];
        if (this.selectedSex) {
            for (let i = 0; i < this.selectedSex.length; i++) {
                sesso23.push(this.selectedSex[i].code);
            }
        }
        console.log(sesso23);
        let categorie;
        categorie = [];
        if (this.selectedCategoria) {
            for (let i = 0; i < this.selectedCategoria.length; i++) {
                categorie.push(this.selectedCategoria[i].code);
            }
        }
        let brand;
        brand = [];
        if (this.selectedBrand) {
            for (let i = 0; i < this.selectedBrand.length; i++) {
                brand.push(this.selectedBrand[i].code);
            }
        }
        let taglie;
        taglie = [];
        if (this.selectedTaglia) {
            for (let i = 0; i < this.selectedTaglia.length; i++) {
                taglie.push(this.selectedTaglia[i].code);
            }
        }
        console.log("Sesso = " + sesso23 + " categorie = " + categorie);
        if (sesso23[0] == "M") {
            localStorage.setItem("categoria", "uomo");
        }
        else {
            localStorage.setItem("categoria", "donna");
        }
        this.productsService.getFilteredProducts(brand, categorie, sesso23, taglie).subscribe((products) => {
            this.products = products;
            console.log("PRODOTTI = " + this.products);
            for (let i = 0; i < this.products.length; i++) {
                //console.log(this.products[i].productId)
                console.log("FIND:  #################ÀÀ " + this.findSameProducts(this.products, this.products[i]) + "    " + this.findSameProducts(this.products, this.products[i]) == null);
                if (this.findSameProducts(this.filtered, this.products[i]) == undefined) {
                    console.log("THIS ONE dosn't ALREADY EXIST: " + JSON.stringify(this.findSameProducts(this.products, this.products[i])));
                    this.filtered.push(this.products[i]);
                    console.log("added to filtered : " + this.filtered.length);
                    //   console.log("a questo indice " + i + " ce ne sono 2 uguali")
                    //     this.products =this.products.splice(i,1)
                }
            }
            //  this.shuffleArray(this.products);
            console.log(this.filtered);
            this.productOnThisPage = this.filtered.slice(0, 8);
            this.filteredProducts = this.filtered;
            //  setTimeout(() => this.paginator.changePage(1));
            this.first = 0;
        });
    }
    _getProducts() {
        this.selectedCategories.push(this.categoryId);
        console.log("faccio la richiesta get products");
        switch (localStorage.getItem("categoria")) {
            case "uomo":
                this.sex = "M";
                break;
            case "donna":
                this.sex = "F";
                break;
            default:
            // code block
        }
        this.productsService.getFilteredProducts(null, this.selectedCategories, [this.sex], null).subscribe((products) => {
            this.products = products;
            console.log("PRODOTTI = " + this.products);
            for (let i = 0; i < this.products.length; i++) {
                //console.log(this.products[i].productId)
                console.log("FIND:  #################ÀÀ " + this.findSameProducts(this.products, this.products[i]) + "    " + this.findSameProducts(this.products, this.products[i]) == null);
                if (this.findSameProducts(this.filtered, this.products[i]) == undefined) {
                    console.log("THIS ONE dosn't ALREADY EXIST: " + JSON.stringify(this.findSameProducts(this.products, this.products[i])));
                    this.filtered.push(this.products[i]);
                    console.log("added to filtered : " + this.filtered.length);
                    //   console.log("a questo indice " + i + " ce ne sono 2 uguali")
                    //     this.products =this.products.splice(i,1)
                }
            }
            //  this.shuffleArray(this.products);
            console.log(this.filtered);
            this.productOnThisPage = this.filtered.slice(0, 8);
        });
    }
    findSameProducts(productsArray, productItem) {
        return productsArray.find((prodotto, index) => {
            // console.log("Visited index ", index, " with v alue ", prodotto.productId + " confrontato con ", productItem.productId + "   " + (prodotto.productId === productItem.productId) + " indice visitato ha questo id: " + prodotto.id + " quello confrontato ha questo id : "  + productItem.id);
            return (prodotto.productId === productItem.productId) && (prodotto.id != productItem.id);
        });
    }
    shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }
    categoryFilter() {
        this.products = [];
        this.selectedCategories = this.categories.filter((category) => category.checked).map((category) => category.id);
        console.log("categorie = " + this.selectedCategories);
        this.productsService.getFilteredProducts(null, this.selectedCategories, [this.sex]).subscribe((products) => {
            this.products = products;
        });
    }
}
ProductsListComponent.ɵfac = function ProductsListComponent_Factory(t) { return new (t || ProductsListComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.Title), i0.ɵɵdirectiveInject(i2.Meta), i0.ɵɵdirectiveInject(i3.ActivatedRoute)); };
ProductsListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ProductsListComponent, selectors: [["eshop-frontend-products-list"]], viewQuery: function ProductsListComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(_c0, 7);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);
    } }, inputs: { product: "product" }, decls: 33, vars: 35, consts: [[1, "grid", 2, "justify-content", "center"], [1, "row", "filters"], [1, "col-12", "d-flex", 2, "justify-content", "center"], [1, "grid", "w-100"], [1, "row", "w-100"], [1, "col-12", 2, "height", "240px", "background-image", "url(https://sciuti.it/immagini/copertine/colmar-piumini-ai17-desktop.jpg)", "background-repeat", "no-repeat", "background-size", "cover"], [1, "col-12", 2, "font-size", "29px", "letter-spacing", "2px", "font-weight", "900"], [1, "col-12", "PDLdescription", 2, "max-height", "140px", "overflow-y", "auto"], ["id", "filtri", 1, "row", "w-100"], [1, "col-md-4", "col-6"], [1, "m-0", 2, "color", "rgb(52, 52, 52)", "letter-spacing", "2px", "font-weight", "700"], ["defaultLabel", "Genere", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], ["defaultLabel", "Categoria", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "scrollHeight", "onChange", "ngModelChange"], ["defaultLabel", "Brand", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "scrollHeight", "onChange", "ngModelChange"], [1, "col-md-3", "col-6", 2, "display", "none"], ["defaultLabel", "Taglia", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], [1, "row", 2, "justify-content", "center"], [1, "col-12"], [3, "rows", "totalRecords", "first", "onPageChange"], [1, "col-12", "p-1", 2, "max-width", "1300px"], ["class", "grid mobileProdListGrid", "style", "justify-content: center;", 4, "ngIf"], [1, "grid", "mobileProdListGrid", 2, "justify-content", "center"], ["class", "col-auto mobileProdList p-0", 4, "ngFor", "ngForOf"], [1, "col-auto", "mobileProdList", "p-0"], [3, "product"]], template: function ProductsListComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
        i0.ɵɵelement(5, "div", 5);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(6, "div", 4)(7, "div", 6);
        i0.ɵɵtext(8);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(9, "div", 7);
        i0.ɵɵtext(10, " Nata a Monza nel 1923, il nome dell\u2019azienda Colmar prende spunto dalle iniziali del suo fondatore Mario Colombo. Specializzata nell\u2019abbigliamento sportivo, l\u2019azienda italiana inizialmente presta maggiore attenzione a quello da sci. Ma \u00E8 nel 2009 che nasce la linea Colmar Original dedicata ai giovani e caratterizzata dallo storico logo vintage, da capi di qualit\u00E0 alla moda urban-lifestyle ma pur sempre d\u2019ispirazione sportiva. ");
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(11, "div", 8)(12, "div", 9)(13, "p", 10);
        i0.ɵɵtext(14, "Genere");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(15, "p-multiSelect", 11);
        i0.ɵɵlistener("onChange", function ProductsListComponent_Template_p_multiSelect_onChange_15_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsListComponent_Template_p_multiSelect_ngModelChange_15_listener($event) { return ctx.selectedSex = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(16, "div", 9)(17, "p", 10);
        i0.ɵɵtext(18, "Categorie");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(19, "p-multiSelect", 12);
        i0.ɵɵlistener("onChange", function ProductsListComponent_Template_p_multiSelect_onChange_19_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsListComponent_Template_p_multiSelect_ngModelChange_19_listener($event) { return ctx.selectedCategoria = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(20, "div", 9)(21, "p", 10);
        i0.ɵɵtext(22, "Brand");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(23, "p-multiSelect", 13);
        i0.ɵɵlistener("onChange", function ProductsListComponent_Template_p_multiSelect_onChange_23_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsListComponent_Template_p_multiSelect_ngModelChange_23_listener($event) { return ctx.selectedBrand = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(24, "div", 14)(25, "p", 10);
        i0.ɵɵtext(26, "Taglie");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(27, "p-multiSelect", 15);
        i0.ɵɵlistener("onChange", function ProductsListComponent_Template_p_multiSelect_onChange_27_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsListComponent_Template_p_multiSelect_ngModelChange_27_listener($event) { return ctx.selectedTaglia = $event; });
        i0.ɵɵelementEnd()()()()()();
        i0.ɵɵelementStart(28, "div", 16)(29, "div", 17)(30, "p-paginator", 18);
        i0.ɵɵlistener("onPageChange", function ProductsListComponent_Template_p_paginator_onPageChange_30_listener($event) { return ctx.changePage($event); });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(31, "div", 19);
        i0.ɵɵtemplate(32, ProductsListComponent_div_32_Template, 2, 1, "div", 20);
        i0.ɵɵelementEnd()()();
    } if (rf & 2) {
        i0.ɵɵadvance(8);
        i0.ɵɵtextInterpolate1(" ", ctx.currentCategory.name, " ");
        i0.ɵɵadvance(7);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(27, _c1));
        i0.ɵɵproperty("options", ctx.sesso)("ngModel", ctx.selectedSex)("panelStyle", i0.ɵɵpureFunction0(28, _c2));
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(29, _c1));
        i0.ɵɵproperty("options", ctx.categoria)("ngModel", ctx.selectedCategoria)("panelStyle", i0.ɵɵpureFunction0(30, _c2))("scrollHeight", 7);
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(31, _c1));
        i0.ɵɵproperty("options", ctx.brand)("ngModel", ctx.selectedBrand)("panelStyle", i0.ɵɵpureFunction0(32, _c2))("scrollHeight", 7);
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(33, _c1));
        i0.ɵɵproperty("options", ctx.taglia)("ngModel", ctx.selectedTaglia)("panelStyle", i0.ɵɵpureFunction0(34, _c2));
        i0.ɵɵadvance(3);
        i0.ɵɵproperty("rows", 1)("totalRecords", ctx.filtered.length / 8)("first", ctx.first);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.productOnThisPage);
    } }, directives: [i4.MultiSelect, i5.NgControlStatus, i5.NgModel, i6.Paginator, i7.NgIf, i7.NgForOf, i8.ProductItemComponent], styles: [".filters[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 516px){.mobileProdList[_ngcontent-%COMP%]{padding:3px}.PDLdescription[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 516px){.filters[_ngcontent-%COMP%]{width:95%}}@media screen and (min-width: 1500px){.filters[_ngcontent-%COMP%]{width:92%}}@media screen and (min-width: 1850px){.filters[_ngcontent-%COMP%]{width:89%}}@media screen and (min-width: 1950px){.filters[_ngcontent-%COMP%]{width:80%}}"] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(ProductsListComponent, [{
        type: Component,
        args: [{ selector: 'eshop-frontend-products-list', template: "<script src=\"//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js\"></script>\n\n\n  <div class=\"grid\" style=\"justify-content: center;\">\n    \n    <div class=\"row filters\">\n      <div class=\"col-12 d-flex\" style=\"justify-content: center;\">\n        \n          <div class=\"grid w-100\">\n            <div class=\"row w-100\">\n              <div class=\"col-12\" style=\"height: 240px; background-image: url(https://sciuti.it/immagini/copertine/colmar-piumini-ai17-desktop.jpg); background-repeat: no-repeat; background-size: cover;\">\n               \n              </div>\n            </div>\n            <div class=\"row w-100\">\n              <div class=\"col-12\" style=\"font-size: 29px; letter-spacing:2px; font-weight: 900;\">\n               {{this.currentCategory.name}}\n              </div>\n              <div class=\"col-12 PDLdescription\" style=\"max-height: 140px; overflow-y:auto\">\n                Nata a Monza nel 1923, il nome dell\u2019azienda Colmar prende spunto dalle iniziali del suo fondatore Mario Colombo. Specializzata nell\u2019abbigliamento sportivo, l\u2019azienda italiana inizialmente presta maggiore attenzione a quello da sci. Ma \u00E8 nel 2009 che nasce la linea Colmar Original dedicata ai giovani e caratterizzata dallo storico logo vintage, da capi di qualit\u00E0 alla moda urban-lifestyle ma pur sempre d\u2019ispirazione sportiva.\n               </div>\n            </div>\n\n            <div class=\"row w-100\" id=\"filtri\">\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Genere</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Genere\" [options]=\"sesso\" [(ngModel)]=\"selectedSex\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n              [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Categorie</p>\n                <p-multiSelect  (onChange)=\"search($event)\"  defaultLabel=\"Categoria\" [options]=\"categoria\" [(ngModel)]=\"selectedCategoria\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\" [scrollHeight]=\"7\"></p-multiSelect>\n              </div>\n\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Brand</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Brand\" [options]=\"brand\" [(ngModel)]=\"selectedBrand\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\"  [scrollHeight]=\"7\"></p-multiSelect>\n              </div>\n              <div class=\"col-md-3 col-6\" style=\"display:none\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Taglie</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Taglia\" [options]=\"taglia\" [(ngModel)]=\"selectedTaglia\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n            </div>\n          </div>\n\n      </div>\n    </div>\n    \n\n    <div class=\"row\" style=\"justify-content: center;\">\n      <div class=\"col-12\">    <p-paginator [rows]=\"1\" (onPageChange)=\"changePage($event)\"[totalRecords]=\"filtered.length/8\" [first] = 'first'></p-paginator></div>\n    <div class=\"col-12 p-1\"  style=\"max-width: 1300px;\">\n      <div class=\"grid mobileProdListGrid\" style=\"justify-content: center;\"  *ngIf=\"productOnThisPage\" >\n        <div class=\"col-auto mobileProdList p-0\" *ngFor=\"let product of productOnThisPage\" >\n\n          <eshop-frontend-product-item [product]=\"product\" ></eshop-frontend-product-item>\n        </div>\n\n      </div>\n    </div>\n  </div>\n  </div>\n\n", styles: [".filters{width:100%}@media screen and (max-width: 516px){.mobileProdList{padding:3px}.PDLdescription{display:none}}@media screen and (min-width: 516px){.filters{width:95%}}@media screen and (min-width: 1500px){.filters{width:92%}}@media screen and (min-width: 1850px){.filters{width:89%}}@media screen and (min-width: 1950px){.filters{width:80%}}\n"] }]
    }], function () { return [{ type: i1.ProductsService }, { type: i2.Title }, { type: i2.Meta }, { type: i3.ActivatedRoute }]; }, { product: [{
            type: Input
        }], paginator: [{
            type: ViewChild,
            args: ['paginator', { static: true }]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdHMtbGlzdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL3Byb2R1Y3RzL3NyYy9saWIvcGFnZXMvcHJvZHVjdHMtbGlzdC9wcm9kdWN0cy1saXN0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvcHJvZHVjdHMvc3JjL2xpYi9wYWdlcy9wcm9kdWN0cy1saXN0L3Byb2R1Y3RzLWxpc3QuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFOUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRXJELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUNsRSxPQUFPLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxNQUFNLDJCQUEyQixDQUFDOzs7Ozs7Ozs7Ozs7SUNrRDdDLCtCQUFvRjtJQUVsRixrREFBZ0Y7SUFDbEYsaUJBQU07OztJQUR5QixlQUFtQjtJQUFuQixvQ0FBbUI7OztJQUhwRCwrQkFBa0c7SUFDaEcsOEVBR007SUFFUixpQkFBTTs7O0lBTHlELGVBQW9CO0lBQXBCLGtEQUFvQjs7OztBRHJCekYsTUFBTSxPQUFPLHFCQUFxQjtJQStDaEMsWUFBb0IsZUFBZ0MsRUFDaEMsWUFBa0IsRUFDbEIsV0FBZ0IsRUFDaEIsS0FBcUI7UUFIckIsb0JBQWUsR0FBZixlQUFlLENBQWlCO1FBQ2hDLGlCQUFZLEdBQVosWUFBWSxDQUFNO1FBQ2xCLGdCQUFXLEdBQVgsV0FBVyxDQUFLO1FBQ2hCLFVBQUssR0FBTCxLQUFLLENBQWdCO1FBakR6QyxjQUFTLEdBQUcsS0FBSyxDQUFBO1FBQ2pCLGFBQVEsR0FBaUIsRUFBRSxDQUFDO1FBQzVCLGVBQVUsR0FBZSxFQUFFLENBQUM7UUFDNUIsZUFBVSxHQUFHLElBQUksQ0FBQztRQUtsQix1QkFBa0IsR0FBRyxFQUFFLENBQUM7UUFDeEIsUUFBRyxHQUFHLEVBQUUsQ0FBQztRQU9ULHNCQUFpQixHQUFpQixFQUFFLENBQUM7UUFDckMsV0FBTSxHQUFnQixFQUFFLENBQUM7UUFDekIscUJBQWdCLEdBQWlCLEVBQUUsQ0FBQztRQUtwQyxVQUFLLEdBQUcsQ0FBQyxDQUFDO1FBZVYsYUFBUSxHQUFpQixFQUFFLENBQUM7UUFJM0IsZ0JBQVcsR0FBRyxJQUFJLEdBQUcsRUFBaUIsQ0FBQztRQUN4QyxvQkFBZSxHQUFlLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUMsSUFBSSxFQUFDLENBQUM7UUFRekMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMseUNBQXlDLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLHdHQUF3RyxFQUFFLENBQUMsQ0FBQTtRQUV0SyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxTQUFTLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxPQUFPLENBQUUsQ0FBQztRQUMxRCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxVQUFVLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxPQUFPLENBQUMsQ0FBQztRQUN6RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM3RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBRSxTQUFTLENBQUUsQ0FBQztRQUM3RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxVQUFVLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBRSwwQkFBMEIsRUFBQyxTQUFTLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBQyxRQUFRLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsT0FBTyxDQUFDLENBQUM7UUFHekQsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFFLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUMsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxFQUFDLElBQUksRUFBQyxTQUFTLEVBQUUsSUFBSSxFQUFDLFNBQVMsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUMsVUFBVSxFQUFDLEVBQUMsRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBQyxNQUFNLEVBQUMsRUFBQyxFQUFDLElBQUksRUFBQyxTQUFTLEVBQUUsSUFBSSxFQUFDLFNBQVMsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsVUFBVSxFQUFFLElBQUksRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxTQUFTLEVBQUUsSUFBSSxFQUFDLFNBQVMsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFFLElBQUksRUFBQyxTQUFTLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsT0FBTyxFQUFDLEVBQUUsQ0FBQztRQUN2ZSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUUsRUFBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUMsQ0FBQyxDQUFDO1FBQ2hYLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBRSxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDO0lBQ3pmLENBQUM7SUFFYixRQUFRO1FBQ04sSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztRQUU1QixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzFCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBO1FBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBSTVCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sRUFBQyxFQUFFO1lBRXBDLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQTtZQUNuQyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUMvQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFHcEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2xFLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFBO1lBQ25DLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUViLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFVBQVMsT0FBTztnQkFDckMsSUFBRyxPQUFPLENBQUMsSUFBSSxJQUFJLEdBQUcsRUFBQztvQkFDckIsR0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7aUJBQ3BCO1lBQ0gsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUM7Z0JBQ2YsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksRUFBRyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBQyxDQUFDLENBQUE7YUFDbkQ7aUJBQUk7Z0JBQ0gsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEdBQUcsd0JBQXdCLENBQUE7YUFDckQ7WUFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQTtZQUdwRCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7WUFHaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ2xFLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUdwRSxDQUFDLENBQUMsQ0FBQTtRQUdGLElBQUksU0FBUyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDbEQsSUFBRyxTQUFTLElBQUksTUFBTTtZQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFDLENBQUMsQ0FBQTtRQUN4RSxJQUFHLFNBQVMsSUFBSSxPQUFPO1lBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUMsQ0FBQyxDQUFBO0lBSTlFLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBUztRQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLHlDQUF5QyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUUsWUFBWSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUUxSixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFLENBQUM7SUFDMUYsQ0FBQztJQUdELE1BQU0sQ0FBQyxLQUFTO1FBRWQsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUE7UUFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUE7UUFFbEIsSUFBSSxPQUFpQixDQUFDO1FBQ3RCLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFFYixJQUFHLElBQUksQ0FBQyxXQUFXLEVBQUM7WUFDbEIsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFDO2dCQUM3QyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUE7YUFFdkM7U0FDRjtRQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFJckIsSUFBSSxTQUFtQixDQUFDO1FBQ3hCLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFFZixJQUFHLElBQUksQ0FBQyxpQkFBaUIsRUFBQztZQUN4QixLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBQztnQkFDbkQsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUE7YUFDL0M7U0FDRjtRQUlELElBQUksS0FBZSxDQUFDO1FBQ3BCLEtBQUssR0FBRyxFQUFFLENBQUM7UUFFWCxJQUFHLElBQUksQ0FBQyxhQUFhLEVBQUM7WUFDcEIsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFDO2dCQUMvQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUE7YUFDdkM7U0FDRjtRQUdELElBQUksTUFBZ0IsQ0FBQztRQUNyQixNQUFNLEdBQUcsRUFBRSxDQUFDO1FBSVosSUFBRyxJQUFJLENBQUMsY0FBYyxFQUFDO1lBQ3JCLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBQztnQkFDaEQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFBO2FBQ3pDO1NBQ0Y7UUFHRCxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsR0FBRyxPQUFPLEdBQUcsZUFBZSxHQUFHLFNBQVMsQ0FBQyxDQUFDO1FBQ2hFLElBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBQztZQUNuQixZQUFZLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztTQUMzQzthQUFJO1lBQ0gsWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDNUM7UUFFRCxJQUFJLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsRUFBQyxFQUFFO1lBQ2hHLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1lBR3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUUxQyxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUM7Z0JBQ3pDLHlDQUF5QztnQkFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQTtnQkFFM0ssSUFBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxFQUFDO29CQUNyRSxPQUFPLENBQUMsR0FBRyxDQUFDLGlDQUFpQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtvQkFDdkgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO29CQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzdELGlFQUFpRTtvQkFDbkUsK0NBQStDO2lCQUMzQzthQUlKO1lBRUgscUNBQXFDO1lBQ3JDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBRXhCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUcsQ0FBQyxDQUFDLENBQUM7WUFLcEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFFeEMsbURBQW1EO1lBQ2pELElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBRWpCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVPLFlBQVk7UUFFbEIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUE7UUFFN0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFBO1FBRS9DLFFBQU8sWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUN4QyxLQUFLLE1BQU07Z0JBQ1QsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUE7Z0JBQ2QsTUFBTTtZQUNSLEtBQUssT0FBTztnQkFDVixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQTtnQkFDZCxNQUFNO1lBQ1IsUUFBUTtZQUNOLGFBQWE7U0FDaEI7UUFJRCxJQUFJLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxFQUFDLEVBQUU7WUFDOUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUE7WUFHeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBRTFDLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBQztnQkFDekMseUNBQXlDO2dCQUN6QyxPQUFPLENBQUMsR0FBRyxDQUFDLDZCQUE2QixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFBO2dCQUUzSyxJQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTLEVBQUM7b0JBQ3JFLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO29CQUN2SCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7b0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDN0QsaUVBQWlFO29CQUNuRSwrQ0FBK0M7aUJBQzNDO2FBSUo7WUFFSCxxQ0FBcUM7WUFDckMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7WUFFeEIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRyxDQUFDLENBQUMsQ0FBQztRQUV0RCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7SUFHRCxnQkFBZ0IsQ0FBQyxhQUFhLEVBQUUsV0FBVztRQUN6QyxPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDN0MsK1JBQStSO1lBQzlSLE9BQU8sQ0FBQyxRQUFRLENBQUMsU0FBUyxLQUFLLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBRTFGLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFLO1FBQ2hCLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN2QyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUdDLGNBQWM7UUFDWixJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNuQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLEVBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUM3RyxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUl0RCxJQUFJLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLEVBQUMsRUFBRTtZQUN4RyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUUzQixDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7OzBGQTlUVSxxQkFBcUI7d0VBQXJCLHFCQUFxQjs7Ozs7O1FDakNoQyw4QkFBbUQsYUFBQSxhQUFBLGFBQUEsYUFBQTtRQU92Qyx5QkFFTTtRQUNSLGlCQUFNO1FBQ04sOEJBQXVCLGFBQUE7UUFFcEIsWUFDRDtRQUFBLGlCQUFNO1FBQ04sOEJBQThFO1FBQzVFLDZkQUNEO1FBQUEsaUJBQU0sRUFBQTtRQUdULCtCQUFtQyxjQUFBLGFBQUE7UUFFdUQsdUJBQU07UUFBQSxpQkFBSTtRQUNoRywwQ0FDK0I7UUFEaEIsc0hBQVksa0JBQWMsSUFBQywrSUFBQTtRQUNYLGlCQUFnQixFQUFBO1FBR2pELCtCQUE0QixhQUFBO1FBQzRELDBCQUFTO1FBQUEsaUJBQUk7UUFDbkcsMENBQ29EO1FBRHBDLHNIQUFZLGtCQUFjLElBQUMscUpBQUE7UUFDUyxpQkFBZ0IsRUFBQTtRQUd0RSwrQkFBNEIsYUFBQTtRQUM0RCxzQkFBSztRQUFBLGlCQUFJO1FBQy9GLDBDQUNxRDtRQUR0QyxzSEFBWSxrQkFBYyxJQUFDLGlKQUFBO1FBQ1csaUJBQWdCLEVBQUE7UUFFdkUsZ0NBQWlELGFBQUE7UUFDdUMsdUJBQU07UUFBQSxpQkFBSTtRQUNoRywwQ0FDaUM7UUFEbEIsc0hBQVksa0JBQWMsSUFBQyxrSkFBQTtRQUNULGlCQUFnQixFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUE7UUFTN0QsZ0NBQWtELGVBQUEsdUJBQUE7UUFDQSw0SEFBZ0Isc0JBQWtCLElBQUM7UUFBcUQsaUJBQWMsRUFBQTtRQUN4SixnQ0FBb0Q7UUFDbEQseUVBTU07UUFDUixpQkFBTSxFQUFBLEVBQUE7O1FBL0NLLGVBQ0Q7UUFEQyx5REFDRDtRQVNtSixlQUEwQjtRQUExQiwwQ0FBMEI7UUFBekcsbUNBQWlCLDRCQUFBLDJDQUFBO1FBTTRFLGVBQTBCO1FBQTFCLDBDQUEwQjtRQUFuSCx1Q0FBcUIsa0NBQUEsMkNBQUEsbUJBQUE7UUFNdUQsZUFBMEI7UUFBMUIsMENBQTBCO1FBQTNHLG1DQUFpQiw4QkFBQSwyQ0FBQSxtQkFBQTtRQUttRSxlQUEwQjtRQUExQiwwQ0FBMEI7UUFBN0csb0NBQWtCLCtCQUFBLDJDQUFBO1FBV3pELGVBQVU7UUFBVix3QkFBVSx5Q0FBQSxvQkFBQTtRQUV5QixlQUF1QjtRQUF2Qiw0Q0FBdUI7O3VGRHBCeEYscUJBQXFCO2NBTGpDLFNBQVM7MkJBQ0UsOEJBQThCO3NJQWtCL0IsT0FBTztrQkFBZixLQUFLO1lBQ29DLFNBQVM7a0JBQWxELFNBQVM7bUJBQUMsV0FBVyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBQYWdpbmF0b3IgfSBmcm9tICdwcmltZW5nL3BhZ2luYXRvcic7XG5pbXBvcnQgeyBDYXRlZ29yeSB9IGZyb20gJy4uLy4uL21vZGVscy9jYXRlZ29yeSc7XG5pbXBvcnQgeyBQcm9kdWN0MTIzIH0gZnJvbSAnLi4vLi4vbW9kZWxzL3Byb2R1Y3QxMjMnO1xuaW1wb3J0IHsgV19Qcm9kdWN0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL3ctcHJvZHVjdCc7XG5pbXBvcnQgeyBQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9wcm9kdWN0cy5zZXJ2aWNlJztcbmltcG9ydCB7VGl0bGUsTWV0YX0gZnJvbSBcIkBhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXJcIjtcblxuXG5cbmludGVyZmFjZSBTZXNzbyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgY29kZTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBDYXRlZ29yaWEge1xuICBuYW1lOiBzdHJpbmcsXG4gIGNvZGU6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgQnJhbmR7XG4gIG5hbWU6IHN0cmluZyxcbiAgY29kZTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBUYWdsaWF7XG4gIG5hbWU6IHN0cmluZyxcbiAgY29kZTogc3RyaW5nXG59XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2VzaG9wLWZyb250ZW5kLXByb2R1Y3RzLWxpc3QnLFxuICB0ZW1wbGF0ZVVybDogJy4vcHJvZHVjdHMtbGlzdC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3Byb2R1Y3QtbGlzdC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgUHJvZHVjdHNMaXN0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgaXNDaGVja2VkID0gZmFsc2VcbiAgcHJvZHVjdHM6IFByb2R1Y3QxMjNbXSA9IFtdO1xuICBjYXRlZ29yaWVzOiBDYXRlZ29yeVtdID0gW107XG4gIGJpbmFyeVByb3AgPSB0cnVlO1xuICBpc0NhdGVnb3J5UGFnZTogYm9vbGVhbjtcbiAgdXJsO1xuICBfdXJsU2VnbWVudDtcbiAgY2F0ZWdvcnlJZDtcbiAgc2VsZWN0ZWRDYXRlZ29yaWVzID0gW107XG4gIHNleCA9IFwiXCI7XG5cbiAgY3VycmVudElkOiBzdHJpbmc7XG4gIGJyYW5kTmFtZTogc3RyaW5nO1xuICBASW5wdXQoKSBwcm9kdWN0OiBQcm9kdWN0MTIzO1xuICBAVmlld0NoaWxkKCdwYWdpbmF0b3InLCB7IHN0YXRpYzogdHJ1ZSB9KSBwYWdpbmF0b3I6IFBhZ2luYXRvclxuXG4gIHByb2R1Y3RPblRoaXNQYWdlOiBQcm9kdWN0MTIzW10gPSBbXTtcbiAgd1Byb2RzOiBXX1Byb2R1Y3RbXSA9IFtdO1xuICBmaWx0ZXJlZFByb2R1Y3RzOiBQcm9kdWN0MTIzW10gPSBbXTtcblxuICBjdXJyZW50UGFnZTtcblxuICBmcm9tQ2Fyb3VzZWw6IGJvb2xlYW47XG4gIGZpcnN0ID0gMDtcblxuXG4gIHNlc3NvIDogU2Vzc29bXTtcbiAgc2VsZWN0ZWRTZXggOiBTZXNzb1tdO1xuXG4gIGNhdGVnb3JpYSA6IENhdGVnb3JpYVtdO1xuICBzZWxlY3RlZENhdGVnb3JpYSA6IENhdGVnb3JpYVtdO1xuXG4gIGJyYW5kOiBCcmFuZFtdO1xuICBzZWxlY3RlZEJyYW5kIDogQnJhbmRbXTtcblxuICB0YWdsaWE6IFRhZ2xpYVtdO1xuICBzZWxlY3RlZFRhZ2xpYSA6IFRhZ2xpYVtdO1xuXG4gIGZpbHRlcmVkOiBQcm9kdWN0MTIzW10gPSBbXTtcblxuXG5cbiAgIGNhdGVnb3J5TWFwID0gbmV3IE1hcDxzdHJpbmcsc3RyaW5nPigpO1xuICBjdXJyZW50Q2F0ZWdvcnkgOiBDYXRlZ29yaWEgPSB7bmFtZTpcImx1Y2FcIiwgY29kZTpcIm9rXCJ9O1xuXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwcm9kdWN0c1NlcnZpY2U6IFByb2R1Y3RzU2VydmljZSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSB0aXRsZVNlcnZpY2U6VGl0bGUsXG4gICAgICAgICAgICAgIHByaXZhdGUgbWV0YVNlcnZpY2U6TWV0YSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUpIHsgXG5cbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlU2VydmljZS5zZXRUaXRsZShcIkFiYmlnbGlhbWVudG8gfCBOb3ZpdMOgIHN1IENhdGFsZG8gU3RvcmVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhU2VydmljZS51cGRhdGVUYWcoeyBuYW1lOiAnZGVzY3JpcHRpb24nLCBjb250ZW50OiAnU3BlZGl6aW9uZSB2ZWxvY2UgfCBhYmJpZ2xpYW1lbnRvIG9ubGluZSBDYXRhbGRvc3RvcmUgfCBTY29wcmkgdHV0dGEgbGEgY29sbGV6aW9uZSBhIHBvcnRhdGEgZGkgY2xpY2shJyB9KVxuXG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoXCI2MWFiN2RiYWY2MzY0ZTM4YTViNjI5N2JcIiwgXCJDYW1pY2llXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KFwiY2FtaWNlXCIsIFwiNjFhYjdkYmFmNjM2NGUzOGE1YjYyOTdiXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KCBcIjYxYWJmNGEyNTc0NTBmYzI1MTc0ODhmMFwiLCBcIlBvbG9cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoIFwiNjFiNjMxYWYwZDdlMzNkODJiNTI0YzEwXCIsIFwiUGFudGFsb25pXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KCBcIjYxYmRkZGZmMmRkYzRhOGMxM2RmNGExN1wiLFwiR2lhY2NoZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcIjYxYmRmODA5ODcyMzUwZjg0MGM4OTc5ZFwiLFwiRmVscGVcIiApO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KFwiNjFlMWE2MmQ4MTU3MmJiNjRiZDhkNzNiXCIsXCJNYWdsaW9uaVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcIjYxZTdjZGM0MmVlZGFkOTEzNTI5NmQ1MFwiLFwiR2lsZXRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoXCI2MjRhYzM0ZTlhM2ZiNGQwYmYwNGVkZDJcIiwgXCJTbmVha2Vyc1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcIjYyNGFjNzg0NTAzYWJiYTM5OTg0NTI2NVwiLCBcIlQtc2hpcnRcIiApO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KFwiNjNiNjdmMmU4ZDE0MTIzYWJlZDhhYmRlXCIsXCJDYXBwb3R0aVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcInQtc2hpcnQgbWxcIiwgXCI2MjRhYzc4NDUwM2FiYmEzOTk4NDUyNjVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoIFwiNjI0YWM3Zjc1MDNhYmJhMzk5ODQ1MjZkXCIsIFwiR2l1YmJvdHRpXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KFwiZ2l1YmJvdHRvXCIsIFwiNjI0YWM3Zjc1MDNhYmJhMzk5ODQ1MjZkXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KCBcIjYzMmViNzQxNTQ0YWRkZDZlYTZjMmJkZFwiLFwiQ2ludHVyZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcIjYzMmViNzU0NTQ0YWRkZDZlYTZjMmJlMFwiLFwiU2NhcnBlXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KFwiYmVybXVkYVwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcIjYzMmViNzYyNTQ0YWRkZDZlYTZjMmJlM1wiLFwiSmVhbnNcIik7XG5cblxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc28gPSBbIHtuYW1lOiAnVW9tbycsIGNvZGU6ICdNJ30sICB7bmFtZTogJ0Rvbm5hJywgY29kZTogJ0YnfV07XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWEgPSBbe25hbWU6J0NhbWljaWUnLCBjb2RlOidjYW1pY2llJ30sIHtuYW1lOidDYXBwb3R0aScsIGNvZGU6J2NhcHBvdHRpJ30se25hbWU6J1BvbG8nLCBjb2RlOidwb2xvJ30se25hbWU6J0dpYWNjaGUnLCBjb2RlOidnaWFjY2hlJ30sIHtuYW1lOidQYW50YWxvbmknLCBjb2RlOidwYW50YWxvbmknfSwge25hbWU6J0ZlbHBlJywgY29kZTonZmVscGUnfSwge25hbWU6J01hZ2xpb25pJywgY29kZTonbWFnbGlvbmknfSwge25hbWU6J0dpbGV0JywgY29kZTonZ2lsZXQnfSwge25hbWU6J1NuZWFrZXJzJywgY29kZTonc25lYWtlcnMnfSwge25hbWU6J1Qtc2hpcnQnLCBjb2RlOid0LXNoaXJ0J30sIHtuYW1lOidHaXViYm90dGknLCBjb2RlOidnaXViYm90dGknfSwge25hbWU6J0NpbnR1cmUnLCBjb2RlOidjaW50dXJlJ30sIHtuYW1lOidTY2FycGUnLCBjb2RlOidzY2FycGUnfSwge25hbWU6J0plYW5zJywgY29kZTonamVhbnMnfSxdO1xuICAgICAgICAgICAgICAgIHRoaXMuYnJhbmQgPSBbIHtuYW1lOiAnQmxhdWVyJywgY29kZTogJ2JsYXVlcid9LCAge25hbWU6ICdPbGQgUml2ZXInLCBjb2RlOiAnb2xkIHJpdmVyJ30sICB7bmFtZTogJ0NvbG1hcicsIGNvZGU6ICdjb2xtYXInfSwgIHtuYW1lOiAnRUE3JywgY29kZTogJ2VhNyd9LCAge25hbWU6ICdLd2F5JywgY29kZTogJ2t3YXknfSwgIHtuYW1lOiAnTGFjb3N0ZScsIGNvZGU6ICdsYWNvc3RlJ30sICB7bmFtZTogJ0JhcmJvdXInLCBjb2RlOiAnYmFyYm91cid9LCAge25hbWU6ICdDaWVzc2UnLCBjb2RlOiAnY2llc3NlJ30sICB7bmFtZTogJ0h1c2t5JywgY29kZTogJ2h1c2t5J30sICB7bmFtZTogJ0NhbmFkaWVucycsIGNvZGU6ICdjYW5hZGllbnMnfV07XG4gICAgICAgICAgICAgICAgdGhpcy50YWdsaWEgPSBbIHtuYW1lOiAnMzcnLCBjb2RlOiAnMzcnfSwgIHtuYW1lOiAnMzgnLCBjb2RlOiAnMzgnfSwgIHtuYW1lOiAnMzknLCBjb2RlOiAnMzknfSwgIHtuYW1lOiAnNDAnLCBjb2RlOiAnNDAnfSwgIHtuYW1lOiAnNDEnLCBjb2RlOiAnNDEnfSwgIHtuYW1lOiAnNDInLCBjb2RlOiAnNDInfSwgIHtuYW1lOiAnNDMnLCBjb2RlOiAnNDMnfSwgIHtuYW1lOiAnNDQnLCBjb2RlOiAnNDQnfSwgIHtuYW1lOiAnNDUnLCBjb2RlOiAnNDUnfSwgIHtuYW1lOiAnNDYnLCBjb2RlOiAnNDYnfSwgIHtuYW1lOiAnWFhTJywgY29kZTogJ3h4cyd9LCAge25hbWU6ICdYUycsIGNvZGU6ICd4cyd9LCAge25hbWU6ICdTJywgY29kZTogJ3MnfSwgIHtuYW1lOiAnTScsIGNvZGU6ICdtJ30sICB7bmFtZTogJ0wnLCBjb2RlOiAnbCd9LCAge25hbWU6ICdYTCcsIGNvZGU6ICd4bCd9LCAge25hbWU6ICdYWEwnLCBjb2RlOiAneHhsJ30sICB7bmFtZTogJ1hYWEwnLCBjb2RlOiAneHh4bCd9XTtcbiAgICAgICAgICAgICAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc2VsZWN0ZWRTZXggPSBbXTtcbiAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcmlhID0gW107XG5cbiAgICB0aGlzLnVybCA9IHRoaXMucm91dGUudXJsO1xuICAgIHRoaXMuX3VybFNlZ21lbnQgPSB0aGlzLnVybC52YWx1ZVswXS5wYXRoXG4gICAgY29uc29sZS5sb2codGhpcy5fdXJsU2VnbWVudCk7XG5cblxuICAgICAgXG4gICAgICB0aGlzLnJvdXRlLnBhcmFtcy5zdWJzY3JpYmUoKHBhcmFtcyk9PntcbiAgICAgXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlJZCA9IHBhcmFtcy5jYXRlZ29yeWlkXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2F0ZWdvcnkgaWQgPSBcIiArIHRoaXMuY2F0ZWdvcnlJZClcbiAgICAgICAgdGhpcy5fZ2V0UHJvZHVjdHMoKTtcbiAgICAgXG5cbiAgICAgICAgdGhpcy5jdXJyZW50Q2F0ZWdvcnkubmFtZSA9IHRoaXMuY2F0ZWdvcnlNYXAuZ2V0KHRoaXMuY2F0ZWdvcnlJZCk7XG4gICAgICAgIGxldCBubW0gPSB0aGlzLmN1cnJlbnRDYXRlZ29yeS5uYW1lXG4gICAgICAgIGxldCBjZGQgPSBcIlwiO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jYXRlZ29yaWEuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgICAgICBpZihlbGVtZW50Lm5hbWUgPT0gbm1tKXtcbiAgICAgICAgICAgIGNkZCA9IGVsZW1lbnQuY29kZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKG5tbSAhPSBudWxsKXtcbiAgICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3JpYS5wdXNoKHtuYW1lIDogbm1tLCBjb2RlOiBjZGR9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYXRlZ29yeS5uYW1lID0gXCJSaWNlcmNhIFBlcnNvbmFsaXp6YXRhXCJcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWVzKSlcblxuICAgICAgICBcbiAgICAgICAgdGhpcy5jdXJyZW50Q2F0ZWdvcnkuY29kZSA9IGNkZDtcblxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwibm9tZSBkZWxsYSBjYXRlZ29yaWEgPSBcIiArIHRoaXMuY3VycmVudENhdGVnb3J5Lm5hbWUpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29kZSBkZWxsYSBjYXRlZ29yaWEgPSBcIiArIHRoaXMuY3VycmVudENhdGVnb3J5LmNvZGUpXG5cbiAgICAgICBcbiAgICAgIH0pXG5cblxuICAgICAgbGV0IHN0b3JlZFNleCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2F0ZWdvcmlhXCIpO1xuICAgICAgaWYoc3RvcmVkU2V4ID09IFwidW9tb1wiKSB0aGlzLnNlbGVjdGVkU2V4LnB1c2goe25hbWU6ICdVb21vJywgY29kZTogJ00nfSlcbiAgICAgIGlmKHN0b3JlZFNleCA9PSBcImRvbm5hXCIpIHRoaXMuc2VsZWN0ZWRTZXgucHVzaCh7bmFtZTogJ0Rvbm5hJywgY29kZTogJ0YnfSlcbiAgICAgXG4gICAgICAgXG4gICAgXG4gIH1cblxuICBjaGFuZ2VQYWdlKGV2ZW50OmFueSk6dm9pZHtcbiAgICBjb25zb2xlLmxvZyhcIiBjaGFuZ2UgcGFnZSBjZXJjbyB0cmEgcXVlc3RvIGluZGljZSA6IFwiICsgKChldmVudC5wYWdlICogOCkpKyBcIiBlIHF1ZXN0byBcIiArICgoZXZlbnQucGFnZSArMSkgKiA4KSArIFwiIGN1cnJlbnQgcGFnZSA9IFwiICsgdGhpcy5jdXJyZW50UGFnZSk7XG5cbiAgICB0aGlzLnByb2R1Y3RPblRoaXNQYWdlID0gdGhpcy5maWx0ZXJlZC5zbGljZSgoZXZlbnQucGFnZSAqIDgpLCAoKGV2ZW50LnBhZ2UgKyAxKSAqIDgpICk7XG4gIH1cblxuXG4gIHNlYXJjaChldmVudDphbnkpOnZvaWR7XG5cbiAgICB0aGlzLnByb2R1Y3RzID0gW11cbiAgICB0aGlzLmZpbHRlcmVkID0gW11cblxuICAgIGxldCBzZXNzbzIzOiBzdHJpbmdbXTtcbiAgICBzZXNzbzIzID0gW107XG5cbiAgICBpZih0aGlzLnNlbGVjdGVkU2V4KXtcbiAgICAgIGZvcihsZXQgaSA9IDA7IGk8IHRoaXMuc2VsZWN0ZWRTZXgubGVuZ3RoOyBpKyspe1xuICAgICAgICBzZXNzbzIzLnB1c2godGhpcy5zZWxlY3RlZFNleFtpXS5jb2RlKVxuICBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhzZXNzbzIzKTtcblxuXG5cbiAgICBsZXQgY2F0ZWdvcmllOiBzdHJpbmdbXTtcbiAgICBjYXRlZ29yaWUgPSBbXTtcblxuICAgIGlmKHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWEpe1xuICAgICAgZm9yKGxldCBpID0gMDsgaTwgdGhpcy5zZWxlY3RlZENhdGVnb3JpYS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNhdGVnb3JpZS5wdXNoKHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWFbaV0uY29kZSlcbiAgICAgIH1cbiAgICB9XG4gICBcblxuXG4gICAgbGV0IGJyYW5kOiBzdHJpbmdbXTtcbiAgICBicmFuZCA9IFtdO1xuXG4gICAgaWYodGhpcy5zZWxlY3RlZEJyYW5kKXtcbiAgICAgIGZvcihsZXQgaSA9IDA7IGk8IHRoaXMuc2VsZWN0ZWRCcmFuZC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGJyYW5kLnB1c2godGhpcy5zZWxlY3RlZEJyYW5kW2ldLmNvZGUpXG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBsZXQgdGFnbGllOiBzdHJpbmdbXTtcbiAgICB0YWdsaWUgPSBbXTtcblxuXG5cbiAgICBpZih0aGlzLnNlbGVjdGVkVGFnbGlhKXtcbiAgICAgIGZvcihsZXQgaSA9IDA7IGk8IHRoaXMuc2VsZWN0ZWRUYWdsaWEubGVuZ3RoOyBpKyspe1xuICAgICAgICB0YWdsaWUucHVzaCh0aGlzLnNlbGVjdGVkVGFnbGlhW2ldLmNvZGUpXG4gICAgICB9XG4gICAgfVxuIFxuXG4gICAgY29uc29sZS5sb2coXCJTZXNzbyA9IFwiICsgc2Vzc28yMyArIFwiIGNhdGVnb3JpZSA9IFwiICsgY2F0ZWdvcmllKTtcbiAgICBpZihzZXNzbzIzWzBdID09IFwiTVwiKXtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2F0ZWdvcmlhXCIsIFwidW9tb1wiKTtcbiAgICB9ZWxzZXtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2F0ZWdvcmlhXCIsIFwiZG9ubmFcIik7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9kdWN0c1NlcnZpY2UuZ2V0RmlsdGVyZWRQcm9kdWN0cyhicmFuZCwgY2F0ZWdvcmllLCBzZXNzbzIzLCB0YWdsaWUpLnN1YnNjcmliZSgocHJvZHVjdHMpPT57XG4gICAgICB0aGlzLnByb2R1Y3RzID0gcHJvZHVjdHNcblxuXG4gICAgICBjb25zb2xlLmxvZyhcIlBST0RPVFRJID0gXCIgKyB0aGlzLnByb2R1Y3RzKVxuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpPHRoaXMucHJvZHVjdHMubGVuZ3RoOyBpKyspe1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvZHVjdHNbaV0ucHJvZHVjdElkKVxuICAgICAgICBjb25zb2xlLmxvZyhcIkZJTkQ6ICAjIyMjIyMjIyMjIyMjIyMjI8OAw4AgXCIgKyB0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5wcm9kdWN0cywgdGhpcy5wcm9kdWN0c1tpXSkgKyBcIiAgICBcIiArIHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLnByb2R1Y3RzLCB0aGlzLnByb2R1Y3RzW2ldKSA9PSBudWxsKVxuXG4gICAgICAgICAgaWYodGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMuZmlsdGVyZWQsIHRoaXMucHJvZHVjdHNbaV0pID09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRISVMgT05FIGRvc24ndCBBTFJFQURZIEVYSVNUOiBcIiArIEpTT04uc3RyaW5naWZ5KHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLnByb2R1Y3RzLCB0aGlzLnByb2R1Y3RzW2ldKSkpXG4gICAgICAgICAgICB0aGlzLmZpbHRlcmVkLnB1c2godGhpcy5wcm9kdWN0c1tpXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWRkZWQgdG8gZmlsdGVyZWQgOiBcIiArIHRoaXMuZmlsdGVyZWQubGVuZ3RoKVxuICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImEgcXVlc3RvIGluZGljZSBcIiArIGkgKyBcIiBjZSBuZSBzb25vIDIgdWd1YWxpXCIpXG4gICAgICAgLy8gICAgIHRoaXMucHJvZHVjdHMgPXRoaXMucHJvZHVjdHMuc3BsaWNlKGksMSlcbiAgICAgICAgICB9XG4gICAgICAgIFxuXG5cbiAgICAgIH1cblxuICAgIC8vICB0aGlzLnNodWZmbGVBcnJheSh0aGlzLnByb2R1Y3RzKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmZpbHRlcmVkKVxuXG4gICAgICB0aGlzLnByb2R1Y3RPblRoaXNQYWdlID0gdGhpcy5maWx0ZXJlZC5zbGljZSgwLCAgOCk7XG4gIFxuXG5cbiAgICAgIFxuICAgICAgdGhpcy5maWx0ZXJlZFByb2R1Y3RzID0gdGhpcy5maWx0ZXJlZDtcblxuICAgIC8vICBzZXRUaW1lb3V0KCgpID0+IHRoaXMucGFnaW5hdG9yLmNoYW5nZVBhZ2UoMSkpO1xuICAgICAgdGhpcy5maXJzdCA9IDA7XG4gICAgICBcbiAgICB9KTsgXG4gIH1cblxuICBwcml2YXRlIF9nZXRQcm9kdWN0cygpIHtcblxuICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWVzLnB1c2godGhpcy5jYXRlZ29yeUlkKVxuXG4gICAgY29uc29sZS5sb2coXCJmYWNjaW8gbGEgcmljaGllc3RhIGdldCBwcm9kdWN0c1wiKVxuXG4gICAgc3dpdGNoKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2F0ZWdvcmlhXCIpKSB7XG4gICAgICBjYXNlIFwidW9tb1wiOlxuICAgICAgICB0aGlzLnNleCA9IFwiTVwiXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvbm5hXCI6XG4gICAgICAgIHRoaXMuc2V4ID0gXCJGXCJcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBjb2RlIGJsb2NrXG4gICAgfVxuXG5cblxuICAgIHRoaXMucHJvZHVjdHNTZXJ2aWNlLmdldEZpbHRlcmVkUHJvZHVjdHMobnVsbCwgdGhpcy5zZWxlY3RlZENhdGVnb3JpZXMsIFt0aGlzLnNleF0sIG51bGwpLnN1YnNjcmliZSgocHJvZHVjdHMpPT57XG4gICAgICB0aGlzLnByb2R1Y3RzID0gcHJvZHVjdHNcblxuXG4gICAgICBjb25zb2xlLmxvZyhcIlBST0RPVFRJID0gXCIgKyB0aGlzLnByb2R1Y3RzKVxuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpPHRoaXMucHJvZHVjdHMubGVuZ3RoOyBpKyspe1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvZHVjdHNbaV0ucHJvZHVjdElkKVxuICAgICAgICBjb25zb2xlLmxvZyhcIkZJTkQ6ICAjIyMjIyMjIyMjIyMjIyMjI8OAw4AgXCIgKyB0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5wcm9kdWN0cywgdGhpcy5wcm9kdWN0c1tpXSkgKyBcIiAgICBcIiArIHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLnByb2R1Y3RzLCB0aGlzLnByb2R1Y3RzW2ldKSA9PSBudWxsKVxuXG4gICAgICAgICAgaWYodGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMuZmlsdGVyZWQsIHRoaXMucHJvZHVjdHNbaV0pID09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRISVMgT05FIGRvc24ndCBBTFJFQURZIEVYSVNUOiBcIiArIEpTT04uc3RyaW5naWZ5KHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLnByb2R1Y3RzLCB0aGlzLnByb2R1Y3RzW2ldKSkpXG4gICAgICAgICAgICB0aGlzLmZpbHRlcmVkLnB1c2godGhpcy5wcm9kdWN0c1tpXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWRkZWQgdG8gZmlsdGVyZWQgOiBcIiArIHRoaXMuZmlsdGVyZWQubGVuZ3RoKVxuICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImEgcXVlc3RvIGluZGljZSBcIiArIGkgKyBcIiBjZSBuZSBzb25vIDIgdWd1YWxpXCIpXG4gICAgICAgLy8gICAgIHRoaXMucHJvZHVjdHMgPXRoaXMucHJvZHVjdHMuc3BsaWNlKGksMSlcbiAgICAgICAgICB9XG4gICAgICAgIFxuXG5cbiAgICAgIH1cblxuICAgIC8vICB0aGlzLnNodWZmbGVBcnJheSh0aGlzLnByb2R1Y3RzKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmZpbHRlcmVkKVxuXG4gICAgICB0aGlzLnByb2R1Y3RPblRoaXNQYWdlID0gdGhpcy5maWx0ZXJlZC5zbGljZSgwLCAgOCk7XG4gICAgICAgIFxuICAgIH0pOyAgXG4gIFxuICB9XG5cblxuICBmaW5kU2FtZVByb2R1Y3RzKHByb2R1Y3RzQXJyYXksIHByb2R1Y3RJdGVtKSA6IG51bWJlcntcbiAgICByZXR1cm4gcHJvZHVjdHNBcnJheS5maW5kKChwcm9kb3R0bywgaW5kZXgpID0+IHtcbiAgICAgLy8gY29uc29sZS5sb2coXCJWaXNpdGVkIGluZGV4IFwiLCBpbmRleCwgXCIgd2l0aCB2IGFsdWUgXCIsIHByb2RvdHRvLnByb2R1Y3RJZCArIFwiIGNvbmZyb250YXRvIGNvbiBcIiwgcHJvZHVjdEl0ZW0ucHJvZHVjdElkICsgXCIgICBcIiArIChwcm9kb3R0by5wcm9kdWN0SWQgPT09IHByb2R1Y3RJdGVtLnByb2R1Y3RJZCkgKyBcIiBpbmRpY2UgdmlzaXRhdG8gaGEgcXVlc3RvIGlkOiBcIiArIHByb2RvdHRvLmlkICsgXCIgcXVlbGxvIGNvbmZyb250YXRvIGhhIHF1ZXN0byBpZCA6IFwiICArIHByb2R1Y3RJdGVtLmlkKTtcbiAgICAgIHJldHVybiAocHJvZG90dG8ucHJvZHVjdElkID09PSBwcm9kdWN0SXRlbS5wcm9kdWN0SWQpICYmIChwcm9kb3R0by5pZCAhPSBwcm9kdWN0SXRlbS5pZClcblxuICAgIH0pO1xuICB9XG5cbiAgc2h1ZmZsZUFycmF5KGFycmF5KSB7XG4gICAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICBbYXJyYXlbaV0sIGFycmF5W2pdXSA9IFthcnJheVtqXSwgYXJyYXlbaV1dO1xuICAgIH1cbn1cblxuXG4gIGNhdGVnb3J5RmlsdGVyKCl7XG4gICAgdGhpcy5wcm9kdWN0cyA9IFtdO1xuICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWVzID0gdGhpcy5jYXRlZ29yaWVzLmZpbHRlcigoY2F0ZWdvcnkpPT4gY2F0ZWdvcnkuY2hlY2tlZCkubWFwKChjYXRlZ29yeSk9PiBjYXRlZ29yeS5pZClcbiAgICBjb25zb2xlLmxvZyhcImNhdGVnb3JpZSA9IFwiICsgdGhpcy5zZWxlY3RlZENhdGVnb3JpZXMpO1xuICAgIFxuXG5cbiAgICB0aGlzLnByb2R1Y3RzU2VydmljZS5nZXRGaWx0ZXJlZFByb2R1Y3RzKG51bGwsIHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWVzLCBbdGhpcy5zZXhdKS5zdWJzY3JpYmUoKHByb2R1Y3RzKT0+e1xuICAgICAgdGhpcy5wcm9kdWN0cyA9IHByb2R1Y3RzO1xuICAgXG4gICAgfSk7ICAgXG4gICAgXG4gIH1cblxufSIsIjxzY3JpcHQgc3JjPVwiLy9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvbGlicy9qcXVlcnkvMi4wLjMvanF1ZXJ5Lm1pbi5qc1wiPjwvc2NyaXB0PlxuXG5cbiAgPGRpdiBjbGFzcz1cImdyaWRcIiBzdHlsZT1cImp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgIFxuICAgIDxkaXYgY2xhc3M9XCJyb3cgZmlsdGVyc1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBkLWZsZXhcIiBzdHlsZT1cImp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCB3LTEwMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyB3LTEwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCIgc3R5bGU9XCJoZWlnaHQ6IDI0MHB4OyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9zY2l1dGkuaXQvaW1tYWdpbmkvY29wZXJ0aW5lL2NvbG1hci1waXVtaW5pLWFpMTctZGVza3RvcC5qcGcpOyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1wiPlxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHctMTAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMjlweDsgbGV0dGVyLXNwYWNpbmc6MnB4OyBmb250LXdlaWdodDogOTAwO1wiPlxuICAgICAgICAgICAgICAge3t0aGlzLmN1cnJlbnRDYXRlZ29yeS5uYW1lfX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgUERMZGVzY3JpcHRpb25cIiBzdHlsZT1cIm1heC1oZWlnaHQ6IDE0MHB4OyBvdmVyZmxvdy15OmF1dG9cIj5cbiAgICAgICAgICAgICAgICBOYXRhIGEgTW9uemEgbmVsIDE5MjMsIGlsIG5vbWUgZGVsbOKAmWF6aWVuZGEgQ29sbWFyIHByZW5kZSBzcHVudG8gZGFsbGUgaW5pemlhbGkgZGVsIHN1byBmb25kYXRvcmUgTWFyaW8gQ29sb21iby4gU3BlY2lhbGl6emF0YSBuZWxs4oCZYWJiaWdsaWFtZW50byBzcG9ydGl2bywgbOKAmWF6aWVuZGEgaXRhbGlhbmEgaW5pemlhbG1lbnRlIHByZXN0YSBtYWdnaW9yZSBhdHRlbnppb25lIGEgcXVlbGxvIGRhIHNjaS4gTWEgw6ggbmVsIDIwMDkgY2hlIG5hc2NlIGxhIGxpbmVhIENvbG1hciBPcmlnaW5hbCBkZWRpY2F0YSBhaSBnaW92YW5pIGUgY2FyYXR0ZXJpenphdGEgZGFsbG8gc3RvcmljbyBsb2dvIHZpbnRhZ2UsIGRhIGNhcGkgZGkgcXVhbGl0w6AgYWxsYSBtb2RhIHVyYmFuLWxpZmVzdHlsZSBtYSBwdXIgc2VtcHJlIGTigJlpc3BpcmF6aW9uZSBzcG9ydGl2YS5cbiAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgdy0xMDBcIiBpZD1cImZpbHRyaVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTQgY29sLTZcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm0tMFwiIHN0eWxlPVwiY29sb3I6IHJnYig1MiwgNTIsIDUyKTsgbGV0dGVyLXNwYWNpbmc6IDJweDsgZm9udC13ZWlnaHQ6IDcwMDtcIj5HZW5lcmU8L3A+XG4gICAgICAgICAgICAgICAgPHAtbXVsdGlTZWxlY3QgKG9uQ2hhbmdlKT1cInNlYXJjaCgkZXZlbnQpXCIgIGRlZmF1bHRMYWJlbD1cIkdlbmVyZVwiIFtvcHRpb25zXT1cInNlc3NvXCIgWyhuZ01vZGVsKV09XCJzZWxlY3RlZFNleFwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIGRpc3BsYXk9XCJjaGlwXCIgIFtzdHlsZV09XCJ7J3dpZHRoJzonMTAwJSd9XCJcbiAgICAgICAgICAgICAgW3BhbmVsU3R5bGVdPVwieyd3aWR0aCc6JzQwMHB4J31cIj48L3AtbXVsdGlTZWxlY3Q+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNCBjb2wtNlwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibS0wXCIgc3R5bGU9XCJjb2xvcjogcmdiKDUyLCA1MiwgNTIpOyBsZXR0ZXItc3BhY2luZzogMnB4OyBmb250LXdlaWdodDogNzAwO1wiPkNhdGVnb3JpZTwvcD5cbiAgICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCAgKG9uQ2hhbmdlKT1cInNlYXJjaCgkZXZlbnQpXCIgIGRlZmF1bHRMYWJlbD1cIkNhdGVnb3JpYVwiIFtvcHRpb25zXT1cImNhdGVnb3JpYVwiIFsobmdNb2RlbCldPVwic2VsZWN0ZWRDYXRlZ29yaWFcIiBvcHRpb25MYWJlbD1cIm5hbWVcIiBkaXNwbGF5PVwiY2hpcFwiICBbc3R5bGVdPVwieyd3aWR0aCc6JzEwMCUnfVwiXG4gICAgICAgICAgICAgICAgW3BhbmVsU3R5bGVdPVwieyd3aWR0aCc6JzQwMHB4J31cIiBbc2Nyb2xsSGVpZ2h0XT1cIjdcIj48L3AtbXVsdGlTZWxlY3Q+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNCBjb2wtNlwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibS0wXCIgc3R5bGU9XCJjb2xvcjogcmdiKDUyLCA1MiwgNTIpOyBsZXR0ZXItc3BhY2luZzogMnB4OyBmb250LXdlaWdodDogNzAwO1wiPkJyYW5kPC9wPlxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IChvbkNoYW5nZSk9XCJzZWFyY2goJGV2ZW50KVwiICBkZWZhdWx0TGFiZWw9XCJCcmFuZFwiIFtvcHRpb25zXT1cImJyYW5kXCIgWyhuZ01vZGVsKV09XCJzZWxlY3RlZEJyYW5kXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgZGlzcGxheT1cImNoaXBcIiAgW3N0eWxlXT1cInsnd2lkdGgnOicxMDAlJ31cIlxuICAgICAgICAgICAgICAgIFtwYW5lbFN0eWxlXT1cInsnd2lkdGgnOic0MDBweCd9XCIgIFtzY3JvbGxIZWlnaHRdPVwiN1wiPjwvcC1tdWx0aVNlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMyBjb2wtNlwiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtLTBcIiBzdHlsZT1cImNvbG9yOiByZ2IoNTIsIDUyLCA1Mik7IGxldHRlci1zcGFjaW5nOiAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7XCI+VGFnbGllPC9wPlxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IChvbkNoYW5nZSk9XCJzZWFyY2goJGV2ZW50KVwiICBkZWZhdWx0TGFiZWw9XCJUYWdsaWFcIiBbb3B0aW9uc109XCJ0YWdsaWFcIiBbKG5nTW9kZWwpXT1cInNlbGVjdGVkVGFnbGlhXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgZGlzcGxheT1cImNoaXBcIiAgW3N0eWxlXT1cInsnd2lkdGgnOicxMDAlJ31cIlxuICAgICAgICAgICAgICAgIFtwYW5lbFN0eWxlXT1cInsnd2lkdGgnOic0MDBweCd9XCI+PC9wLW11bHRpU2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBcblxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIiBzdHlsZT1cImp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPiAgICA8cC1wYWdpbmF0b3IgW3Jvd3NdPVwiMVwiIChvblBhZ2VDaGFuZ2UpPVwiY2hhbmdlUGFnZSgkZXZlbnQpXCJbdG90YWxSZWNvcmRzXT1cImZpbHRlcmVkLmxlbmd0aC84XCIgW2ZpcnN0XSA9ICdmaXJzdCc+PC9wLXBhZ2luYXRvcj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIHAtMVwiICBzdHlsZT1cIm1heC13aWR0aDogMTMwMHB4O1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImdyaWQgbW9iaWxlUHJvZExpc3RHcmlkXCIgc3R5bGU9XCJqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIiAgKm5nSWY9XCJwcm9kdWN0T25UaGlzUGFnZVwiID5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1hdXRvIG1vYmlsZVByb2RMaXN0IHAtMFwiICpuZ0Zvcj1cImxldCBwcm9kdWN0IG9mIHByb2R1Y3RPblRoaXNQYWdlXCIgPlxuXG4gICAgICAgICAgPGVzaG9wLWZyb250ZW5kLXByb2R1Y3QtaXRlbSBbcHJvZHVjdF09XCJwcm9kdWN0XCIgPjwvZXNob3AtZnJvbnRlbmQtcHJvZHVjdC1pdGVtPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8L2Rpdj5cblxuIl19