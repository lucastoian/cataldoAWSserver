import { Component, Input, ViewChild } from '@angular/core';
import { ActivatedRoute } from '@angular/router';
import { Paginator } from 'primeng/paginator';
import { Product123 } from '../../models/product123';
import { CategoriesService } from '../../services/categories.service';
import { ProductsService } from '../../services/products.service';
import { Title, Meta } from "@angular/platform-browser";
import { MessageService } from 'primeng/api';
import * as i0 from "@angular/core";
import * as i1 from "../../services/products.service";
import * as i2 from "../../services/categories.service";
import * as i3 from "primeng/api";
import * as i4 from "@angular/platform-browser";
import * as i5 from "@angular/router";
import * as i6 from "primeng/multiselect";
import * as i7 from "@angular/forms";
import * as i8 from "primeng/paginator";
import * as i9 from "@angular/common";
import * as i10 from "../../components/product-item/product-item.component";
import * as i11 from "primeng/messages";
const _c0 = ["paginator"];
function ProductsListComponent_div_34_div_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 24);
    i0.ɵɵelement(1, "eshop-frontend-product-item", 25);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const product_r3 = ctx.$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("product", product_r3);
} }
function ProductsListComponent_div_34_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 22);
    i0.ɵɵtemplate(1, ProductsListComponent_div_34_div_1_Template, 2, 1, "div", 23);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngForOf", ctx_r0.productOnThisPage);
} }
function ProductsListComponent_p_messages_35_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "img", 28);
    i0.ɵɵelementStart(1, "div", 29)(2, "p");
    i0.ɵɵtext(3, "Nessun risultato trovato.");
    i0.ɵɵelementEnd();
    i0.ɵɵelementStart(4, "p");
    i0.ɵɵtext(5, "Prova a modificare i filtri di ricerca");
    i0.ɵɵelementEnd()();
} }
function ProductsListComponent_p_messages_35_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "p-messages", 26);
    i0.ɵɵtemplate(1, ProductsListComponent_p_messages_35_ng_template_1_Template, 6, 0, "ng-template", 27);
    i0.ɵɵelementEnd();
} }
const _c1 = function () { return { "width": "100%" }; };
const _c2 = function () { return { "width": "400px" }; };
export class ProductsListComponent {
    constructor(productsService, catService, messageService, titleService, meta, route) {
        this.productsService = productsService;
        this.catService = catService;
        this.messageService = messageService;
        this.titleService = titleService;
        this.meta = meta;
        this.route = route;
        this.isChecked = false;
        this.products = [];
        this.categories = [];
        this.binaryProp = true;
        this.selectedCategories = [];
        this.sex = "";
        this.productOnThisPage = [];
        this.wProds = [];
        this.filteredProducts = [];
        this.first = 0;
        this.msgs = [];
        this.filtered = [];
        this.categoryMap = new Map();
        this.currentCategory = { name: "luca", code: "ok" };
        this.categoryMap.set("61ab7dbaf6364e38a5b6297b", "Camicie");
        this.categoryMap.set("camice", "61ab7dbaf6364e38a5b6297b");
        this.categoryMap.set("61abf4a257450fc2517488f0", "Polo");
        this.categoryMap.set("61b631af0d7e33d82b524c10", "Pantaloni");
        this.categoryMap.set("61bdddff2ddc4a8c13df4a17", "Giacche");
        this.categoryMap.set("61bdf809872350f840c8979d", "Felpe");
        this.categoryMap.set("61e1a62d81572bb64bd8d73b", "Maglioni");
        this.categoryMap.set("61e7cdc42eedad9135296d50", "Gilet");
        this.categoryMap.set("624ac34e9a3fb4d0bf04edd2", "Sneakers");
        this.categoryMap.set("624ac784503abba399845265", "T-shirt");
        this.categoryMap.set("63b67f2e8d14123abed8abde", "Cappotti");
        this.categoryMap.set("t-shirt ml", "624ac784503abba399845265");
        this.categoryMap.set("624ac7f7503abba39984526d", "Giubbotti");
        this.categoryMap.set("giubbotto", "624ac7f7503abba39984526d");
        this.categoryMap.set("632eb741544addd6ea6c2bdd", "Cinture");
        this.categoryMap.set("632eb754544addd6ea6c2be0", "Scarpe");
        this.categoryMap.set("bermuda", "");
        this.categoryMap.set("632eb762544addd6ea6c2be3", "Jeans");
        this.sesso = [{ name: 'Uomo', code: 'M' }, { name: 'Donna', code: 'F' }];
        this.categoria = [{ name: 'Camicie', code: 'camicie' }, { name: 'Cappotti', code: 'cappotti' }, { name: 'Polo', code: 'polo' }, { name: 'Giacche', code: 'giacche' }, { name: 'Pantaloni', code: 'pantaloni' }, { name: 'Felpe', code: 'felpe' }, { name: 'Maglioni', code: 'maglioni' }, { name: 'Gilet', code: 'gilet' }, { name: 'Sneakers', code: 'sneakers' }, { name: 'T-shirt', code: 't-shirt' }, { name: 'Giubbotti', code: 'giubbotti' }, { name: 'Cinture', code: 'cinture' }, { name: 'Scarpe', code: 'scarpe' }, { name: 'Jeans', code: 'jeans' },];
        this.brand = [{ name: 'Blauer', code: 'blauer' }, { name: 'Old River', code: 'old river' }, { name: 'Colmar', code: 'colmar' }, { name: 'EA7', code: 'ea7' }, { name: 'Kway', code: 'kway' }, { name: 'Lacoste', code: 'lacoste' }, { name: 'Barbour', code: 'barbour' }, { name: 'Ciesse', code: 'ciesse' }, { name: 'Husky', code: 'husky' }, { name: 'Canadiens', code: 'canadiens' }];
        this.taglia = [{ name: '37', code: '37' }, { name: '38', code: '38' }, { name: '39', code: '39' }, { name: '40', code: '40' }, { name: '41', code: '41' }, { name: '42', code: '42' }, { name: '43', code: '43' }, { name: '44', code: '44' }, { name: '45', code: '45' }, { name: '46', code: '46' }, { name: 'XXS', code: 'xxs' }, { name: 'XS', code: 'xs' }, { name: 'S', code: 's' }, { name: 'M', code: 'm' }, { name: 'L', code: 'l' }, { name: 'XL', code: 'xl' }, { name: 'XXL', code: 'xxl' }, { name: 'XXXL', code: 'xxxl' }];
        this.selectedSex = [];
        this.selectedCategoria = [];
        this.url = this.route.url;
        this._urlSegment = this.url.value[0].path;
        console.log(this._urlSegment);
        this.route.params.subscribe((params) => {
            this.categoryId = params.categoryid;
            console.log("category id = " + this.categoryId);
            this._getProducts();
            this.currentCategory.name = this.categoryMap.get(this.categoryId);
            let nmm = this.currentCategory.name;
            let cdd = "";
            this.categoria.forEach(function (element) {
                if (element.name == nmm) {
                    cdd = element.code;
                }
            });
            if (nmm != null) {
                this.selectedCategoria.push({ name: nmm, code: cdd });
                this.titleService.setTitle(nmm + " | disponibile su Cataldostore | spedizione gratuita");
                this.meta.updateTag({ name: 'description', content: 'Spedizione e reso gratuiti | Scopri tutta la collezione 2022/2023' + nmm + ' |  Cataldo storico negozio di abbigliamento a Palermo' });
                this.meta.updateTag({ property: 'og:title', content: nmm + " | disponibile su Cataldostore | spedizione gratuita" });
                this.meta.updateTag({ property: 'og:description', content: 'Spedizione e reso gratuiti | Scopri tutta la collezione 2022/2023' + nmm + ' |  Cataldo storico negozio di abbigliamento a Palermo' });
                this.meta.updateTag({ property: 'og:image', content: 'https://www.cataldostore.it/svg.logo.a7f21585852635d7.svg' });
                this.meta.updateTag({ property: 'og:site', content: "https://www.cataldostore.it" });
                this.meta.updateTag({ property: 'og:type', content: "Cataldostore:products" });
                this.meta.updateTag({ property: 'og:url', content: "/products/category/" + this.categoryId });
                this.meta.updateTag({ property: 'og:site_name', content: "Cataldostore Shop" });
            }
            else {
                this.currentCategory.name = "Ricerca Personalizzata";
                this.titleService.setTitle("Scopri i nostri prodotti | Cataldostore.it");
                this.meta.updateTag({ name: 'description', content: 'Spedizione e reso gratuiti | Scopri tutta la collezione | Cataldo storico negozio di abbigliamento a Palermo' });
                this.meta.updateTag({ property: 'og:title', content: "Ricerca personalizzata | Cataldostore.it" });
                this.meta.updateTag({ property: 'og:description', content: 'Spedizione e reso gratuiti | Scopri tutta la collezione | Cataldo storico negozio di abbigliamento a Palermo' });
                this.meta.updateTag({ property: 'og:image', content: 'https://www.cataldostore.it/svg.logo.a7f21585852635d7.svg' });
                this.meta.updateTag({ property: 'og:site', content: "https://www.cataldostore.it" });
                this.meta.updateTag({ property: 'og:type', content: "Cataldostore:products" });
                this.meta.updateTag({ property: 'og:url', content: "/products/" });
                this.meta.updateTag({ property: 'og:site_name', content: "Cataldostore Shop" });
            }
            console.log(JSON.stringify(this.selectedCategories));
            this.currentCategory.code = cdd;
            console.log("nome della categoria = " + this.currentCategory.name);
            console.log("code della categoria = " + this.currentCategory.code);
        });
        let storedSex = localStorage.getItem("categoria");
        if (storedSex == "uomo")
            this.selectedSex.push({ name: 'Uomo', code: 'M' });
        if (storedSex == "donna")
            this.selectedSex.push({ name: 'Donna', code: 'F' });
    }
    ngOnInit() {
    }
    changePage(event) {
        console.log(" change page cerco tra questo indice : " + ((event.page * 8)) + " e questo " + ((event.page + 1) * 8) + " current page = " + this.currentPage);
        this.productOnThisPage = this.filtered.slice((event.page * 8), ((event.page + 1) * 8));
    }
    search(event) {
        this.products = [];
        this.filtered = [];
        let sesso23;
        sesso23 = [];
        if (this.selectedSex) {
            for (let i = 0; i < this.selectedSex.length; i++) {
                sesso23.push(this.selectedSex[i].code);
            }
        }
        console.log(sesso23);
        let categorie;
        categorie = [];
        if (this.selectedCategoria) {
            for (let i = 0; i < this.selectedCategoria.length; i++) {
                categorie.push(this.selectedCategoria[i].code);
            }
        }
        let brand;
        brand = [];
        if (this.selectedBrand) {
            for (let i = 0; i < this.selectedBrand.length; i++) {
                brand.push(this.selectedBrand[i].code);
            }
        }
        let taglie;
        taglie = [];
        if (this.selectedTaglia) {
            for (let i = 0; i < this.selectedTaglia.length; i++) {
                taglie.push(this.selectedTaglia[i].code);
            }
        }
        console.log("Sesso = " + sesso23 + " categorie = " + categorie);
        if (sesso23[0] == "M") {
            localStorage.setItem("categoria", "uomo");
        }
        else {
            localStorage.setItem("categoria", "donna");
        }
        this.productsService.getFilteredProducts(brand, categorie, sesso23, taglie).subscribe((products) => {
            this.products = products;
            console.log("PRODOTTI = " + this.products);
            for (let i = 0; i < this.products.length; i++) {
                //console.log(this.products[i].productId)
                console.log("FIND:  #################ÀÀ " + this.findSameProducts(this.products, this.products[i]) + "    " + this.findSameProducts(this.products, this.products[i]) == null);
                if (this.findSameProducts(this.filtered, this.products[i]) == undefined) {
                    console.log("THIS ONE dosn't ALREADY EXIST: " + JSON.stringify(this.findSameProducts(this.products, this.products[i])));
                    this.filtered.push(this.products[i]);
                    console.log("added to filtered : " + this.filtered.length);
                    //   console.log("a questo indice " + i + " ce ne sono 2 uguali")
                    //     this.products =this.products.splice(i,1)
                }
            }
            //  this.shuffleArray(this.products);
            console.log(this.filtered);
            this.productOnThisPage = this.filtered.slice(0, 8);
            if (this.productOnThisPage.length == 0) {
                this.messageService.add({ severity: 'warning', summary: 'Nessun prodotto trovato', detail: 'Modifica i filtri' });
            }
            this.filteredProducts = this.filtered;
            //  setTimeout(() => this.paginator.changePage(1));
            this.first = 0;
        });
    }
    _getProducts() {
        this.selectedCategories.push(this.categoryId);
        console.log("faccio la richiesta get products");
        switch (localStorage.getItem("categoria")) {
            case "uomo":
                this.sex = "M";
                break;
            case "donna":
                this.sex = "F";
                break;
            default:
            // code block
        }
        this.productsService.getFilteredProducts(null, this.selectedCategories, [this.sex], null).subscribe((products) => {
            this.products = products;
            console.log("PRODOTTI = " + this.products);
            for (let i = 0; i < this.products.length; i++) {
                //console.log(this.products[i].productId)
                console.log("FIND:  #################ÀÀ " + this.findSameProducts(this.products, this.products[i]) + "    " + this.findSameProducts(this.products, this.products[i]) == null);
                if (this.findSameProducts(this.filtered, this.products[i]) == undefined) {
                    console.log("THIS ONE dosn't ALREADY EXIST: " + JSON.stringify(this.findSameProducts(this.products, this.products[i])));
                    this.filtered.push(this.products[i]);
                    console.log("added to filtered : " + this.filtered.length);
                    //   console.log("a questo indice " + i + " ce ne sono 2 uguali")
                    //     this.products =this.products.splice(i,1)
                }
            }
            //  this.shuffleArray(this.products);
            console.log(this.filtered);
            this.productOnThisPage = this.filtered.slice(0, 8);
        });
    }
    findSameProducts(productsArray, productItem) {
        return productsArray.find((prodotto, index) => {
            // console.log("Visited index ", index, " with v alue ", prodotto.productId + " confrontato con ", productItem.productId + "   " + (prodotto.productId === productItem.productId) + " indice visitato ha questo id: " + prodotto.id + " quello confrontato ha questo id : "  + productItem.id);
            return (prodotto.productId === productItem.productId) && (prodotto.id != productItem.id);
        });
    }
    shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }
    categoryFilter() {
        this.products = [];
        this.selectedCategories = this.categories.filter((category) => category.checked).map((category) => category.id);
        console.log("categorie = " + this.selectedCategories);
        this.productsService.getFilteredProducts(null, this.selectedCategories, [this.sex]).subscribe((products) => {
            this.products = products;
        });
    }
}
ProductsListComponent.ɵfac = function ProductsListComponent_Factory(t) { return new (t || ProductsListComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.CategoriesService), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i4.Title), i0.ɵɵdirectiveInject(i4.Meta), i0.ɵɵdirectiveInject(i5.ActivatedRoute)); };
ProductsListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ProductsListComponent, selectors: [["eshop-frontend-products-list"]], viewQuery: function ProductsListComponent_Query(rf, ctx) { if (rf & 1) {
        i0.ɵɵviewQuery(_c0, 7);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);
    } }, inputs: { product: "product" }, decls: 36, vars: 34, consts: [[1, "grid", 2, "justify-content", "center"], [1, "row", "filters"], [1, "col-12", "d-flex", 2, "justify-content", "center"], [1, "grid", "w-100"], [1, "row", "w-100"], [1, "col-12", 2, "height", "240px", "background-image", "url(https://sciuti.it/immagini/copertine/colmar-piumini-ai17-desktop.jpg)", "background-repeat", "no-repeat", "background-size", "cover"], [1, "col-12", 2, "font-size", "29px", "letter-spacing", "2px", "font-weight", "900"], [1, "col-12", "PDLdescription", 2, "max-height", "140px", "overflow-y", "auto"], ["id", "filtri", 1, "row", "w-100"], [1, "col-md-4", "col-6"], [1, "m-0", 2, "color", "rgb(52, 52, 52)", "letter-spacing", "2px", "font-weight", "700"], ["defaultLabel", "Genere", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], ["defaultLabel", "Categoria", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], ["defaultLabel", "Brand", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], [1, "col-md-3", "col-6", 2, "display", "none"], ["defaultLabel", "Taglia", "optionLabel", "name", "display", "chip", 3, "options", "ngModel", "panelStyle", "onChange", "ngModelChange"], [1, "row", 2, "justify-content", "center"], [1, "col-12"], [3, "rows", "totalRecords", "first", "onPageChange"], [1, "col-12", "p-1", 2, "max-width", "1330px"], ["class", "grid mobileProdListGrid", "style", "justify-content: center;", 4, "ngIf"], ["severity", "error", 4, "ngIf"], [1, "grid", "mobileProdListGrid", 2, "justify-content", "center"], ["class", "col-auto mobileProdList p-0", 4, "ngFor", "ngForOf"], [1, "col-auto", "mobileProdList", "p-0"], [3, "product"], ["severity", "error"], ["pTemplate", "", "style", "justify-content: center;"], ["src", "assets/danger.svg", "width", "86"], [1, "ml-2", 2, "font-weight", "500", "font-size", "large"]], template: function ProductsListComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
        i0.ɵɵelement(5, "div", 5);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(6, "div", 4)(7, "div", 6)(8, "h1");
        i0.ɵɵtext(9);
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(10, "div", 7)(11, "p");
        i0.ɵɵtext(12, "Cataldo, leader sul mercato italiano dal 1965, tratta i marchi made in italy che hanno fatto la storia, mantenendo qualit\u00E0 e tradizione; ma anche i brands giovani e nascenti, distinguendosi per innovazione e modernit\u00E0. La nostra storia che parte agli inizi del 1900 dall'intuizione e dalla passione di Angelo Cataldo aprendo il nostro primo punto vendita a Palermo.");
        i0.ɵɵelementEnd()()();
        i0.ɵɵelementStart(13, "div", 8)(14, "div", 9)(15, "p", 10);
        i0.ɵɵtext(16, "Genere");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(17, "p-multiSelect", 11);
        i0.ɵɵlistener("onChange", function ProductsListComponent_Template_p_multiSelect_onChange_17_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsListComponent_Template_p_multiSelect_ngModelChange_17_listener($event) { return ctx.selectedSex = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(18, "div", 9)(19, "p", 10);
        i0.ɵɵtext(20, "Categorie");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(21, "p-multiSelect", 12);
        i0.ɵɵlistener("onChange", function ProductsListComponent_Template_p_multiSelect_onChange_21_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsListComponent_Template_p_multiSelect_ngModelChange_21_listener($event) { return ctx.selectedCategoria = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(22, "div", 9)(23, "p", 10);
        i0.ɵɵtext(24, "Brand");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(25, "p-multiSelect", 13);
        i0.ɵɵlistener("onChange", function ProductsListComponent_Template_p_multiSelect_onChange_25_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsListComponent_Template_p_multiSelect_ngModelChange_25_listener($event) { return ctx.selectedBrand = $event; });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(26, "div", 14)(27, "p", 10);
        i0.ɵɵtext(28, "Taglie");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(29, "p-multiSelect", 15);
        i0.ɵɵlistener("onChange", function ProductsListComponent_Template_p_multiSelect_onChange_29_listener($event) { return ctx.search($event); })("ngModelChange", function ProductsListComponent_Template_p_multiSelect_ngModelChange_29_listener($event) { return ctx.selectedTaglia = $event; });
        i0.ɵɵelementEnd()()()()()();
        i0.ɵɵelementStart(30, "div", 16)(31, "div", 17)(32, "p-paginator", 18);
        i0.ɵɵlistener("onPageChange", function ProductsListComponent_Template_p_paginator_onPageChange_32_listener($event) { return ctx.changePage($event); });
        i0.ɵɵelementEnd()();
        i0.ɵɵelementStart(33, "div", 19);
        i0.ɵɵtemplate(34, ProductsListComponent_div_34_Template, 2, 1, "div", 20);
        i0.ɵɵtemplate(35, ProductsListComponent_p_messages_35_Template, 2, 0, "p-messages", 21);
        i0.ɵɵelementEnd()()();
    } if (rf & 2) {
        i0.ɵɵadvance(9);
        i0.ɵɵtextInterpolate(ctx.currentCategory.name);
        i0.ɵɵadvance(8);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(26, _c1));
        i0.ɵɵproperty("options", ctx.sesso)("ngModel", ctx.selectedSex)("panelStyle", i0.ɵɵpureFunction0(27, _c2));
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(28, _c1));
        i0.ɵɵproperty("options", ctx.categoria)("ngModel", ctx.selectedCategoria)("panelStyle", i0.ɵɵpureFunction0(29, _c2));
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(30, _c1));
        i0.ɵɵproperty("options", ctx.brand)("ngModel", ctx.selectedBrand)("panelStyle", i0.ɵɵpureFunction0(31, _c2));
        i0.ɵɵadvance(4);
        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(32, _c1));
        i0.ɵɵproperty("options", ctx.taglia)("ngModel", ctx.selectedTaglia)("panelStyle", i0.ɵɵpureFunction0(33, _c2));
        i0.ɵɵadvance(3);
        i0.ɵɵproperty("rows", 1)("totalRecords", ctx.filtered.length / 8)("first", ctx.first);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.productOnThisPage);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.productOnThisPage.length == 0);
    } }, directives: [i6.MultiSelect, i7.NgControlStatus, i7.NgModel, i8.Paginator, i9.NgIf, i9.NgForOf, i10.ProductItemComponent, i11.Messages, i3.PrimeTemplate], styles: [".filters[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 516px){.mobileProdList[_ngcontent-%COMP%]{padding:3px}.PDLdescription[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 516px){.filters[_ngcontent-%COMP%]{width:95%}}@media screen and (min-width: 1500px){.filters[_ngcontent-%COMP%]{width:92%}}@media screen and (min-width: 1850px){.filters[_ngcontent-%COMP%]{width:89%}}@media screen and (min-width: 1950px){.filters[_ngcontent-%COMP%]{width:80%}}"] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(ProductsListComponent, [{
        type: Component,
        args: [{ selector: 'eshop-frontend-products-list', template: "<script src=\"//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js\"></script>\n\n\n  <div class=\"grid\" style=\"justify-content: center;\">\n    \n    <div class=\"row filters\">\n      <div class=\"col-12 d-flex\" style=\"justify-content: center;\">\n        \n          <div class=\"grid w-100\">\n            <div class=\"row w-100\">\n              <div class=\"col-12\" style=\"height: 240px; background-image: url(https://sciuti.it/immagini/copertine/colmar-piumini-ai17-desktop.jpg); background-repeat: no-repeat; background-size: cover;\">\n               \n              </div>\n            </div>\n            <div class=\"row w-100\">\n              <div class=\"col-12\" style=\"font-size: 29px; letter-spacing:2px; font-weight: 900;\">\n               <h1>{{this.currentCategory.name}}</h1>\n              </div>\n              <div class=\"col-12 PDLdescription\" style=\"max-height: 140px; overflow-y:auto\">\n              <p>Cataldo, leader sul mercato italiano dal 1965, tratta i marchi made in italy che hanno fatto la storia, mantenendo qualit\u00E0 e tradizione; ma anche i brands giovani e nascenti, distinguendosi per innovazione e modernit\u00E0.  La nostra storia che parte agli inizi del 1900 dall'intuizione e dalla passione di Angelo Cataldo aprendo il nostro primo punto vendita a Palermo.</p>\n               </div>\n            </div>\n\n            <div class=\"row w-100\" id=\"filtri\">\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Genere</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Genere\" [options]=\"sesso\" [(ngModel)]=\"selectedSex\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n              [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Categorie</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Categoria\" [options]=\"categoria\" [(ngModel)]=\"selectedCategoria\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n\n              <div class=\"col-md-4 col-6\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Brand</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Brand\" [options]=\"brand\" [(ngModel)]=\"selectedBrand\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n              <div class=\"col-md-3 col-6\" style=\"display:none\">\n                <p class=\"m-0\" style=\"color: rgb(52, 52, 52); letter-spacing: 2px; font-weight: 700;\">Taglie</p>\n                <p-multiSelect (onChange)=\"search($event)\"  defaultLabel=\"Taglia\" [options]=\"taglia\" [(ngModel)]=\"selectedTaglia\" optionLabel=\"name\" display=\"chip\"  [style]=\"{'width':'100%'}\"\n                [panelStyle]=\"{'width':'400px'}\"></p-multiSelect>\n              </div>\n            </div>\n          </div>\n\n      </div>\n    </div>\n    \n\n    <div class=\"row\" style=\"justify-content: center;\">\n      <div class=\"col-12\">    <p-paginator [rows]=\"1\" (onPageChange)=\"changePage($event)\"[totalRecords]=\"filtered.length/8\" [first] = 'first'></p-paginator></div>\n    <div class=\"col-12 p-1\"  style=\"max-width: 1330px;\">\n      <div class=\"grid mobileProdListGrid\" style=\"justify-content: center;\"  *ngIf=\"productOnThisPage\" >\n        <div class=\"col-auto mobileProdList p-0\" *ngFor=\"let product of productOnThisPage\" >\n\n          <eshop-frontend-product-item [product]=\"product\" ></eshop-frontend-product-item>\n        </div>\n\n      </div>\n      <p-messages severity=\"error\"  *ngIf=\"productOnThisPage.length==0\">\n        <ng-template pTemplate style=\"justify-content: center;\">\n            <img src=\"assets/danger.svg\" width=\"86\" />\n            <div class=\"ml-2\" style=\"font-weight: 500; font-size: large;\"><p>Nessun risultato trovato.</p><p>Prova a modificare i filtri di ricerca</p></div>\n        </ng-template>\n    </p-messages>\n    </div>\n  </div>\n  </div>\n\n", styles: [".filters{width:100%}@media screen and (max-width: 516px){.mobileProdList{padding:3px}.PDLdescription{display:none}}@media screen and (min-width: 516px){.filters{width:95%}}@media screen and (min-width: 1500px){.filters{width:92%}}@media screen and (min-width: 1850px){.filters{width:89%}}@media screen and (min-width: 1950px){.filters{width:80%}}\n"] }]
    }], function () { return [{ type: i1.ProductsService }, { type: i2.CategoriesService }, { type: i3.MessageService }, { type: i4.Title }, { type: i4.Meta }, { type: i5.ActivatedRoute }]; }, { product: [{
            type: Input
        }], paginator: [{
            type: ViewChild,
            args: ['paginator', { static: true }]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdHMtbGlzdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL3Byb2R1Y3RzL3NyYy9saWIvcGFnZXMvcHJvZHVjdHMtbGlzdC9wcm9kdWN0cy1saXN0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvcHJvZHVjdHMvc3JjL2xpYi9wYWdlcy9wcm9kdWN0cy1saXN0L3Byb2R1Y3RzLWxpc3QuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFOUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRXJELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUVsRSxPQUFPLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBQyxNQUFNLDJCQUEyQixDQUFDO0FBQ3RELE9BQU8sRUFBUyxjQUFjLEVBQUMsTUFBTSxhQUFhLENBQUM7Ozs7Ozs7Ozs7Ozs7OztJQytDM0MsK0JBQW9GO0lBRWxGLGtEQUFnRjtJQUNsRixpQkFBTTs7O0lBRHlCLGVBQW1CO0lBQW5CLG9DQUFtQjs7O0lBSHBELCtCQUFrRztJQUNoRyw4RUFHTTtJQUVSLGlCQUFNOzs7SUFMeUQsZUFBb0I7SUFBcEIsa0RBQW9COzs7SUFRN0UsMEJBQTBDO0lBQzFDLCtCQUE4RCxRQUFBO0lBQUcseUNBQXlCO0lBQUEsaUJBQUk7SUFBQSx5QkFBRztJQUFBLHNEQUFzQztJQUFBLGlCQUFJLEVBQUE7OztJQUhqSixzQ0FBa0U7SUFDaEUscUdBR2M7SUFDbEIsaUJBQWE7Ozs7QUQ5QmpCLE1BQU0sT0FBTyxxQkFBcUI7SUFnRGhDLFlBQW9CLGVBQWdDLEVBQ2hDLFVBQTZCLEVBQzdCLGNBQThCLEVBQzlCLFlBQWtCLEVBQ2xCLElBQVUsRUFDVixLQUFxQjtRQUxyQixvQkFBZSxHQUFmLGVBQWUsQ0FBaUI7UUFDaEMsZUFBVSxHQUFWLFVBQVUsQ0FBbUI7UUFDN0IsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLGlCQUFZLEdBQVosWUFBWSxDQUFNO1FBQ2xCLFNBQUksR0FBSixJQUFJLENBQU07UUFDVixVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQXBEekMsY0FBUyxHQUFHLEtBQUssQ0FBQTtRQUNqQixhQUFRLEdBQWlCLEVBQUUsQ0FBQztRQUM1QixlQUFVLEdBQWUsRUFBRSxDQUFDO1FBQzVCLGVBQVUsR0FBRyxJQUFJLENBQUM7UUFLbEIsdUJBQWtCLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLFFBQUcsR0FBRyxFQUFFLENBQUM7UUFPVCxzQkFBaUIsR0FBaUIsRUFBRSxDQUFDO1FBQ3JDLFdBQU0sR0FBZ0IsRUFBRSxDQUFDO1FBQ3pCLHFCQUFnQixHQUFpQixFQUFFLENBQUM7UUFLcEMsVUFBSyxHQUFHLENBQUMsQ0FBQztRQWNWLFNBQUksR0FBYyxFQUFFLENBQUM7UUFFckIsYUFBUSxHQUFpQixFQUFFLENBQUM7UUFJM0IsZ0JBQVcsR0FBRyxJQUFJLEdBQUcsRUFBaUIsQ0FBQztRQUN4QyxvQkFBZSxHQUFlLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUMsSUFBSSxFQUFDLENBQUM7UUFZekMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLDBCQUEwQixDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUUsMEJBQTBCLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUUsMEJBQTBCLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUUsMEJBQTBCLEVBQUMsU0FBUyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsT0FBTyxDQUFFLENBQUM7UUFDMUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsT0FBTyxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUUsU0FBUyxDQUFFLENBQUM7UUFDN0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLDBCQUEwQixDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUUsMEJBQTBCLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLDBCQUEwQixDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUUsMEJBQTBCLEVBQUMsU0FBUyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsUUFBUSxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFDLE9BQU8sQ0FBQyxDQUFDO1FBR3pELElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBRSxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFDLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFFLElBQUksRUFBQyxTQUFTLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLFVBQVUsRUFBQyxFQUFDLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUMsTUFBTSxFQUFDLEVBQUMsRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFFLElBQUksRUFBQyxTQUFTLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxXQUFXLEVBQUUsSUFBSSxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsVUFBVSxFQUFFLElBQUksRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFFLElBQUksRUFBQyxTQUFTLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxXQUFXLEVBQUUsSUFBSSxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLE9BQU8sRUFBQyxFQUFFLENBQUM7UUFDdmUsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFFLEVBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFDLENBQUMsQ0FBQztRQUNoWCxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUUsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFDLEVBQUcsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUMsRUFBRyxFQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQyxFQUFHLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUl2ZixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDO1FBRTVCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDMUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUE7UUFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFJNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENB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OEJBQThCO21NQWtCL0IsT0FBTztrQkFBZixLQUFLO1lBQ29DLFNBQVM7a0JBQWxELFNBQVM7bUJBQUMsV0FBVyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBQYWdpbmF0b3IgfSBmcm9tICdwcmltZW5nL3BhZ2luYXRvcic7XG5pbXBvcnQgeyBDYXRlZ29yeSB9IGZyb20gJy4uLy4uL21vZGVscy9jYXRlZ29yeSc7XG5pbXBvcnQgeyBQcm9kdWN0MTIzIH0gZnJvbSAnLi4vLi4vbW9kZWxzL3Byb2R1Y3QxMjMnO1xuaW1wb3J0IHsgV19Qcm9kdWN0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL3ctcHJvZHVjdCc7XG5pbXBvcnQgeyBDYXRlZ29yaWVzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2NhdGVnb3JpZXMuc2VydmljZSc7XG5pbXBvcnQgeyBQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9wcm9kdWN0cy5zZXJ2aWNlJztcbmltcG9ydCB7IFdfUHJvZHVjdHNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdy1wcm9kdWN0cy5zZXJ2aWNlJztcbmltcG9ydCB7VGl0bGUsIE1ldGF9IGZyb20gXCJAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyXCI7XG5pbXBvcnQge01lc3NhZ2UsTWVzc2FnZVNlcnZpY2V9IGZyb20gJ3ByaW1lbmcvYXBpJztcblxuXG5pbnRlcmZhY2UgU2Vzc28ge1xuICBuYW1lOiBzdHJpbmcsXG4gIGNvZGU6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgQ2F0ZWdvcmlhIHtcbiAgbmFtZTogc3RyaW5nLFxuICBjb2RlOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIEJyYW5ke1xuICBuYW1lOiBzdHJpbmcsXG4gIGNvZGU6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgVGFnbGlhe1xuICBuYW1lOiBzdHJpbmcsXG4gIGNvZGU6IHN0cmluZ1xufVxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdlc2hvcC1mcm9udGVuZC1wcm9kdWN0cy1saXN0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL3Byb2R1Y3RzLWxpc3QuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9wcm9kdWN0LWxpc3Quc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzTGlzdENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIGlzQ2hlY2tlZCA9IGZhbHNlXG4gIHByb2R1Y3RzOiBQcm9kdWN0MTIzW10gPSBbXTtcbiAgY2F0ZWdvcmllczogQ2F0ZWdvcnlbXSA9IFtdO1xuICBiaW5hcnlQcm9wID0gdHJ1ZTtcbiAgaXNDYXRlZ29yeVBhZ2U6IGJvb2xlYW47XG4gIHVybDtcbiAgX3VybFNlZ21lbnQ7XG4gIGNhdGVnb3J5SWQ7XG4gIHNlbGVjdGVkQ2F0ZWdvcmllcyA9IFtdO1xuICBzZXggPSBcIlwiO1xuXG4gIGN1cnJlbnRJZDogc3RyaW5nO1xuICBicmFuZE5hbWU6IHN0cmluZztcbiAgQElucHV0KCkgcHJvZHVjdDogUHJvZHVjdDEyMztcbiAgQFZpZXdDaGlsZCgncGFnaW5hdG9yJywgeyBzdGF0aWM6IHRydWUgfSkgcGFnaW5hdG9yOiBQYWdpbmF0b3JcblxuICBwcm9kdWN0T25UaGlzUGFnZTogUHJvZHVjdDEyM1tdID0gW107XG4gIHdQcm9kczogV19Qcm9kdWN0W10gPSBbXTtcbiAgZmlsdGVyZWRQcm9kdWN0czogUHJvZHVjdDEyM1tdID0gW107XG5cbiAgY3VycmVudFBhZ2U7XG5cbiAgZnJvbUNhcm91c2VsOiBib29sZWFuO1xuICBmaXJzdCA9IDA7XG5cblxuICBzZXNzbyA6IFNlc3NvW107XG4gIHNlbGVjdGVkU2V4IDogU2Vzc29bXTtcblxuICBjYXRlZ29yaWEgOiBDYXRlZ29yaWFbXTtcbiAgc2VsZWN0ZWRDYXRlZ29yaWEgOiBDYXRlZ29yaWFbXTtcblxuICBicmFuZDogQnJhbmRbXTtcbiAgc2VsZWN0ZWRCcmFuZCA6IEJyYW5kW107XG5cbiAgdGFnbGlhOiBUYWdsaWFbXTtcbiAgc2VsZWN0ZWRUYWdsaWEgOiBUYWdsaWFbXTtcbiAgbXNnczogTWVzc2FnZVtdID0gW107XG5cbiAgZmlsdGVyZWQ6IFByb2R1Y3QxMjNbXSA9IFtdO1xuXG5cblxuICAgY2F0ZWdvcnlNYXAgPSBuZXcgTWFwPHN0cmluZyxzdHJpbmc+KCk7XG4gIGN1cnJlbnRDYXRlZ29yeSA6IENhdGVnb3JpYSA9IHtuYW1lOlwibHVjYVwiLCBjb2RlOlwib2tcIn07XG5cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHByb2R1Y3RzU2VydmljZTogUHJvZHVjdHNTZXJ2aWNlLFxuICAgICAgICAgICAgICBwcml2YXRlIGNhdFNlcnZpY2U6IENhdGVnb3JpZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICBwcml2YXRlIG1lc3NhZ2VTZXJ2aWNlOiBNZXNzYWdlU2VydmljZSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSB0aXRsZVNlcnZpY2U6VGl0bGUsXG4gICAgICAgICAgICAgIHByaXZhdGUgbWV0YTogTWV0YSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUpIHsgXG5cbiAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KFwiNjFhYjdkYmFmNjM2NGUzOGE1YjYyOTdiXCIsIFwiQ2FtaWNpZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcImNhbWljZVwiLCBcIjYxYWI3ZGJhZjYzNjRlMzhhNWI2Mjk3YlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldCggXCI2MWFiZjRhMjU3NDUwZmMyNTE3NDg4ZjBcIiwgXCJQb2xvXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KCBcIjYxYjYzMWFmMGQ3ZTMzZDgyYjUyNGMxMFwiLCBcIlBhbnRhbG9uaVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldCggXCI2MWJkZGRmZjJkZGM0YThjMTNkZjRhMTdcIixcIkdpYWNjaGVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoXCI2MWJkZjgwOTg3MjM1MGY4NDBjODk3OWRcIixcIkZlbHBlXCIgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcIjYxZTFhNjJkODE1NzJiYjY0YmQ4ZDczYlwiLFwiTWFnbGlvbmlcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoXCI2MWU3Y2RjNDJlZWRhZDkxMzUyOTZkNTBcIixcIkdpbGV0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KFwiNjI0YWMzNGU5YTNmYjRkMGJmMDRlZGQyXCIsIFwiU25lYWtlcnNcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoXCI2MjRhYzc4NDUwM2FiYmEzOTk4NDUyNjVcIiwgXCJULXNoaXJ0XCIgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcIjYzYjY3ZjJlOGQxNDEyM2FiZWQ4YWJkZVwiLFwiQ2FwcG90dGlcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoXCJ0LXNoaXJ0IG1sXCIsIFwiNjI0YWM3ODQ1MDNhYmJhMzk5ODQ1MjY1XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlNYXAuc2V0KCBcIjYyNGFjN2Y3NTAzYWJiYTM5OTg0NTI2ZFwiLCBcIkdpdWJib3R0aVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcImdpdWJib3R0b1wiLCBcIjYyNGFjN2Y3NTAzYWJiYTM5OTg0NTI2ZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldCggXCI2MzJlYjc0MTU0NGFkZGQ2ZWE2YzJiZGRcIixcIkNpbnR1cmVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoXCI2MzJlYjc1NDU0NGFkZGQ2ZWE2YzJiZTBcIixcIlNjYXJwZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5TWFwLnNldChcImJlcm11ZGFcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeU1hcC5zZXQoXCI2MzJlYjc2MjU0NGFkZGQ2ZWE2YzJiZTNcIixcIkplYW5zXCIpO1xuXG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlc3NvID0gWyB7bmFtZTogJ1VvbW8nLCBjb2RlOiAnTSd9LCAge25hbWU6ICdEb25uYScsIGNvZGU6ICdGJ31dO1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmlhID0gW3tuYW1lOidDYW1pY2llJywgY29kZTonY2FtaWNpZSd9LCB7bmFtZTonQ2FwcG90dGknLCBjb2RlOidjYXBwb3R0aSd9LHtuYW1lOidQb2xvJywgY29kZToncG9sbyd9LHtuYW1lOidHaWFjY2hlJywgY29kZTonZ2lhY2NoZSd9LCB7bmFtZTonUGFudGFsb25pJywgY29kZToncGFudGFsb25pJ30sIHtuYW1lOidGZWxwZScsIGNvZGU6J2ZlbHBlJ30sIHtuYW1lOidNYWdsaW9uaScsIGNvZGU6J21hZ2xpb25pJ30sIHtuYW1lOidHaWxldCcsIGNvZGU6J2dpbGV0J30sIHtuYW1lOidTbmVha2VycycsIGNvZGU6J3NuZWFrZXJzJ30sIHtuYW1lOidULXNoaXJ0JywgY29kZTondC1zaGlydCd9LCB7bmFtZTonR2l1YmJvdHRpJywgY29kZTonZ2l1YmJvdHRpJ30sIHtuYW1lOidDaW50dXJlJywgY29kZTonY2ludHVyZSd9LCB7bmFtZTonU2NhcnBlJywgY29kZTonc2NhcnBlJ30sIHtuYW1lOidKZWFucycsIGNvZGU6J2plYW5zJ30sXTtcbiAgICAgICAgICAgICAgICB0aGlzLmJyYW5kID0gWyB7bmFtZTogJ0JsYXVlcicsIGNvZGU6ICdibGF1ZXInfSwgIHtuYW1lOiAnT2xkIFJpdmVyJywgY29kZTogJ29sZCByaXZlcid9LCAge25hbWU6ICdDb2xtYXInLCBjb2RlOiAnY29sbWFyJ30sICB7bmFtZTogJ0VBNycsIGNvZGU6ICdlYTcnfSwgIHtuYW1lOiAnS3dheScsIGNvZGU6ICdrd2F5J30sICB7bmFtZTogJ0xhY29zdGUnLCBjb2RlOiAnbGFjb3N0ZSd9LCAge25hbWU6ICdCYXJib3VyJywgY29kZTogJ2JhcmJvdXInfSwgIHtuYW1lOiAnQ2llc3NlJywgY29kZTogJ2NpZXNzZSd9LCAge25hbWU6ICdIdXNreScsIGNvZGU6ICdodXNreSd9LCAge25hbWU6ICdDYW5hZGllbnMnLCBjb2RlOiAnY2FuYWRpZW5zJ31dO1xuICAgICAgICAgICAgICAgIHRoaXMudGFnbGlhID0gWyB7bmFtZTogJzM3JywgY29kZTogJzM3J30sICB7bmFtZTogJzM4JywgY29kZTogJzM4J30sICB7bmFtZTogJzM5JywgY29kZTogJzM5J30sICB7bmFtZTogJzQwJywgY29kZTogJzQwJ30sICB7bmFtZTogJzQxJywgY29kZTogJzQxJ30sICB7bmFtZTogJzQyJywgY29kZTogJzQyJ30sICB7bmFtZTogJzQzJywgY29kZTogJzQzJ30sICB7bmFtZTogJzQ0JywgY29kZTogJzQ0J30sICB7bmFtZTogJzQ1JywgY29kZTogJzQ1J30sICB7bmFtZTogJzQ2JywgY29kZTogJzQ2J30sICB7bmFtZTogJ1hYUycsIGNvZGU6ICd4eHMnfSwgIHtuYW1lOiAnWFMnLCBjb2RlOiAneHMnfSwgIHtuYW1lOiAnUycsIGNvZGU6ICdzJ30sICB7bmFtZTogJ00nLCBjb2RlOiAnbSd9LCAge25hbWU6ICdMJywgY29kZTogJ2wnfSwgIHtuYW1lOiAnWEwnLCBjb2RlOiAneGwnfSwgIHtuYW1lOiAnWFhMJywgY29kZTogJ3h4bCd9LCAge25hbWU6ICdYWFhMJywgY29kZTogJ3h4eGwnfV07XG4gICAgICAgICAgICAgXG4gICBcbiAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkU2V4ID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3JpYSA9IFtdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy51cmwgPSB0aGlzLnJvdXRlLnVybDtcbiAgICAgICAgICAgICAgICB0aGlzLl91cmxTZWdtZW50ID0gdGhpcy51cmwudmFsdWVbMF0ucGF0aFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX3VybFNlZ21lbnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgdGhpcy5yb3V0ZS5wYXJhbXMuc3Vic2NyaWJlKChwYXJhbXMpPT57XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5SWQgPSBwYXJhbXMuY2F0ZWdvcnlpZFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNhdGVnb3J5IGlkID0gXCIgKyB0aGlzLmNhdGVnb3J5SWQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFByb2R1Y3RzKCk7XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENhdGVnb3J5Lm5hbWUgPSB0aGlzLmNhdGVnb3J5TWFwLmdldCh0aGlzLmNhdGVnb3J5SWQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm1tID0gdGhpcy5jdXJyZW50Q2F0ZWdvcnkubmFtZVxuICAgICAgICAgICAgICAgICAgICBsZXQgY2RkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmlhLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5uYW1lID09IG5tbSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZGQgPSBlbGVtZW50LmNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZihubW0gIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWEucHVzaCh7bmFtZSA6IG5tbSwgY29kZTogY2RkfSlcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpdGxlU2VydmljZS5zZXRUaXRsZShubW0gKyBcIiB8IGRpc3BvbmliaWxlIHN1IENhdGFsZG9zdG9yZSB8IHNwZWRpemlvbmUgZ3JhdHVpdGFcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YS51cGRhdGVUYWcoeyBuYW1lOiAnZGVzY3JpcHRpb24nLCBjb250ZW50OiAnU3BlZGl6aW9uZSBlIHJlc28gZ3JhdHVpdGkgfCBTY29wcmkgdHV0dGEgbGEgY29sbGV6aW9uZSAyMDIyLzIwMjMnICsgbm1tICsnIHwgIENhdGFsZG8gc3RvcmljbyBuZWdvemlvIGRpIGFiYmlnbGlhbWVudG8gYSBQYWxlcm1vJyB9KVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YS51cGRhdGVUYWcoXG4gICAgICAgICAgICAgICAgICAgICAgeyBwcm9wZXJ0eTogJ29nOnRpdGxlJywgY29udGVudDogbm1tICsgXCIgfCBkaXNwb25pYmlsZSBzdSBDYXRhbGRvc3RvcmUgfCBzcGVkaXppb25lIGdyYXR1aXRhXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5OiAnb2c6ZGVzY3JpcHRpb24nLCBjb250ZW50OiAnU3BlZGl6aW9uZSBlIHJlc28gZ3JhdHVpdGkgfCBTY29wcmkgdHV0dGEgbGEgY29sbGV6aW9uZSAyMDIyLzIwMjMnICsgbm1tICsnIHwgIENhdGFsZG8gc3RvcmljbyBuZWdvemlvIGRpIGFiYmlnbGlhbWVudG8gYSBQYWxlcm1vJyAgfSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5OiAnb2c6aW1hZ2UnLCBjb250ZW50OiAnaHR0cHM6Ly93d3cuY2F0YWxkb3N0b3JlLml0L3N2Zy5sb2dvLmE3ZjIxNTg1ODUyNjM1ZDcuc3ZnJ30sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YS51cGRhdGVUYWcoXG4gICAgICAgICAgICAgICAgICAgICAgeyBwcm9wZXJ0eTogJ29nOnNpdGUnLCBjb250ZW50OiBcImh0dHBzOi8vd3d3LmNhdGFsZG9zdG9yZS5pdFwifSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5OiAnb2c6dHlwZScsIGNvbnRlbnQ6IFwiQ2F0YWxkb3N0b3JlOnByb2R1Y3RzXCJ9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKFxuICAgICAgICAgICAgICAgICAgICAgIHsgcHJvcGVydHk6ICdvZzp1cmwnLCBjb250ZW50OiBcIi9wcm9kdWN0cy9jYXRlZ29yeS9cIisgdGhpcy5jYXRlZ29yeUlkfSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5OiAnb2c6c2l0ZV9uYW1lJywgY29udGVudDogXCJDYXRhbGRvc3RvcmUgU2hvcFwifSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2F0ZWdvcnkubmFtZSA9IFwiUmljZXJjYSBQZXJzb25hbGl6emF0YVwiXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZVNlcnZpY2Uuc2V0VGl0bGUoIFwiU2NvcHJpIGkgbm9zdHJpIHByb2RvdHRpIHwgQ2F0YWxkb3N0b3JlLml0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YS51cGRhdGVUYWcoeyBuYW1lOiAnZGVzY3JpcHRpb24nLCBjb250ZW50OiAnU3BlZGl6aW9uZSBlIHJlc28gZ3JhdHVpdGkgfCBTY29wcmkgdHV0dGEgbGEgY29sbGV6aW9uZSB8IENhdGFsZG8gc3RvcmljbyBuZWdvemlvIGRpIGFiYmlnbGlhbWVudG8gYSBQYWxlcm1vJyB9KVxuXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvcGVydHk6ICdvZzp0aXRsZScsIGNvbnRlbnQ6IFwiUmljZXJjYSBwZXJzb25hbGl6emF0YSB8IENhdGFsZG9zdG9yZS5pdFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm9wZXJ0eTogJ29nOmRlc2NyaXB0aW9uJywgY29udGVudDogJ1NwZWRpemlvbmUgZSByZXNvIGdyYXR1aXRpIHwgU2NvcHJpIHR1dHRhIGxhIGNvbGxlemlvbmUgfCBDYXRhbGRvIHN0b3JpY28gbmVnb3ppbyBkaSBhYmJpZ2xpYW1lbnRvIGEgUGFsZXJtbycgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm9wZXJ0eTogJ29nOmltYWdlJywgY29udGVudDogJ2h0dHBzOi8vd3d3LmNhdGFsZG9zdG9yZS5pdC9zdmcubG9nby5hN2YyMTU4NTg1MjYzNWQ3LnN2Zyd9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvcGVydHk6ICdvZzpzaXRlJywgY29udGVudDogXCJodHRwczovL3d3dy5jYXRhbGRvc3RvcmUuaXRcIn0sXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm9wZXJ0eTogJ29nOnR5cGUnLCBjb250ZW50OiBcIkNhdGFsZG9zdG9yZTpwcm9kdWN0c1wifSxcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YS51cGRhdGVUYWcoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5OiAnb2c6dXJsJywgY29udGVudDogXCIvcHJvZHVjdHMvXCJ9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvcGVydHk6ICdvZzpzaXRlX25hbWUnLCBjb250ZW50OiBcIkNhdGFsZG9zdG9yZSBTaG9wXCJ9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLnNlbGVjdGVkQ2F0ZWdvcmllcykpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENhdGVnb3J5LmNvZGUgPSBjZGQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vbWUgZGVsbGEgY2F0ZWdvcmlhID0gXCIgKyB0aGlzLmN1cnJlbnRDYXRlZ29yeS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvZGUgZGVsbGEgY2F0ZWdvcmlhID0gXCIgKyB0aGlzLmN1cnJlbnRDYXRlZ29yeS5jb2RlKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGxldCBzdG9yZWRTZXggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhdGVnb3JpYVwiKTtcbiAgICAgICAgICAgICAgICAgIGlmKHN0b3JlZFNleCA9PSBcInVvbW9cIikgdGhpcy5zZWxlY3RlZFNleC5wdXNoKHtuYW1lOiAnVW9tbycsIGNvZGU6ICdNJ30pXG4gICAgICAgICAgICAgICAgICBpZihzdG9yZWRTZXggPT0gXCJkb25uYVwiKSB0aGlzLnNlbGVjdGVkU2V4LnB1c2goe25hbWU6ICdEb25uYScsIGNvZGU6ICdGJ30pXG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgIFxuICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICBcbiAgICAgICBcbiAgICBcbiAgfVxuXG4gIGNoYW5nZVBhZ2UoZXZlbnQ6YW55KTp2b2lke1xuICAgIGNvbnNvbGUubG9nKFwiIGNoYW5nZSBwYWdlIGNlcmNvIHRyYSBxdWVzdG8gaW5kaWNlIDogXCIgKyAoKGV2ZW50LnBhZ2UgKiA4KSkrIFwiIGUgcXVlc3RvIFwiICsgKChldmVudC5wYWdlICsxKSAqIDgpICsgXCIgY3VycmVudCBwYWdlID0gXCIgKyB0aGlzLmN1cnJlbnRQYWdlKTtcblxuICAgIHRoaXMucHJvZHVjdE9uVGhpc1BhZ2UgPSB0aGlzLmZpbHRlcmVkLnNsaWNlKChldmVudC5wYWdlICogOCksICgoZXZlbnQucGFnZSArIDEpICogOCkgKTtcbiAgfVxuXG5cbiAgc2VhcmNoKGV2ZW50OmFueSk6dm9pZHtcblxuICAgIHRoaXMucHJvZHVjdHMgPSBbXVxuICAgIHRoaXMuZmlsdGVyZWQgPSBbXVxuXG4gICAgbGV0IHNlc3NvMjM6IHN0cmluZ1tdO1xuICAgIHNlc3NvMjMgPSBbXTtcblxuICAgIGlmKHRoaXMuc2VsZWN0ZWRTZXgpe1xuICAgICAgZm9yKGxldCBpID0gMDsgaTwgdGhpcy5zZWxlY3RlZFNleC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHNlc3NvMjMucHVzaCh0aGlzLnNlbGVjdGVkU2V4W2ldLmNvZGUpXG4gIFxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKHNlc3NvMjMpO1xuXG5cblxuICAgIGxldCBjYXRlZ29yaWU6IHN0cmluZ1tdO1xuICAgIGNhdGVnb3JpZSA9IFtdO1xuXG4gICAgaWYodGhpcy5zZWxlY3RlZENhdGVnb3JpYSl7XG4gICAgICBmb3IobGV0IGkgPSAwOyBpPCB0aGlzLnNlbGVjdGVkQ2F0ZWdvcmlhLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY2F0ZWdvcmllLnB1c2godGhpcy5zZWxlY3RlZENhdGVnb3JpYVtpXS5jb2RlKVxuICAgICAgfVxuICAgIH1cbiAgIFxuXG5cbiAgICBsZXQgYnJhbmQ6IHN0cmluZ1tdO1xuICAgIGJyYW5kID0gW107XG5cbiAgICBpZih0aGlzLnNlbGVjdGVkQnJhbmQpe1xuICAgICAgZm9yKGxldCBpID0gMDsgaTwgdGhpcy5zZWxlY3RlZEJyYW5kLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgYnJhbmQucHVzaCh0aGlzLnNlbGVjdGVkQnJhbmRbaV0uY29kZSlcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGxldCB0YWdsaWU6IHN0cmluZ1tdO1xuICAgIHRhZ2xpZSA9IFtdO1xuXG5cblxuICAgIGlmKHRoaXMuc2VsZWN0ZWRUYWdsaWEpe1xuICAgICAgZm9yKGxldCBpID0gMDsgaTwgdGhpcy5zZWxlY3RlZFRhZ2xpYS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHRhZ2xpZS5wdXNoKHRoaXMuc2VsZWN0ZWRUYWdsaWFbaV0uY29kZSlcbiAgICAgIH1cbiAgICB9XG4gXG5cbiAgICBjb25zb2xlLmxvZyhcIlNlc3NvID0gXCIgKyBzZXNzbzIzICsgXCIgY2F0ZWdvcmllID0gXCIgKyBjYXRlZ29yaWUpO1xuICAgIGlmKHNlc3NvMjNbMF0gPT0gXCJNXCIpe1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXRlZ29yaWFcIiwgXCJ1b21vXCIpO1xuICAgIH1lbHNle1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXRlZ29yaWFcIiwgXCJkb25uYVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb2R1Y3RzU2VydmljZS5nZXRGaWx0ZXJlZFByb2R1Y3RzKGJyYW5kLCBjYXRlZ29yaWUsIHNlc3NvMjMsIHRhZ2xpZSkuc3Vic2NyaWJlKChwcm9kdWN0cyk9PntcbiAgICAgIHRoaXMucHJvZHVjdHMgPSBwcm9kdWN0c1xuXG5cbiAgICAgIGNvbnNvbGUubG9nKFwiUFJPRE9UVEkgPSBcIiArIHRoaXMucHJvZHVjdHMpXG5cbiAgICAgIGZvcihsZXQgaSA9IDA7IGk8dGhpcy5wcm9kdWN0cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9kdWN0c1tpXS5wcm9kdWN0SWQpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRklORDogICMjIyMjIyMjIyMjIyMjIyMjw4DDgCBcIiArIHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLnByb2R1Y3RzLCB0aGlzLnByb2R1Y3RzW2ldKSArIFwiICAgIFwiICsgdGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMucHJvZHVjdHMsIHRoaXMucHJvZHVjdHNbaV0pID09IG51bGwpXG5cbiAgICAgICAgICBpZih0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5maWx0ZXJlZCwgdGhpcy5wcm9kdWN0c1tpXSkgPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVEhJUyBPTkUgZG9zbid0IEFMUkVBRFkgRVhJU1Q6IFwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMucHJvZHVjdHMsIHRoaXMucHJvZHVjdHNbaV0pKSlcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWQucHVzaCh0aGlzLnByb2R1Y3RzW2ldKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZGRlZCB0byBmaWx0ZXJlZCA6IFwiICsgdGhpcy5maWx0ZXJlZC5sZW5ndGgpXG4gICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwiYSBxdWVzdG8gaW5kaWNlIFwiICsgaSArIFwiIGNlIG5lIHNvbm8gMiB1Z3VhbGlcIilcbiAgICAgICAvLyAgICAgdGhpcy5wcm9kdWN0cyA9dGhpcy5wcm9kdWN0cy5zcGxpY2UoaSwxKVxuICAgICAgICAgIH1cbiAgICAgICAgXG5cblxuICAgICAgfVxuXG4gICAgLy8gIHRoaXMuc2h1ZmZsZUFycmF5KHRoaXMucHJvZHVjdHMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsdGVyZWQpXG5cbiAgICAgIHRoaXMucHJvZHVjdE9uVGhpc1BhZ2UgPSB0aGlzLmZpbHRlcmVkLnNsaWNlKDAsICA4KTtcblxuICAgICAgaWYodGhpcy5wcm9kdWN0T25UaGlzUGFnZS5sZW5ndGggPT0gMCl7XG4gICAgICAgIHRoaXMubWVzc2FnZVNlcnZpY2UuYWRkKCAge3NldmVyaXR5Oid3YXJuaW5nJywgc3VtbWFyeTonTmVzc3VuIHByb2RvdHRvIHRyb3ZhdG8nLCBkZXRhaWw6J01vZGlmaWNhIGkgZmlsdHJpJ30pO1xuICAgICAgfVxuICBcblxuXG4gICAgICBcbiAgICAgIHRoaXMuZmlsdGVyZWRQcm9kdWN0cyA9IHRoaXMuZmlsdGVyZWQ7XG5cbiAgICAvLyAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnBhZ2luYXRvci5jaGFuZ2VQYWdlKDEpKTtcbiAgICAgIHRoaXMuZmlyc3QgPSAwO1xuICAgICAgXG4gICAgfSk7IFxuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0UHJvZHVjdHMoKSB7XG5cbiAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcmllcy5wdXNoKHRoaXMuY2F0ZWdvcnlJZClcblxuICAgIGNvbnNvbGUubG9nKFwiZmFjY2lvIGxhIHJpY2hpZXN0YSBnZXQgcHJvZHVjdHNcIilcblxuICAgIHN3aXRjaChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhdGVnb3JpYVwiKSkge1xuICAgICAgY2FzZSBcInVvbW9cIjpcbiAgICAgICAgdGhpcy5zZXggPSBcIk1cIlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb25uYVwiOlxuICAgICAgICB0aGlzLnNleCA9IFwiRlwiXG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gY29kZSBibG9ja1xuICAgIH1cblxuXG5cbiAgICB0aGlzLnByb2R1Y3RzU2VydmljZS5nZXRGaWx0ZXJlZFByb2R1Y3RzKG51bGwsIHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWVzLCBbdGhpcy5zZXhdLCBudWxsKS5zdWJzY3JpYmUoKHByb2R1Y3RzKT0+e1xuICAgICAgdGhpcy5wcm9kdWN0cyA9IHByb2R1Y3RzXG5cblxuICAgICAgY29uc29sZS5sb2coXCJQUk9ET1RUSSA9IFwiICsgdGhpcy5wcm9kdWN0cylcblxuICAgICAgZm9yKGxldCBpID0gMDsgaTx0aGlzLnByb2R1Y3RzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb2R1Y3RzW2ldLnByb2R1Y3RJZClcbiAgICAgICAgY29uc29sZS5sb2coXCJGSU5EOiAgIyMjIyMjIyMjIyMjIyMjIyPDgMOAIFwiICsgdGhpcy5maW5kU2FtZVByb2R1Y3RzKHRoaXMucHJvZHVjdHMsIHRoaXMucHJvZHVjdHNbaV0pICsgXCIgICAgXCIgKyB0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5wcm9kdWN0cywgdGhpcy5wcm9kdWN0c1tpXSkgPT0gbnVsbClcblxuICAgICAgICAgIGlmKHRoaXMuZmluZFNhbWVQcm9kdWN0cyh0aGlzLmZpbHRlcmVkLCB0aGlzLnByb2R1Y3RzW2ldKSA9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUSElTIE9ORSBkb3NuJ3QgQUxSRUFEWSBFWElTVDogXCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmZpbmRTYW1lUHJvZHVjdHModGhpcy5wcm9kdWN0cywgdGhpcy5wcm9kdWN0c1tpXSkpKVxuICAgICAgICAgICAgdGhpcy5maWx0ZXJlZC5wdXNoKHRoaXMucHJvZHVjdHNbaV0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImFkZGVkIHRvIGZpbHRlcmVkIDogXCIgKyB0aGlzLmZpbHRlcmVkLmxlbmd0aClcbiAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJhIHF1ZXN0byBpbmRpY2UgXCIgKyBpICsgXCIgY2UgbmUgc29ubyAyIHVndWFsaVwiKVxuICAgICAgIC8vICAgICB0aGlzLnByb2R1Y3RzID10aGlzLnByb2R1Y3RzLnNwbGljZShpLDEpXG4gICAgICAgICAgfVxuICAgICAgICBcblxuXG4gICAgICB9XG5cbiAgICAvLyAgdGhpcy5zaHVmZmxlQXJyYXkodGhpcy5wcm9kdWN0cyk7XG4gICAgY29uc29sZS5sb2codGhpcy5maWx0ZXJlZClcblxuICAgICAgdGhpcy5wcm9kdWN0T25UaGlzUGFnZSA9IHRoaXMuZmlsdGVyZWQuc2xpY2UoMCwgIDgpO1xuICAgICAgICBcbiAgICB9KTsgIFxuICBcbiAgfVxuXG5cbiAgZmluZFNhbWVQcm9kdWN0cyhwcm9kdWN0c0FycmF5LCBwcm9kdWN0SXRlbSkgOiBudW1iZXJ7XG4gICAgcmV0dXJuIHByb2R1Y3RzQXJyYXkuZmluZCgocHJvZG90dG8sIGluZGV4KSA9PiB7XG4gICAgIC8vIGNvbnNvbGUubG9nKFwiVmlzaXRlZCBpbmRleCBcIiwgaW5kZXgsIFwiIHdpdGggdiBhbHVlIFwiLCBwcm9kb3R0by5wcm9kdWN0SWQgKyBcIiBjb25mcm9udGF0byBjb24gXCIsIHByb2R1Y3RJdGVtLnByb2R1Y3RJZCArIFwiICAgXCIgKyAocHJvZG90dG8ucHJvZHVjdElkID09PSBwcm9kdWN0SXRlbS5wcm9kdWN0SWQpICsgXCIgaW5kaWNlIHZpc2l0YXRvIGhhIHF1ZXN0byBpZDogXCIgKyBwcm9kb3R0by5pZCArIFwiIHF1ZWxsbyBjb25mcm9udGF0byBoYSBxdWVzdG8gaWQgOiBcIiAgKyBwcm9kdWN0SXRlbS5pZCk7XG4gICAgICByZXR1cm4gKHByb2RvdHRvLnByb2R1Y3RJZCA9PT0gcHJvZHVjdEl0ZW0ucHJvZHVjdElkKSAmJiAocHJvZG90dG8uaWQgIT0gcHJvZHVjdEl0ZW0uaWQpXG5cbiAgICB9KTtcbiAgfVxuXG4gIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgW2FycmF5W2ldLCBhcnJheVtqXV0gPSBbYXJyYXlbal0sIGFycmF5W2ldXTtcbiAgICB9XG59XG5cblxuICBjYXRlZ29yeUZpbHRlcigpe1xuICAgIHRoaXMucHJvZHVjdHMgPSBbXTtcbiAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcmllcyA9IHRoaXMuY2F0ZWdvcmllcy5maWx0ZXIoKGNhdGVnb3J5KT0+IGNhdGVnb3J5LmNoZWNrZWQpLm1hcCgoY2F0ZWdvcnkpPT4gY2F0ZWdvcnkuaWQpXG4gICAgY29uc29sZS5sb2coXCJjYXRlZ29yaWUgPSBcIiArIHRoaXMuc2VsZWN0ZWRDYXRlZ29yaWVzKTtcbiAgICBcblxuXG4gICAgdGhpcy5wcm9kdWN0c1NlcnZpY2UuZ2V0RmlsdGVyZWRQcm9kdWN0cyhudWxsLCB0aGlzLnNlbGVjdGVkQ2F0ZWdvcmllcywgW3RoaXMuc2V4XSkuc3Vic2NyaWJlKChwcm9kdWN0cyk9PntcbiAgICAgIHRoaXMucHJvZHVjdHMgPSBwcm9kdWN0cztcbiAgIFxuICAgIH0pOyAgIFxuICAgIFxuICB9XG5cbn0iLCI8c2NyaXB0IHNyYz1cIi8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzIuMC4zL2pxdWVyeS5taW4uanNcIj48L3NjcmlwdD5cblxuXG4gIDxkaXYgY2xhc3M9XCJncmlkXCIgc3R5bGU9XCJqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIj5cbiAgICBcbiAgICA8ZGl2IGNsYXNzPVwicm93IGZpbHRlcnNcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgZC1mbGV4XCIgc3R5bGU9XCJqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIj5cbiAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgdy0xMDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgdy0xMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiIHN0eWxlPVwiaGVpZ2h0OiAyNDBweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vc2NpdXRpLml0L2ltbWFnaW5pL2NvcGVydGluZS9jb2xtYXItcGl1bWluaS1haTE3LWRlc2t0b3AuanBnKTsgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcIj5cbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyB3LTEwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCIgc3R5bGU9XCJmb250LXNpemU6IDI5cHg7IGxldHRlci1zcGFjaW5nOjJweDsgZm9udC13ZWlnaHQ6IDkwMDtcIj5cbiAgICAgICAgICAgICAgIDxoMT57e3RoaXMuY3VycmVudENhdGVnb3J5Lm5hbWV9fTwvaDE+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIFBETGRlc2NyaXB0aW9uXCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAxNDBweDsgb3ZlcmZsb3cteTphdXRvXCI+XG4gICAgICAgICAgICAgIDxwPkNhdGFsZG8sIGxlYWRlciBzdWwgbWVyY2F0byBpdGFsaWFubyBkYWwgMTk2NSwgdHJhdHRhIGkgbWFyY2hpIG1hZGUgaW4gaXRhbHkgY2hlIGhhbm5vIGZhdHRvIGxhIHN0b3JpYSwgbWFudGVuZW5kbyBxdWFsaXTDoCBlIHRyYWRpemlvbmU7IG1hIGFuY2hlIGkgYnJhbmRzIGdpb3ZhbmkgZSBuYXNjZW50aSwgZGlzdGluZ3VlbmRvc2kgcGVyIGlubm92YXppb25lIGUgbW9kZXJuaXTDoC4gIExhIG5vc3RyYSBzdG9yaWEgY2hlIHBhcnRlIGFnbGkgaW5pemkgZGVsIDE5MDAgZGFsbCdpbnR1aXppb25lIGUgZGFsbGEgcGFzc2lvbmUgZGkgQW5nZWxvIENhdGFsZG8gYXByZW5kbyBpbCBub3N0cm8gcHJpbW8gcHVudG8gdmVuZGl0YSBhIFBhbGVybW8uPC9wPlxuICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyB3LTEwMFwiIGlkPVwiZmlsdHJpXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNCBjb2wtNlwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibS0wXCIgc3R5bGU9XCJjb2xvcjogcmdiKDUyLCA1MiwgNTIpOyBsZXR0ZXItc3BhY2luZzogMnB4OyBmb250LXdlaWdodDogNzAwO1wiPkdlbmVyZTwvcD5cbiAgICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCAob25DaGFuZ2UpPVwic2VhcmNoKCRldmVudClcIiAgZGVmYXVsdExhYmVsPVwiR2VuZXJlXCIgW29wdGlvbnNdPVwic2Vzc29cIiBbKG5nTW9kZWwpXT1cInNlbGVjdGVkU2V4XCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgZGlzcGxheT1cImNoaXBcIiAgW3N0eWxlXT1cInsnd2lkdGgnOicxMDAlJ31cIlxuICAgICAgICAgICAgICBbcGFuZWxTdHlsZV09XCJ7J3dpZHRoJzonNDAwcHgnfVwiPjwvcC1tdWx0aVNlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC00IGNvbC02XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtLTBcIiBzdHlsZT1cImNvbG9yOiByZ2IoNTIsIDUyLCA1Mik7IGxldHRlci1zcGFjaW5nOiAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7XCI+Q2F0ZWdvcmllPC9wPlxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IChvbkNoYW5nZSk9XCJzZWFyY2goJGV2ZW50KVwiICBkZWZhdWx0TGFiZWw9XCJDYXRlZ29yaWFcIiBbb3B0aW9uc109XCJjYXRlZ29yaWFcIiBbKG5nTW9kZWwpXT1cInNlbGVjdGVkQ2F0ZWdvcmlhXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgZGlzcGxheT1cImNoaXBcIiAgW3N0eWxlXT1cInsnd2lkdGgnOicxMDAlJ31cIlxuICAgICAgICAgICAgICAgIFtwYW5lbFN0eWxlXT1cInsnd2lkdGgnOic0MDBweCd9XCI+PC9wLW11bHRpU2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTQgY29sLTZcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm0tMFwiIHN0eWxlPVwiY29sb3I6IHJnYig1MiwgNTIsIDUyKTsgbGV0dGVyLXNwYWNpbmc6IDJweDsgZm9udC13ZWlnaHQ6IDcwMDtcIj5CcmFuZDwvcD5cbiAgICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCAob25DaGFuZ2UpPVwic2VhcmNoKCRldmVudClcIiAgZGVmYXVsdExhYmVsPVwiQnJhbmRcIiBbb3B0aW9uc109XCJicmFuZFwiIFsobmdNb2RlbCldPVwic2VsZWN0ZWRCcmFuZFwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIGRpc3BsYXk9XCJjaGlwXCIgIFtzdHlsZV09XCJ7J3dpZHRoJzonMTAwJSd9XCJcbiAgICAgICAgICAgICAgICBbcGFuZWxTdHlsZV09XCJ7J3dpZHRoJzonNDAwcHgnfVwiPjwvcC1tdWx0aVNlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMyBjb2wtNlwiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtLTBcIiBzdHlsZT1cImNvbG9yOiByZ2IoNTIsIDUyLCA1Mik7IGxldHRlci1zcGFjaW5nOiAycHg7IGZvbnQtd2VpZ2h0OiA3MDA7XCI+VGFnbGllPC9wPlxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IChvbkNoYW5nZSk9XCJzZWFyY2goJGV2ZW50KVwiICBkZWZhdWx0TGFiZWw9XCJUYWdsaWFcIiBbb3B0aW9uc109XCJ0YWdsaWFcIiBbKG5nTW9kZWwpXT1cInNlbGVjdGVkVGFnbGlhXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgZGlzcGxheT1cImNoaXBcIiAgW3N0eWxlXT1cInsnd2lkdGgnOicxMDAlJ31cIlxuICAgICAgICAgICAgICAgIFtwYW5lbFN0eWxlXT1cInsnd2lkdGgnOic0MDBweCd9XCI+PC9wLW11bHRpU2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBcblxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIiBzdHlsZT1cImp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPiAgICA8cC1wYWdpbmF0b3IgW3Jvd3NdPVwiMVwiIChvblBhZ2VDaGFuZ2UpPVwiY2hhbmdlUGFnZSgkZXZlbnQpXCJbdG90YWxSZWNvcmRzXT1cImZpbHRlcmVkLmxlbmd0aC84XCIgW2ZpcnN0XSA9ICdmaXJzdCc+PC9wLXBhZ2luYXRvcj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIHAtMVwiICBzdHlsZT1cIm1heC13aWR0aDogMTMzMHB4O1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImdyaWQgbW9iaWxlUHJvZExpc3RHcmlkXCIgc3R5bGU9XCJqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIiAgKm5nSWY9XCJwcm9kdWN0T25UaGlzUGFnZVwiID5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1hdXRvIG1vYmlsZVByb2RMaXN0IHAtMFwiICpuZ0Zvcj1cImxldCBwcm9kdWN0IG9mIHByb2R1Y3RPblRoaXNQYWdlXCIgPlxuXG4gICAgICAgICAgPGVzaG9wLWZyb250ZW5kLXByb2R1Y3QtaXRlbSBbcHJvZHVjdF09XCJwcm9kdWN0XCIgPjwvZXNob3AtZnJvbnRlbmQtcHJvZHVjdC1pdGVtPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG4gICAgICA8cC1tZXNzYWdlcyBzZXZlcml0eT1cImVycm9yXCIgICpuZ0lmPVwicHJvZHVjdE9uVGhpc1BhZ2UubGVuZ3RoPT0wXCI+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSBwVGVtcGxhdGUgc3R5bGU9XCJqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIj5cbiAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Rhbmdlci5zdmdcIiB3aWR0aD1cIjg2XCIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtbC0yXCIgc3R5bGU9XCJmb250LXdlaWdodDogNTAwOyBmb250LXNpemU6IGxhcmdlO1wiPjxwPk5lc3N1biByaXN1bHRhdG8gdHJvdmF0by48L3A+PHA+UHJvdmEgYSBtb2RpZmljYXJlIGkgZmlsdHJpIGRpIHJpY2VyY2E8L3A+PC9kaXY+XG4gICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgPC9wLW1lc3NhZ2VzPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiJdfQ==