export class ProductLuca {
    constructor() {
        this.images = [];
        this.variants = [];
    }
    setImg(img) {
        this.mainImage = img;
    }
    setVariant(variant) {
        variant.setMainProductImage(this.mainImage);
        variant.setMainProductName(this.name);
        this.variants.push(variant);
    }
    /**
     * Aggiunge una variante di un prodotto
     * @param variant la variante da aggiungere
     * @param quantity la quantita da aggiungere
     * Se la variante esiste già, ne incrementa la quantita, altrimenti aggiunge una nuova variante
     */
    addVariant(variant, quantity) {
        variant.setMainProductImage(this.mainImage);
        variant.setMainProductName(this.name);
        console.log("adding this quantity: " + quantity);
        if (this.containsVariant(variant)) {
            let index = this.variants.findIndex(p => p.getId() == variant.getId());
            console.log("items available in the inventory =  " + this.variants[index].getInventory());
            console.log("adding this quantity: " + (this.variants[index].getSelected() + quantity));
            this.variants[index].addSelected(quantity);
            console.log("ok");
            return;
        }
        else {
            variant.setSelected(quantity);
            this.variants.push(variant);
        }
    }
    addVariantNoQuantity(variant) {
        variant.setMainProductImage(this.mainImage);
        variant.setMainProductName(this.name);
        this.variants.push(variant);
    }
    removeVariant(variant) {
        let index = this.variants.findIndex(product => product.getId() == variant.getId());
        this.variants.splice(index, 1);
    }
    getVariant(variant) {
        let index = this.variants.findIndex(product => product.getId() == variant.getId());
        return this.variants[index];
    }
    getVariantBySize(size) {
        let index = this.variants.findIndex(product => product.getSize() === size);
        return this.variants[index];
    }
    getVariants() {
        return this.variants;
    }
    getId() {
        return this.id;
    }
    getName() {
        return this.name;
    }
    getDiscount() {
        return this.discount;
    }
    getJson() {
        return JSON.stringify(this);
    }
    getPricec() {
        return this.price;
    }
    setId(id) {
        this.id = id;
    }
    setDiscount(discount) {
        this.discount = discount;
    }
    setPrice(price) {
        this.price = price;
    }
    setTheMainImage(mainImage) {
        this.mainImage = mainImage;
    }
    getMainImage() {
        return this.mainImage;
    }
    addImage(image) {
        this.images.push(image);
    }
    setName(name) {
        this.name = name;
    }
    /**
     * metodo che controlla la presenza o meno di una variante
     * @param productVariant variante da controllare
     * @returns restituisce true se la variant è gia presente nel prodotto, false altrimenti
     */
    containsVariant(productVariant) {
        let contains = false;
        //  console.log("product = " + this.getJson());
        this.variants.forEach(element => {
            if (element.getId().match(productVariant.getId()) != null) {
                contains = true;
                return;
            }
        });
        return contains;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdEx1Y2EuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL3VzZXJzL3NyYy9saWIvbW9kZWxzL3Byb2R1Y3RMdWNhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxXQUFXO0lBY3BCO1FBR0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFFdkIsQ0FBQztJQUdNLE1BQU0sQ0FBQyxHQUFRO1FBQ2xCLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO0lBQ3pCLENBQUM7SUFHTSxVQUFVLENBQUMsT0FBdUI7UUFDdkMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM1QyxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFDRDs7Ozs7T0FLRztJQUdJLFVBQVUsQ0FBQyxPQUF1QixFQUFFLFFBQWdCO1FBQ3pELE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDNUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixHQUFHLFFBQVEsQ0FBQyxDQUFDO1FBRWpELElBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsRUFBQztZQUMvQixJQUFJLEtBQUssR0FBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztZQUN4RSxPQUFP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QUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBQ00sWUFBWTtRQUNmLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBQ00sUUFBUSxDQUFDLEtBQVk7UUFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUNNLE9BQU8sQ0FBQyxJQUFXO1FBQ3RCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksZUFBZSxDQUFDLGNBQThCO1FBQ2pELElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN2QiwrQ0FBK0M7UUFDN0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDNUIsSUFBRyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRTtnQkFDdEQsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDaEIsT0FBTzthQUNWO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLFFBQVEsQ0FBQztJQUNwQixDQUFDO0NBS0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9kdWN0VmFyaWFudCB9IGZyb20gXCIuL3Byb2R1Y3RWYXJpYW50XCI7XG5cbmV4cG9ydCBjbGFzcyBQcm9kdWN0THVjYXtcblxuXG4gICAgcHJpdmF0ZSBuYW1lOnN0cmluZztcbiAgICAvKippZCBkZWwgcHJvZG90dG8gKi9cbiAgICBwcml2YXRlIGlkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBkaXNjb3VudDogbnVtYmVyO1xuICAgIHByaXZhdGUgcHJpY2U6IG51bWJlcjtcbiAgICBwdWJsaWMgbWFpbkltYWdlIDogc3RyaW5nO1xuICAgIHByaXZhdGUgaW1hZ2VzIDogc3RyaW5nW107XG4gICAgcHVibGljIHZhcmlhbnRzIDogUHJvZHVjdFZhcmlhbnRbXTtcblxuXG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuXG5cbiAgICAgICAgdGhpcy5pbWFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuXG4gICAgfVxuXG5cbiAgICBwdWJsaWMgc2V0SW1nKGltZzogYW55KTp2b2lke1xuICAgICAgICB0aGlzLm1haW5JbWFnZSA9IGltZztcbiAgICB9XG5cblxuICAgIHB1YmxpYyBzZXRWYXJpYW50KHZhcmlhbnQ6IFByb2R1Y3RWYXJpYW50KTp2b2lke1xuICAgICAgdmFyaWFudC5zZXRNYWluUHJvZHVjdEltYWdlKHRoaXMubWFpbkltYWdlKTtcbiAgICAgIHZhcmlhbnQuc2V0TWFpblByb2R1Y3ROYW1lKHRoaXMubmFtZSk7XG4gICAgICAgIHRoaXMudmFyaWFudHMucHVzaCh2YXJpYW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWdnaXVuZ2UgdW5hIHZhcmlhbnRlIGRpIHVuIHByb2RvdHRvXG4gICAgICogQHBhcmFtIHZhcmlhbnQgbGEgdmFyaWFudGUgZGEgYWdnaXVuZ2VyZVxuICAgICAqIEBwYXJhbSBxdWFudGl0eSBsYSBxdWFudGl0YSBkYSBhZ2dpdW5nZXJlXG4gICAgICogU2UgbGEgdmFyaWFudGUgZXNpc3RlIGdpw6AsIG5lIGluY3JlbWVudGEgbGEgcXVhbnRpdGEsIGFsdHJpbWVudGkgYWdnaXVuZ2UgdW5hIG51b3ZhIHZhcmlhbnRlXG4gICAgICovXG5cblxuICAgIHB1YmxpYyBhZGRWYXJpYW50KHZhcmlhbnQ6IFByb2R1Y3RWYXJpYW50LCBxdWFudGl0eTogbnVtYmVyKSA6dm9pZCB7XG4gICAgICB2YXJpYW50LnNldE1haW5Qcm9kdWN0SW1hZ2UodGhpcy5tYWluSW1hZ2UpO1xuICAgICAgdmFyaWFudC5zZXRNYWluUHJvZHVjdE5hbWUodGhpcy5uYW1lKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJhZGRpbmcgdGhpcyBxdWFudGl0eTogXCIgKyBxdWFudGl0eSk7XG5cbiAgICAgICAgaWYodGhpcy5jb250YWluc1ZhcmlhbnQodmFyaWFudCkpe1xuICAgICAgICAgIGxldCBpbmRleCA9ICB0aGlzLnZhcmlhbnRzLmZpbmRJbmRleChwID0+IHAuZ2V0SWQoKSA9PSB2YXJpYW50LmdldElkKCkpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiaXRlbXMgYXZhaWxhYmxlIGluIHRoZSBpbnZlbnRvcnkgPSAgXCIgKyAgIHRoaXMudmFyaWFudHNbaW5kZXhdLmdldEludmVudG9yeSgpKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImFkZGluZyB0aGlzIHF1YW50aXR5OiBcIiArICh0aGlzLnZhcmlhbnRzW2luZGV4XS5nZXRTZWxlY3RlZCgpICsgcXVhbnRpdHkpKTtcbiAgICAgICAgICB0aGlzLnZhcmlhbnRzW2luZGV4XS5hZGRTZWxlY3RlZCggcXVhbnRpdHkpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwib2tcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgdmFyaWFudC5zZXRTZWxlY3RlZChxdWFudGl0eSk7XG4gICAgICAgIHRoaXMudmFyaWFudHMucHVzaCh2YXJpYW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHVibGljIGFkZFZhcmlhbnROb1F1YW50aXR5KHZhcmlhbnQ6IFByb2R1Y3RWYXJpYW50KSA6dm9pZCB7XG4gICAgICB2YXJpYW50LnNldE1haW5Qcm9kdWN0SW1hZ2UodGhpcy5tYWluSW1hZ2UpO1xuICAgICAgdmFyaWFudC5zZXRNYWluUHJvZHVjdE5hbWUodGhpcy5uYW1lKTtcbiAgICAgICAgdGhpcy52YXJpYW50cy5wdXNoKHZhcmlhbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVWYXJpYW50KHZhcmlhbnQ6IFByb2R1Y3RWYXJpYW50KSA6dm9pZCB7XG4gICAgICBsZXQgaW5kZXggPSAgdGhpcy52YXJpYW50cy5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0LmdldElkKCkgPT0gdmFyaWFudC5nZXRJZCgpKTtcbiAgICAgIHRoaXMudmFyaWFudHMuc3BsaWNlKGluZGV4LDEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYXJpYW50KHZhcmlhbnQ6IFByb2R1Y3RWYXJpYW50KSA6UHJvZHVjdFZhcmlhbnQge1xuICAgICAgICBsZXQgaW5kZXggPSAgdGhpcy52YXJpYW50cy5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0LmdldElkKCkgPT0gdmFyaWFudC5nZXRJZCgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudHNbaW5kZXhdO1xuICAgIH1cblxuXG5cblxuICAgIHB1YmxpYyBnZXRWYXJpYW50QnlTaXplKHNpemU6YW55KSA6UHJvZHVjdFZhcmlhbnQge1xuICAgICAgICBsZXQgaW5kZXggPSAgdGhpcy52YXJpYW50cy5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0LmdldFNpemUoKSA9PT0gc2l6ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnRzW2luZGV4XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFyaWFudHMoKSA6UHJvZHVjdFZhcmlhbnRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJZCgpIDpTdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TmFtZSgpIDpzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREaXNjb3VudCgpIDpudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNjb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SnNvbigpIDogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQcmljZWMoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnByaWNlO1xuICAgIH1cblxuXG4gICAgcHVibGljIHNldElkKGlkOnN0cmluZyl7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG4gICAgcHVibGljIHNldERpc2NvdW50KGRpc2NvdW50Om51bWJlcil7XG4gICAgICAgIHRoaXMuZGlzY291bnQ9ZGlzY291bnQ7XG4gICAgfVxuICAgIHB1YmxpYyBzZXRQcmljZShwcmljZTpudW1iZXIpe1xuICAgICAgICB0aGlzLnByaWNlPXByaWNlO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0VGhlTWFpbkltYWdlKG1haW5JbWFnZTpzdHJpbmcpe1xuICAgICAgICB0aGlzLm1haW5JbWFnZSA9IG1haW5JbWFnZTtcbiAgICB9XG4gICAgcHVibGljIGdldE1haW5JbWFnZSgpOnN0cmluZ3tcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbkltYWdlO1xuICAgIH1cbiAgICBwdWJsaWMgYWRkSW1hZ2UoaW1hZ2U6c3RyaW5nKXtcbiAgICAgICAgdGhpcy5pbWFnZXMucHVzaChpbWFnZSk7XG4gICAgfVxuICAgIHB1YmxpYyBzZXROYW1lKG5hbWU6c3RyaW5nKXtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtZXRvZG8gY2hlIGNvbnRyb2xsYSBsYSBwcmVzZW56YSBvIG1lbm8gZGkgdW5hIHZhcmlhbnRlXG4gICAgICogQHBhcmFtIHByb2R1Y3RWYXJpYW50IHZhcmlhbnRlIGRhIGNvbnRyb2xsYXJlXG4gICAgICogQHJldHVybnMgcmVzdGl0dWlzY2UgdHJ1ZSBzZSBsYSB2YXJpYW50IMOoIGdpYSBwcmVzZW50ZSBuZWwgcHJvZG90dG8sIGZhbHNlIGFsdHJpbWVudGlcbiAgICAgKi9cbiAgICBwdWJsaWMgY29udGFpbnNWYXJpYW50KHByb2R1Y3RWYXJpYW50OiBQcm9kdWN0VmFyaWFudCk6IGJvb2xlYW57XG4gICAgICAgIGxldCBjb250YWlucyA9IGZhbHNlO1xuICAgICAgLy8gIGNvbnNvbGUubG9nKFwicHJvZHVjdCA9IFwiICsgdGhpcy5nZXRKc29uKCkpO1xuICAgICAgICB0aGlzLnZhcmlhbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZihlbGVtZW50LmdldElkKCkubWF0Y2gocHJvZHVjdFZhcmlhbnQuZ2V0SWQoKSkgIT0gbnVsbCApe1xuICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWlucztcbiAgICB9XG5cblxuXG5cbn1cbiJdfQ==