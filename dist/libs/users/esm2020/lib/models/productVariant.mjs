export class ProductVariant {
    constructor(id, size, inventory, selected, barcode) {
        this.id = id;
        this.size = size;
        this.inventory = inventory;
        this.maxInventory = inventory;
        this.selected = selected;
        this.barcode = barcode;
    }
    setMainProductName(name) {
        this.mainProductName = name;
    }
    setMainProductImage(image) {
        this.mainProductImage = image;
    }
    setMainProductBrand(brand) {
        this.mainProductBrand = brand;
    }
    /**
     * Incrementa il numero di prodotti di questa variante selezionati
     */
    addProduct() {
        if (this.inventory - (this.selected + 1) <= 0) {
            throw new Error("Not enough items in the inventory");
        }
        this.selected++;
        this.inventory = this.inventory - this.selected;
    }
    getId() {
        return this.id;
    }
    getMaxInventory() {
        return this.maxInventory;
    }
    getInventory() {
        return this.inventory;
    }
    getSize() {
        return this.size;
    }
    getJson() {
        return JSON.stringify(this);
    }
    setId(id) {
        this.id = id;
    }
    setSize(size) {
        this.size = size;
    }
    setInventory(inventory) {
        this.inventory = inventory;
    }
    setSelected(select) {
        if (this.inventory - (this.selected + select) < 0) {
            throw new Error("Not enough items in the inventory");
        }
        this.selected = select;
        this.inventory = this.inventory - this.selected;
    }
    setSelectedAndUpdateInventory(select) {
        console.log("actual inventory = " + this.inventory + " actual selected items = " + this.selected + " new selected items = " + select);
        if (select >= this.selected) {
            //aggiungo items nell inventario
            this.inventory = this.selected;
            this.selected = select;
        }
        else {
            //tolgo items dall'inventario
            this.inventory = this.selected;
            this.selected = select;
        }
    }
    addSelected(select) {
        if ((this.inventory - select) < 0) {
            throw new Error("Not enough items in the inventory");
        }
        this.selected += select;
        this.inventory = this.inventory - select;
    }
    adminSetSelected(select) {
        this.selected = select;
    }
    getSelected() {
        return this.selected;
    }
    setBarcode(barcode) {
        this.barcode = barcode;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdFZhcmlhbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL3VzZXJzL3NyYy9saWIvbW9kZWxzL3Byb2R1Y3RWYXJpYW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxjQUFjO0lBY3ZCLFlBQVksRUFBUyxFQUFFLElBQVMsRUFBRSxTQUFpQixFQUFFLFFBQWdCLEVBQUUsT0FBYztRQUNqRixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxZQUFZLEdBQUcsU0FBUyxDQUFDO1FBQzlCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFHTSxrQkFBa0IsQ0FBQyxJQUFZO1FBQ3BDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO0lBQzlCLENBQUM7SUFDTSxtQkFBbUIsQ0FBQyxLQUFhO1FBQ3RDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7SUFDaEMsQ0FBQztJQUNNLG1CQUFtQixDQUFDLEtBQWE7UUFDdEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBR0Q7O09BRUc7SUFDSSxVQUFVO1FBQ2IsSUFBRyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRSxDQUFDLENBQUMsSUFBRSxDQUFDLEVBQUM7WUFDdEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBRWhCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBRXBELENBQUM7SUFFTSxLQUFLO1FBQ1IsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFDTSxlQUFlO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUM3QixDQUFDO0lBRU0sWUFBWTtRQUNmLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBQ00sT0FBTztRQUNWLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztJQUNyQixDQUFDO0lBRU0sT0FBTztRQUVWLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0sS0FBSyxDQUFDLEVBQVM7UUFDbEIsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUNNLE9BQU8sQ0FBQyxJQUFRO1FBQ25CLElBQUksQ0FBQyxJQUFJLEdBQUMsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFDTSxZQUFZLENBQUMsU0FBZ0I7UUFDaEMsSUFBSSxDQUFDLFNBQVMsR0FBQyxTQUFTLENBQUM7SUFDN0IsQ0FBQztJQUNNLFdBQVcsQ0FBQyxNQUFhO1FBRTVCLElBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUMsQ0FBQyxFQUFDO1lBQzNDLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztTQUN4RDtRQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBRXBELENBQUM7SUFFTSw2QkFBNkIsQ0FBQyxNQUFhO1FBQzlDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRywyQkFBMkIsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLHdCQUF3QixHQUFHLE1BQU0sQ0FBQyxDQUFDO1FBRXRJLElBQUcsTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUM7WUFDdkIsZ0NBQWdDO1lBRWhDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztTQUMxQjthQUFJO1lBQ0QsNkJBQTZCO1lBRTdCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztTQUMxQjtJQUVMLENBQUM7SUFHTSxXQUFXLENBQUMsTUFBYTtRQUU1QixJQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBSSxNQUFNLENBQUMsR0FBQyxDQUFDLEVBQUM7WUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLFFBQVEsSUFBSSxNQUFNLENBQUM7UUFDeEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztJQUU3QyxDQUFDO0lBRU0sZ0JBQWdCLENBQUMsTUFBYTtRQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztJQUczQixDQUFDO0lBQ00sV0FBVztRQUNkLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUl6QixDQUFDO0lBQ00sVUFBVSxDQUFDLE9BQWM7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDM0IsQ0FBQztDQUdKIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFByb2R1Y3RWYXJpYW50e1xyXG5cclxuICAgICAvKippZCBkZWxsYSB2YXJpYW50ZSBkZWwgcHJvZG90dG8gKi9cclxuICAgIHByaXZhdGUgaWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgc2l6ZTogYW55O1xyXG4gICAgcHJpdmF0ZSBpbnZlbnRvcnk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgc2VsZWN0ZWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBtYXhJbnZlbnRvcnk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgYmFyY29kZTogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgbWFpblByb2R1Y3ROYW1lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIG1haW5Qcm9kdWN0SW1hZ2U6IHN0cmluZztcclxuICAgIHByaXZhdGUgbWFpblByb2R1Y3RCcmFuZDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOnN0cmluZywgc2l6ZTogYW55LCBpbnZlbnRvcnk6IG51bWJlciwgc2VsZWN0ZWQ6IG51bWJlciwgYmFyY29kZTpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgICAgIHRoaXMuaW52ZW50b3J5ID0gaW52ZW50b3J5O1xyXG4gICAgICAgIHRoaXMubWF4SW52ZW50b3J5ID0gaW52ZW50b3J5O1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZDtcclxuICAgICAgICB0aGlzLmJhcmNvZGUgPSBiYXJjb2RlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc2V0TWFpblByb2R1Y3ROYW1lKG5hbWU6IHN0cmluZykgOiB2b2lke1xyXG4gICAgICB0aGlzLm1haW5Qcm9kdWN0TmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0TWFpblByb2R1Y3RJbWFnZShpbWFnZTogc3RyaW5nKSA6IHZvaWR7XHJcbiAgICAgIHRoaXMubWFpblByb2R1Y3RJbWFnZSA9IGltYWdlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldE1haW5Qcm9kdWN0QnJhbmQoYnJhbmQ6IHN0cmluZykgOiB2b2lke1xyXG4gICAgICB0aGlzLm1haW5Qcm9kdWN0QnJhbmQgPSBicmFuZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbmNyZW1lbnRhIGlsIG51bWVybyBkaSBwcm9kb3R0aSBkaSBxdWVzdGEgdmFyaWFudGUgc2VsZXppb25hdGlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkZFByb2R1Y3QoKSA6dm9pZCB7XHJcbiAgICAgICAgaWYodGhpcy5pbnZlbnRvcnkgLSAodGhpcy5zZWxlY3RlZCArMSk8PTApe1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGl0ZW1zIGluIHRoZSBpbnZlbnRvcnlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQrKztcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnkgPSB0aGlzLmludmVudG9yeSAtIHRoaXMuc2VsZWN0ZWQ7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJZCgpIDpzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldE1heEludmVudG9yeSgpIDpudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1heEludmVudG9yeTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW52ZW50b3J5KCkgOm51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52ZW50b3J5O1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldFNpemUoKSA6YW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRKc29uKCk6c3RyaW5ne1xyXG5cclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldElkKGlkOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldFNpemUoc2l6ZTphbnkpe1xyXG4gICAgICAgIHRoaXMuc2l6ZT1zaXplO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldEludmVudG9yeShpbnZlbnRvcnk6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLmludmVudG9yeT1pbnZlbnRvcnk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0Om51bWJlcil7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuaW52ZW50b3J5IC0gKHRoaXMuc2VsZWN0ZWQgKyBzZWxlY3QpPDApe1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGl0ZW1zIGluIHRoZSBpbnZlbnRvcnlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3Q7XHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnkgPSB0aGlzLmludmVudG9yeSAtIHRoaXMuc2VsZWN0ZWQ7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZEFuZFVwZGF0ZUludmVudG9yeShzZWxlY3Q6bnVtYmVyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFjdHVhbCBpbnZlbnRvcnkgPSBcIiArIHRoaXMuaW52ZW50b3J5ICsgXCIgYWN0dWFsIHNlbGVjdGVkIGl0ZW1zID0gXCIgKyB0aGlzLnNlbGVjdGVkICsgXCIgbmV3IHNlbGVjdGVkIGl0ZW1zID0gXCIgKyBzZWxlY3QpO1xyXG5cclxuICAgICAgICBpZihzZWxlY3QgPj0gdGhpcy5zZWxlY3RlZCl7XHJcbiAgICAgICAgICAgIC8vYWdnaXVuZ28gaXRlbXMgbmVsbCBpbnZlbnRhcmlvXHJcblxyXG4gICAgICAgICAgICB0aGlzLmludmVudG9yeSA9IHRoaXMuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3Q7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vdG9sZ28gaXRlbXMgZGFsbCdpbnZlbnRhcmlvXHJcblxyXG4gICAgICAgICAgICB0aGlzLmludmVudG9yeSA9IHRoaXMuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGFkZFNlbGVjdGVkKHNlbGVjdDpudW1iZXIpe1xyXG5cclxuICAgICAgICBpZigodGhpcy5pbnZlbnRvcnkgLSAgc2VsZWN0KTwwKXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBpdGVtcyBpbiB0aGUgaW52ZW50b3J5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlbGVjdGVkICs9IHNlbGVjdDtcclxuICAgICAgICB0aGlzLmludmVudG9yeSA9IHRoaXMuaW52ZW50b3J5IC0gc2VsZWN0O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRtaW5TZXRTZWxlY3RlZChzZWxlY3Q6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0O1xyXG5cclxuXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0U2VsZWN0ZWQoKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0QmFyY29kZShiYXJjb2RlOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5iYXJjb2RlID0gYmFyY29kZTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcbiJdfQ==